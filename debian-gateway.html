<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="rgba(0,0,0,0)"><meta name="generator" content="Hexo 6.3.0">

<link rel="preconnect" href="//fonts.loli.net" crossorigin>
<link rel="preconnect" href="null//null" crossorigin>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="rgba(0,0,0,0)">
  <link rel="manifest" href="/manifest.json">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.loli.net/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-center-atom.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"blog.k8s.li","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"buttons","active":"disqus","storage":true,"lazyload":false,"nav":{"disqus":{"text":"Load Disqus","order":-1}},"activeClass":"disqus"},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="ESXi é€æ˜ä»£ç†è™šæ‹Ÿæœºå¼ƒå‘äº†ï¼Œå¤ªé¸¡å„¿éš¾ç”¨äº† ğŸ˜¡ï¼Œè¿˜æ˜¯ä½¿ç”¨äº† LEDE è½¯è·¯ç”± 0. é¡¹ç›®èƒŒæ™¯ç”±äºå·¥ä½œçš„ç¯å¢ƒæ˜¯ ESXi ï¼Œä¸Šé¢è¿è¡Œç€ä¸€å †è™šæ‹Ÿæœºï¼Œç”¨æ¥åšéƒ¨ç½²æ–¹æ¡ˆæµ‹è¯•ä½¿ç”¨ã€‚å› ä¸ºè¦ç»å¸¸è®¿é—® GitHub ä»¥åŠè¦å» gcr.k8s.io  ä¸Šæ‹‰å»é•œåƒï¼›è€Œä¸”åœ¨å†™ Dockerfile build é•œåƒçš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦å» GitHub ä¸‹è½½ release åŒ…ï¼›ä½¿ç”¨ helm åˆå§‹åŒ–æ—¶éœ€è¦çš„ docker">
<meta property="og:type" content="blog">
<meta property="og:title" content="æ“ä¸€ä¸ª Debian é€æ˜ä»£ç†&#x2F;æ—è·¯ç½‘å…³ è™šæ‹Ÿæœº">
<meta property="og:url" content="https://blog.k8s.li/debian-gateway.html">
<meta property="og:site_name" content="Reimu&#39;s blog">
<meta property="og:description" content="ESXi é€æ˜ä»£ç†è™šæ‹Ÿæœºå¼ƒå‘äº†ï¼Œå¤ªé¸¡å„¿éš¾ç”¨äº† ğŸ˜¡ï¼Œè¿˜æ˜¯ä½¿ç”¨äº† LEDE è½¯è·¯ç”± 0. é¡¹ç›®èƒŒæ™¯ç”±äºå·¥ä½œçš„ç¯å¢ƒæ˜¯ ESXi ï¼Œä¸Šé¢è¿è¡Œç€ä¸€å †è™šæ‹Ÿæœºï¼Œç”¨æ¥åšéƒ¨ç½²æ–¹æ¡ˆæµ‹è¯•ä½¿ç”¨ã€‚å› ä¸ºè¦ç»å¸¸è®¿é—® GitHub ä»¥åŠè¦å» gcr.k8s.io  ä¸Šæ‹‰å»é•œåƒï¼›è€Œä¸”åœ¨å†™ Dockerfile build é•œåƒçš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦å» GitHub ä¸‹è½½ release åŒ…ï¼›ä½¿ç”¨ helm åˆå§‹åŒ–æ—¶éœ€è¦çš„ docker">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://p.k8s.li/1566567341680.png">
<meta property="og:image" content="https://p.k8s.li/1566566813113.png">
<meta property="og:image" content="https://p.k8s.li/1566566775553.png">
<meta property="og:image" content="https://p.k8s.li/1566567116544.png">
<meta property="og:image" content="https://p.k8s.li/1566565577328.png">
<meta property="og:image" content="https://p.k8s.li/1566565631398.png">
<meta property="article:published_time" content="2019-06-29T16:00:00.000Z">
<meta property="article:modified_time" content="2023-04-16T14:22:56.237Z">
<meta property="article:author" content="Reimu">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Debian">
<meta property="article:tag" content="proxy">
<meta property="article:tag" content="ç§‘å­¦ä¸Šç½‘">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://p.k8s.li/1566567341680.png">


<link rel="canonical" href="https://blog.k8s.li/debian-gateway.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://blog.k8s.li/debian-gateway.html","path":"debian-gateway.html","title":"æ“ä¸€ä¸ª Debian é€æ˜ä»£ç†/æ—è·¯ç½‘å…³ è™šæ‹Ÿæœº"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>æ“ä¸€ä¸ª Debian é€æ˜ä»£ç†/æ—è·¯ç½‘å…³ è™šæ‹Ÿæœº | Reimu's blog</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Reimu's blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Reimu's blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-books"><a href="https://reading.k8s.li/" rel="noopener" target="_blank"><i class="fa fa-book fa-fw"></i>Books</a></li><li class="menu-item menu-item-kindle"><a href="https://kindle.k8s.li/" rel="noopener" target="_blank"><i class="fa fa-swatchbook fa-fw"></i>Kindle</a></li><li class="menu-item menu-item-friend"><a href="/friends.html" rel="section"><i class="fa fa-link fa-fw"></i>Friend</a></li><li class="menu-item menu-item-about"><a href="/about.html" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#ESXi-%E9%80%8F%E6%98%8E%E4%BB%A3%E7%90%86%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-number">1.</span> <span class="nav-text">ESXi é€æ˜ä»£ç†è™šæ‹Ÿæœº</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0-%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF"><span class="nav-number">2.</span> <span class="nav-text">0. é¡¹ç›®èƒŒæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%AE%9E%E7%8E%B0%E5%8A%9F%E8%83%BD"><span class="nav-number">3.</span> <span class="nav-text">1.å®ç°åŠŸèƒ½</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%AE%9E%E7%8E%B0%E6%95%88%E6%9E%9C"><span class="nav-number">4.</span> <span class="nav-text">2. å®ç°æ•ˆæœ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-wget-%E4%B8%8B%E8%BD%BD-GitHub-release-%E4%B8%8A%E7%9A%84%E6%96%87%E4%BB%B6%EF%BC%8C%E4%BB%A5-Linux-%E4%B8%BA%E4%BE%8B"><span class="nav-number">4.1.</span> <span class="nav-text">1. wget ä¸‹è½½ GitHub release ä¸Šçš„æ–‡ä»¶ï¼Œä»¥ Linux ä¸ºä¾‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-kubeadm-config-image-pull"><span class="nav-number">4.2.</span> <span class="nav-text">2. kubeadm config image pull</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E4%BD%BF%E7%94%A8-nload-%E5%91%BD%E4%BB%A4%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%85%B3%E6%B5%81%E9%87%8F%E6%83%85%E5%86%B5"><span class="nav-number">4.3.</span> <span class="nav-text">3. ä½¿ç”¨ nload å‘½ä»¤æŸ¥çœ‹ç½‘å…³æµé‡æƒ…å†µ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-git-clone-GitHub-%E4%B8%8A%E7%9A%84-repo"><span class="nav-number">4.4.</span> <span class="nav-text">4. git clone GitHub ä¸Šçš„ repo</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E8%A6%81%E4%BB%A3%E7%90%86%E7%9A%84%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-number">4.5.</span> <span class="nav-text">5. è¦ä»£ç†çš„è™šæ‹Ÿæœº</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E7%BD%91%E5%85%B3%E5%8D%A0%E7%94%A8%E8%B5%84%E6%BA%90"><span class="nav-number">4.6.</span> <span class="nav-text">5. ç½‘å…³å ç”¨èµ„æº</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B"><span class="nav-number">5.</span> <span class="nav-text">3. å®ç°è¿‡ç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0-project"><span class="nav-number">5.1.</span> <span class="nav-text">0. project</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-OS"><span class="nav-number">5.2.</span> <span class="nav-text">1. OS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%AE%89%E8%A3%85%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83%E5%92%8C%E4%BE%9D%E8%B5%96"><span class="nav-number">5.3.</span> <span class="nav-text">2. å®‰è£…ç¼–è¯‘ç¯å¢ƒå’Œä¾èµ–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%AE%89%E8%A3%85%E7%88%B1%E5%9B%BD%E8%BD%AF%E4%BB%B6"><span class="nav-number">5.4.</span> <span class="nav-text">3. å®‰è£…çˆ±å›½è½¯ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%AE%89%E8%A3%85-Chinadns"><span class="nav-number">5.5.</span> <span class="nav-text">4. å®‰è£… Chinadns</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%AE%89%E8%A3%85-ss-tproxy"><span class="nav-number">5.6.</span> <span class="nav-text">5. å®‰è£… ss-tproxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E9%85%8D%E7%BD%AE-ss-redir"><span class="nav-number">5.7.</span> <span class="nav-text">6. é…ç½® ss-redir</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E9%85%8D%E7%BD%AE-ss-tproxy"><span class="nav-number">5.8.</span> <span class="nav-text">7. é…ç½® ss-tproxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E5%90%AF%E5%8A%A8"><span class="nav-number">5.9.</span> <span class="nav-text">8. å¯åŠ¨</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E7%BB%93%E8%AF%AD"><span class="nav-number">6.</span> <span class="nav-text">4. ç»“è¯­</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Reimu"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Reimu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">117</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">152</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/muzi502" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;muzi502" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:muzi502.li@gmail.com" title="E-Mail â†’ mailto:muzi502.li@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/muzi_ii" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;muzi_ii" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://t.me/muzi502" title="Telegram â†’ https:&#x2F;&#x2F;t.me&#x2F;muzi502" rel="noopener" target="_blank"><i class="fa-brands fa-telegram fa-fw"></i>Telegram</a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS â†’ &#x2F;atom.xml"><i class="fa-solid fa-square-rss fa-fw"></i>RSS</a>
      </span>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="è¿”å›é¡¶éƒ¨">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.k8s.li/debian-gateway.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Reimu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Reimu's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="æ“ä¸€ä¸ª Debian é€æ˜ä»£ç†/æ—è·¯ç½‘å…³ è™šæ‹Ÿæœº | Reimu's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          æ“ä¸€ä¸ª Debian é€æ˜ä»£ç†/æ—è·¯ç½‘å…³ è™šæ‹Ÿæœº
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-06-30 2019-06-30T00:00:00+08:00" itemprop="dateCreated datePublished" datetime="2019-06-30T00:00:00+08:00">2019-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-04-16 2023-04-16T22:22:56+08:00" itemprop="dateModified" datetime="2023-04-16T22:22:56+08:00">2023-04-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">æŠ€æœ¯</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/debian-gateway.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="debian-gateway.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>7.7k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>7 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h2 id="ESXi-é€æ˜ä»£ç†è™šæ‹Ÿæœº"><a href="#ESXi-é€æ˜ä»£ç†è™šæ‹Ÿæœº" class="headerlink" title="ESXi é€æ˜ä»£ç†è™šæ‹Ÿæœº"></a>ESXi é€æ˜ä»£ç†è™šæ‹Ÿæœº</h2><p>å¼ƒå‘äº†ï¼Œå¤ªé¸¡å„¿éš¾ç”¨äº† ğŸ˜¡ï¼Œè¿˜æ˜¯ä½¿ç”¨äº† <a href="https://blog.k8s.li/esxi-lede">LEDE è½¯è·¯ç”±</a></p>
<h2 id="0-é¡¹ç›®èƒŒæ™¯"><a href="#0-é¡¹ç›®èƒŒæ™¯" class="headerlink" title="0. é¡¹ç›®èƒŒæ™¯"></a>0. é¡¹ç›®èƒŒæ™¯</h2><p>ç”±äºå·¥ä½œçš„ç¯å¢ƒæ˜¯ ESXi ï¼Œä¸Šé¢è¿è¡Œç€ä¸€å †è™šæ‹Ÿæœºï¼Œç”¨æ¥åšéƒ¨ç½²æ–¹æ¡ˆæµ‹è¯•ä½¿ç”¨ã€‚å› ä¸ºè¦ç»å¸¸è®¿é—® GitHub ä»¥åŠè¦å» gcr.k8s.io  ä¸Šæ‹‰å»é•œåƒï¼›è€Œä¸”åœ¨å†™ Dockerfile build é•œåƒçš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦å» GitHub ä¸‹è½½ release åŒ…ï¼›ä½¿ç”¨ helm åˆå§‹åŒ–æ—¶éœ€è¦çš„ docker é•œåƒæ— æ³• pull é‚£ä¸ªé€Ÿåº¦æ¯”ç™¾åº¦ç½‘ç›˜è¿˜æ…¢å•Šå•Šå•Šå•Šï¼Œæ°”æ­»äººã€‚æˆ‘è§‰ç€ GFW çš„å­˜åœ¨ä¸¥é‡ç¬¬å½±å“äº†æˆ‘çš„å·¥ä½œæ•ˆç‡ï¼Œé‚å†³å®šæ“ä¸€ä¸ªè™šæ‹Ÿæœºæ¥å½“ä»£ç†ç½‘å…³ï¼Œæˆ–è€…å«æ—è·¯ç½‘å…³ã€‚è¢«éœ€è¦ä»£ç†çš„æœºå™¨ä»…ä»…éœ€è¦ä¿®æ”¹ç½‘å…³å’Œ DNS ä¸ºé€æ˜ä»£ç†æœåŠ¡å™¨ IP å³å¯ã€‚</p>
<p>é¢˜å¤–è¯ï¼šå…¶å®ç”¨è½¯è·¯ç”± LEDE&#x2F;OpenWrt å®ç°æœ€åˆé€‚ï¼Œè€Œä¸”å ç”¨èµ„æºä¹Ÿæä½ï¼Œä½†å› ä¸ºä½¿ç”¨è½¯è·¯ç”±å‘ç”Ÿäº†ä¸€æ¬¡äº‹æ•…ï¼Œæ‰€ä»¥å°±ä¸å†ç”¨è½¯è·¯ç”±äº†ã€‚é‚£æ—¶å€™åˆšå…¥èŒå®ä¹ ï¼Œåœ¨ ESXi ä¸Šè£…äº†ä¸ª LEDE è½¯è·¯ç”±ï¼Œç„¶ååŠå…¬å®¤çš„ç½‘ç»œå°±ç˜«ç—ªäº†ã€‚ã€‚</p>
<h2 id="1-å®ç°åŠŸèƒ½"><a href="#1-å®ç°åŠŸèƒ½" class="headerlink" title="1.å®ç°åŠŸèƒ½"></a>1.å®ç°åŠŸèƒ½</h2><ol>
<li>é€æ˜ä»£ç†ï¼Œå®¢æˆ·ç«¯ä»…ä»…éœ€è¦ä¿®æ”¹é»˜è®¤ç½‘å…³ä¸ºä¸Šæ¸¸é€æ˜ç½‘å…³å³å¯ï¼Œæ— éœ€å®‰è£…å…¶ä»–ä»£ç†è½¯ä»¶</li>
<li>å›½å¤–&#x2F;å›½å†…åŸŸååˆ†å¼€è§£æï¼Œè§£å†³è¿è¥å•† DNS åŸŸåæ±¡æŸ“é—®é¢˜</li>
<li>åŠ å¿«å®¢æˆ·ç«¯è®¿é—® GitHubã€Google ç­‰ç½‘ç«™é€Ÿåº¦ï¼Œclone é€Ÿåº¦å³°å€¼ 15MB&#x2F;S</li>
<li>Docker pull é•œåƒé€Ÿåº¦ 15MB&#x2F;Sï¼Œclone <a target="_blank" rel="noopener" href="https://github.com/torvalds/linux">torvalds&#x2F;linux</a></li>
<li>éœ€è¦ä»£ç†çš„å†…ç½‘æœºå™¨ä»…ä»…éœ€è¦ä¿®æ”¹ç½‘å…³å’Œ DNS å³å¯å®ç°é€æ˜ä»£ç†</li>
</ol>
<h2 id="2-å®ç°æ•ˆæœ"><a href="#2-å®ç°æ•ˆæœ" class="headerlink" title="2. å®ç°æ•ˆæœ"></a>2. å®ç°æ•ˆæœ</h2><h3 id="1-wget-ä¸‹è½½-GitHub-release-ä¸Šçš„æ–‡ä»¶ï¼Œä»¥-Linux-ä¸ºä¾‹"><a href="#1-wget-ä¸‹è½½-GitHub-release-ä¸Šçš„æ–‡ä»¶ï¼Œä»¥-Linux-ä¸ºä¾‹" class="headerlink" title="1. wget ä¸‹è½½ GitHub release ä¸Šçš„æ–‡ä»¶ï¼Œä»¥ Linux ä¸ºä¾‹"></a>1. wget ä¸‹è½½ GitHub release ä¸Šçš„æ–‡ä»¶ï¼Œä»¥ Linux ä¸ºä¾‹</h3><p><code>163M Aug 23 21:35 v5.3-rc5.tar.gz</code> 163M çš„æ–‡ä»¶ç”¨æ—¶ä¸åˆ° 30s</p>
<p><img data-src="https://p.k8s.li/1566567341680.png"></p>
<h3 id="2-kubeadm-config-image-pull"><a href="#2-kubeadm-config-image-pull" class="headerlink" title="2. kubeadm config image pull"></a>2. kubeadm config image pull</h3><p>ä½¿ç”¨ kubeadm å‘½ä»¤åŠ ä¸Š <code>--kubernetes-version=</code> å‚æ•°æŒ‡å®šé•œåƒçš„ç‰ˆæœ¬å·ï¼Œé€Ÿåº¦è¿˜æ˜¯å¯ä»¥çš„ ğŸ˜‚</p>
<p><img data-src="https://p.k8s.li/1566566813113.png"></p>
<h3 id="3-ä½¿ç”¨-nload-å‘½ä»¤æŸ¥çœ‹ç½‘å…³æµé‡æƒ…å†µ"><a href="#3-ä½¿ç”¨-nload-å‘½ä»¤æŸ¥çœ‹ç½‘å…³æµé‡æƒ…å†µ" class="headerlink" title="3. ä½¿ç”¨ nload å‘½ä»¤æŸ¥çœ‹ç½‘å…³æµé‡æƒ…å†µ"></a>3. ä½¿ç”¨ nload å‘½ä»¤æŸ¥çœ‹ç½‘å…³æµé‡æƒ…å†µ</h3><p><img data-src="https://p.k8s.li/1566566775553.png"></p>
<h3 id="4-git-clone-GitHub-ä¸Šçš„-repo"><a href="#4-git-clone-GitHub-ä¸Šçš„-repo" class="headerlink" title="4. git clone GitHub ä¸Šçš„ repo"></a>4. git clone GitHub ä¸Šçš„ repo</h3><p>åœ¨æ­¤è¿˜æ˜¯ä»¥ linux é¡¹ç›®ä¸ºä¾‹ï¼Œclone è¿‡ç¨‹é€Ÿåº¦é£˜å¿½ä¸å®šï¼Œä½†ä¸€èˆ¬éƒ½ä¼šåœ¨ 10MiB&#x2F;S ä»¥ä¸Šï¼ŒæŒ‰ç…§è¿™ä¸ªé€Ÿåº¦ï¼Œè¿˜å’Œæˆ‘ç‰©ç†æœºå™¨çš„ç½‘å¡æœ‰å…³ï¼Œè™½ç„¶å·ç§°æ˜¯åƒå…†ç½‘å¡ï¼Œä½†å®é™…æµ‹è¯•å³°å€¼å°±è¾¾ä¸åˆ° 500Mbpsï¼Œæ¬²å“­æ— æ³ª ğŸ¤¦â€â™‚ï¸</p>
<p><img data-src="https://p.k8s.li/1566567116544.png"></p>
<h3 id="5-è¦ä»£ç†çš„è™šæ‹Ÿæœº"><a href="#5-è¦ä»£ç†çš„è™šæ‹Ÿæœº" class="headerlink" title="5. è¦ä»£ç†çš„è™šæ‹Ÿæœº"></a>5. è¦ä»£ç†çš„è™šæ‹Ÿæœº</h3><p><img data-src="https://p.k8s.li/1566565577328.png"></p>
<h3 id="5-ç½‘å…³å ç”¨èµ„æº"><a href="#5-ç½‘å…³å ç”¨èµ„æº" class="headerlink" title="5. ç½‘å…³å ç”¨èµ„æº"></a>5. ç½‘å…³å ç”¨èµ„æº</h3><p><img data-src="https://p.k8s.li/1566565631398.png"></p>
<p>æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªé€Ÿåº¦è¿˜æ˜¯å¯ä»¥æ¥å—çš„ï¼Œæ¯”é‚£å‡ åå‡ ç™¾ KB&#x2F;S çš„é¾Ÿé€Ÿæ»¡æ„å¾—å¤šäº†ï¼Œè€Œä¸”å¯¹äºè¦ä»£ç†çš„æœºå™¨æ¥è¯´é…ç½®èµ·æ¥ä¹ŸåŠå…¶çš„æ–¹ä¾¿ï¼Œä»…ä»…ä¿®æ”¹é»˜è®¤ç½‘å…³å’Œ DNS å°±è¡Œã€‚</p>
<h2 id="3-å®ç°è¿‡ç¨‹"><a href="#3-å®ç°è¿‡ç¨‹" class="headerlink" title="3. å®ç°è¿‡ç¨‹"></a>3. å®ç°è¿‡ç¨‹</h2><h3 id="0-project"><a href="#0-project" class="headerlink" title="0. project"></a>0. project</h3><p>ä¸»è¦ä½¿ç”¨åˆ° <a target="_blank" rel="noopener" href="https://github.com/zfl9/ss-tproxy">ss-tproxy</a> è¿™ä¸ªé¡¹ç›®ï¼ŒæŒ‰ç…§é¡¹ç›®ä¸Šçš„ README éƒ¨ç½²éƒ¨ç½²èµ·æ¥å°± ojbk</p>
<p>å¤§ä½¬çš„åšå®¢ <a target="_blank" rel="noopener" href="https://www.zfl9.com/ss-redir.html">ss&#x2F;ssr&#x2F;v2ray&#x2F;socks5 é€æ˜ä»£ç†</a> ,å¾ˆè¯¦ç»†ï¼Œå»ºè®®è®¤çœŸè¯»å®Œ</p>
<h3 id="1-OS"><a href="#1-OS" class="headerlink" title="1. OS"></a>1. OS</h3><p>é¦–å…ˆè™šæ‹Ÿæœºçš„ç³»ç»Ÿæˆ‘æ˜¯ä½¿ç”¨çš„ Debian 10ï¼Œä½¿ç”¨ <a target="_blank" rel="noopener" href="https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/debian-10.0.0-amd64-netinst.iso">netinst</a> é•œåƒå®‰è£…å¥½çš„ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Ubuntu ï¼Œé€‰æ‹© Debian æ˜¯å› ä¸º Debian å¯ä»¥å†ç²¾ç®€ä¸€äº›ï¼Œå®‰è£…åçš„å ç”¨ä¸åˆ° 700MB ã€‚è‡³äº Alpine å¯èƒ½è¦è´¹ç‚¹åŠŸå¤«ï¼Œå› ä¸ºç¼–è¯‘éœ€è¦çš„åŒ…æ¯”è¾ƒéº»çƒ¦ã€‚</p>
<h3 id="2-å®‰è£…ç¼–è¯‘ç¯å¢ƒå’Œä¾èµ–"><a href="#2-å®‰è£…ç¼–è¯‘ç¯å¢ƒå’Œä¾èµ–" class="headerlink" title="2. å®‰è£…ç¼–è¯‘ç¯å¢ƒå’Œä¾èµ–"></a>2. å®‰è£…ç¼–è¯‘ç¯å¢ƒå’Œä¾èµ–</h3><p>Debian å’Œ Ubuntu çš„è¯å°±ä¸€æŠŠæ¢­å­å°±è¡Œå“ˆ</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt</span> update
<span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">git</span>
<span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> --no-install-recommends --no-install-suggests  <span class="token punctuation">\</span>
    gettext build-essential autoconf libtool  libsodium-dev libmbedtls-dev <span class="token punctuation">\</span>
    libpcre3-dev asciidoc xmlto libev-dev libc-ares-dev automake <span class="token function">curl</span> <span class="token function">wget</span> <span class="token punctuation">\</span>
    dnsmasq iproute2 ipset perl haveged <span class="token function">gawk</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="3-å®‰è£…çˆ±å›½è½¯ä»¶"><a href="#3-å®‰è£…çˆ±å›½è½¯ä»¶" class="headerlink" title="3. å®‰è£…çˆ±å›½è½¯ä»¶"></a>3. å®‰è£…çˆ±å›½è½¯ä»¶</h3><p>è¿™é‡Œæ ¹æ®ä½ çš„ä»£ç†è½¯ä»¶å®‰è£…é…ç½®å¥½å°±è¡Œï¼Œæˆ‘å°±å‰½çªƒä¸€ä¸‹ shadowsocks-libev å®˜æ–¹çš„ wiki</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Installation of libsodium</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBSODIUM_VER</span><span class="token operator">=</span><span class="token number">1.0</span>.16
<span class="token function">wget</span> https://download.libsodium.org/libsodium/releases/libsodium-<span class="token variable">$LIBSODIUM_VER</span>.tar.gz
<span class="token function">tar</span> xvf libsodium-<span class="token variable">$LIBSODIUM_VER</span>.tar.gz
<span class="token function">pushd</span> libsodium-<span class="token variable">$LIBSODIUM_VER</span>
./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr <span class="token operator">&amp;&amp;</span> <span class="token function">make</span>
<span class="token function">make</span> <span class="token function">install</span>
<span class="token function">popd</span>
ldconfig

<span class="token comment"># Installation of MbedTLS</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">MBEDTLS_VER</span><span class="token operator">=</span><span class="token number">2.6</span>.0
<span class="token function">wget</span> https://tls.mbed.org/download/mbedtls-<span class="token variable">$MBEDTLS_VER</span>-gpl.tgz
<span class="token function">tar</span> xvf mbedtls-<span class="token variable">$MBEDTLS_VER</span>-gpl.tgz
<span class="token function">pushd</span> mbedtls-<span class="token variable">$MBEDTLS_VER</span>
<span class="token function">make</span> <span class="token assign-left variable">SHARED</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">CFLAGS</span><span class="token operator">=</span><span class="token string">"-O2 -fPIC"</span>
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span>/usr <span class="token function">install</span>
<span class="token function">popd</span>
ldconfig

<span class="token comment"># Installation of shadowsocks-libev</span>
<span class="token function">git</span> clone https://github.com/shadowsocks/shadowsocks-libev.git <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token builtin class-name">cd</span> shadowsocks-libev
<span class="token function">git</span> submodule update <span class="token parameter variable">--init</span> <span class="token parameter variable">--recursive</span>
./autogen.sh <span class="token operator">&amp;&amp;</span> ./configure <span class="token operator">&amp;&amp;</span> <span class="token function">make</span>
<span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="4-å®‰è£…-Chinadns"><a href="#4-å®‰è£…-Chinadns" class="headerlink" title="4. å®‰è£… Chinadns"></a>4. å®‰è£… Chinadns</h3><p>å®‰è£… Chinadns å®ç°åŸŸååˆ†æµï¼Œå›½å†…çš„åŸŸåäº¤ç»™å›½å†…çš„ DNS (119.29.29.29 æˆ– 223.6.6.6) æ¥è§£æï¼Œå›½å¤–çš„åŸŸåäº¤ç»™ å›½å¤–çš„ DNS (8.8.8.8 æˆ– 1.1.1.1)æ¥è§£æ</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Installation of chinadns-ng</span>
<span class="token function">git</span> clone https://github.com/zfl9/chinadns-ng <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token builtin class-name">cd</span> chinadns-ng
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="5-å®‰è£…-ss-tproxy"><a href="#5-å®‰è£…-ss-tproxy" class="headerlink" title="5. å®‰è£… ss-tproxy"></a>5. å®‰è£… ss-tproxy</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Installation of ss-tproxy</span>
<span class="token function">git</span> clone https://github.com/zfl9/ss-tproxy <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token builtin class-name">cd</span> ss-tproxy
<span class="token function">chmod</span> +x ss-tproxy
<span class="token function">cp</span> <span class="token parameter variable">-af</span> ss-tproxy /usr/local/bin
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/ss-tproxy
<span class="token function">cp</span> <span class="token parameter variable">-af</span> ss-tproxy.conf gfwlist* chnroute* /etc/ss-tproxy
<span class="token function">cp</span> <span class="token parameter variable">-af</span> ss-tproxy.service /etc/systemd/system<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="6-é…ç½®-ss-redir"><a href="#6-é…ç½®-ss-redir" class="headerlink" title="6. é…ç½® ss-redir"></a>6. é…ç½® ss-redir</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> <span class="token operator">>></span> /etc/ss.json <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
&#123;
    "server":"",
    "mode":"tcp_and_udp",
    "server_port":,
    "local_port":,
    "local_address":"0.0.0.0",
    "reuse_port": true,
    "no_delay": true,
    "password":"",
    "timeout":60,
    "method":"chacha20"
&#125;
EOF</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">"server":"", ä»£ç†æœåŠ¡å™¨çš„ IP
"mode":"tcp_and_udp", ä»£ç†åè®®
"server_port":, ä»£ç†æœåŠ¡å™¨ç«¯å£
"local_port":, æœ¬åœ°ç«¯å£ï¼Œè¦å’Œ
"local_address":"0.0.0.0",ä¸€å®šè¦å¡«ï¼Œä¸ç„¶åªèƒ½æœ¬æœºä»£ç†ï¼Œå…¶ä»–åŠå…¶ç”¨ä¸äº†,å‘æˆ‘ä¸€æ¬¡
"reuse_port": true,
"no_delay": true,
"password":"", å¯†ç 
"timeout":60,
"method":"" åŠ å¯†åè®®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="7-é…ç½®-ss-tproxy"><a href="#7-é…ç½®-ss-tproxy" class="headerlink" title="7. é…ç½® ss-tproxy"></a>7. é…ç½® ss-tproxy</h3><p>å‰½çªƒä¸€ä¸‹å®˜æ–¹çš„é…ç½®æ–‡ä»¶ <code>/etc/ss-tproxy/ss-tproxy.conf</code></p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini"><span class="token comment">## mode</span>
<span class="token comment">#mode='gfwlist' # gfwlist åˆ†æµ (é»‘åå•)</span>
<span class="token key attr-name">mode</span><span class="token punctuation">=</span><span class="token value attr-value">'chnroute' # chnroute åˆ†æµ (ç™½åå•)</span>

<span class="token comment">## ipv4/6</span>
<span class="token key attr-name">ipv4</span><span class="token punctuation">=</span><span class="token value attr-value">'true'     # true:å¯ç”¨ipv4é€æ˜ä»£ç†; false:å…³é—­ipv4é€æ˜ä»£ç†</span>
<span class="token key attr-name">ipv6</span><span class="token punctuation">=</span><span class="token value attr-value">'false'    # true:å¯ç”¨ipv6é€æ˜ä»£ç†; false:å…³é—­ipv6é€æ˜ä»£ç†</span>

<span class="token comment">## tproxy</span>
<span class="token key attr-name">tproxy</span><span class="token punctuation">=</span><span class="token value attr-value">'false'  # true:TPROXY+TPROXY; false:REDIRECT+TPROXY</span>

<span class="token comment">## proxy</span>
<span class="token key attr-name">proxy_svraddr4</span><span class="token punctuation">=</span><span class="token value attr-value">()      # æœåŠ¡å™¨çš„ IPv4 åœ°å€æˆ–åŸŸåï¼Œå…è®¸å¡«å†™å¤šä¸ªæœåŠ¡å™¨åœ°å€ï¼Œç©ºæ ¼éš”å¼€</span>
<span class="token key attr-name">proxy_svraddr6</span><span class="token punctuation">=</span><span class="token value attr-value">()      # æœåŠ¡å™¨çš„ IPv6 åœ°å€æˆ–åŸŸåï¼Œå…è®¸å¡«å†™å¤šä¸ªæœåŠ¡å™¨åœ°å€ï¼Œç©ºæ ¼éš”å¼€</span>
<span class="token key attr-name">proxy_svrport</span><span class="token punctuation">=</span><span class="token value attr-value">'8080'   # æœåŠ¡å™¨çš„å¤–ç½‘ç›‘å¬ç«¯å£ï¼Œæ ¼å¼åŒ ipts_proxy_dst_portï¼Œä¸å¯ç•™ç©º</span>
<span class="token key attr-name">proxy_tcpport</span><span class="token punctuation">=</span><span class="token value attr-value">'1080'   # ss/ssr/v2ray ç­‰æœ¬æœºè¿›ç¨‹çš„ TCP ç›‘å¬ç«¯å£ï¼Œè¯¥ç«¯å£æ”¯æŒé€æ˜ä»£ç†</span>
<span class="token key attr-name">proxy_udpport</span><span class="token punctuation">=</span><span class="token value attr-value">'1080'   # ss/ssr/v2ray ç­‰æœ¬æœºè¿›ç¨‹çš„ UDP ç›‘å¬ç«¯å£ï¼Œè¯¥ç«¯å£æ”¯æŒé€æ˜ä»£ç†</span>
<span class="token key attr-name">proxy_startcmd</span><span class="token punctuation">=</span><span class="token value attr-value">'cmd1'  # ç”¨äºå¯åŠ¨æœ¬æœºä»£ç†è¿›ç¨‹çš„ shell å‘½ä»¤ï¼Œè¯¥å‘½ä»¤åº”è¯¥èƒ½ç«‹å³æ‰§è¡Œå®Œæ¯•</span>
<span class="token comment"># shadowsocks-libev çš„å¯åŠ¨å‘½ä»¤æ˜¯ ss-redir -c /etc/ss.json -u &lt;/dev/null &amp;>>/var/log/ss-redir.log  ss.json æ˜¯ä½  shadowsocks çš„é…ç½®æ–‡ä»¶</span>
<span class="token key attr-name">proxy_stopcmd</span><span class="token punctuation">=</span><span class="token value attr-value">'cmd2'   # ç”¨äºå…³é—­æœ¬æœºä»£ç†è¿›ç¨‹çš„ shell å‘½ä»¤ï¼Œè¯¥å‘½ä»¤åº”è¯¥èƒ½ç«‹å³æ‰§è¡Œå®Œæ¯•</span>

<span class="token comment">## dnsmasq</span>
<span class="token key attr-name">dnsmasq_bind_port</span><span class="token punctuation">=</span><span class="token value attr-value">'53'                  # dnsmasq æœåŠ¡å™¨ç›‘å¬ç«¯å£ï¼Œè§ README</span>
<span class="token key attr-name">dnsmasq_cache_size</span><span class="token punctuation">=</span><span class="token value attr-value">'4096'               # DNS ç¼“å­˜æ¡ç›®ï¼Œä¸å»ºè®®è¿‡å¤§ï¼Œ4096 è¶³å¤Ÿ</span>
<span class="token key attr-name">dnsmasq_cache_time</span><span class="token punctuation">=</span><span class="token value attr-value">'3600'               # DNS ç¼“å­˜æ—¶é—´ï¼Œå•ä½æ˜¯ç§’ï¼Œæœ€å¤§ 3600 ç§’</span>
<span class="token key attr-name">dnsmasq_log_enable</span><span class="token punctuation">=</span><span class="token value attr-value">'false'              # è®°å½•è¯¦ç»†æ—¥å¿—ï¼Œé™¤éè¿›è¡Œè°ƒè¯•ï¼Œå¦åˆ™ä¸å»ºè®®å¯ç”¨</span>
<span class="token key attr-name">dnsmasq_log_file</span><span class="token punctuation">=</span><span class="token value attr-value">'/var/log/dnsmasq.log' # æ—¥å¿—æ–‡ä»¶ï¼Œå¦‚æœä¸æƒ³ä¿å­˜æ—¥å¿—å¯ä»¥æ”¹ä¸º /dev/null</span>
<span class="token key attr-name">dnsmasq_conf_dir</span><span class="token punctuation">=</span><span class="token value attr-value">()                     # `--conf-dir` é€‰é¡¹çš„å‚æ•°ï¼Œå¯ä»¥å¡«å¤šä¸ªï¼Œç©ºæ ¼éš”å¼€</span>
<span class="token key attr-name">dnsmasq_conf_file</span><span class="token punctuation">=</span><span class="token value attr-value">()                    # `--conf-file` é€‰é¡¹çš„å‚æ•°ï¼Œå¯ä»¥å¡«å¤šä¸ªï¼Œç©ºæ ¼éš”å¼€</span>

<span class="token comment">## chinadns</span>
<span class="token key attr-name">chinadns_bind_port</span><span class="token punctuation">=</span><span class="token value attr-value">'65353'               # chinadns-ng æœåŠ¡å™¨ç›‘å¬ç«¯å£ï¼Œé€šå¸¸ä¸ç”¨æ”¹åŠ¨</span>
<span class="token key attr-name">chinadns_verbose</span><span class="token punctuation">=</span><span class="token value attr-value">'false'                 # è®°å½•è¯¦ç»†æ—¥å¿—ï¼Œé™¤éè¿›è¡Œè°ƒè¯•ï¼Œå¦åˆ™ä¸å»ºè®®å¯ç”¨</span>
<span class="token key attr-name">chinadns_logfile</span><span class="token punctuation">=</span><span class="token value attr-value">'/var/log/chinadns.log' # æ—¥å¿—æ–‡ä»¶ï¼Œå¦‚æœä¸æƒ³ä¿å­˜æ—¥å¿—å¯ä»¥æ”¹ä¸º /dev/null</span>

<span class="token comment">## dns</span>
<span class="token key attr-name">dns_direct</span><span class="token punctuation">=</span><span class="token value attr-value">'119.29.29.29'          # æœ¬åœ° IPv4 DNSï¼Œä¸èƒ½æŒ‡å®šç«¯å£ï¼Œä¹Ÿå¯ä»¥å¡«ç»„ç»‡ã€å…¬å¸å†…éƒ¨ DNS</span>
<span class="token key attr-name">dns_direct6</span><span class="token punctuation">=</span><span class="token value attr-value">'240C::6666'              # æœ¬åœ° IPv6 DNSï¼Œä¸èƒ½æŒ‡å®šç«¯å£ï¼Œä¹Ÿå¯ä»¥å¡«ç»„ç»‡ã€å…¬å¸å†…éƒ¨ DNS</span>
<span class="token key attr-name">dns_remote</span><span class="token punctuation">=</span><span class="token value attr-value">'8.8.8.8#53'               # è¿œç¨‹ IPv4 DNSï¼Œå¿…é¡»æŒ‡å®šç«¯å£ï¼Œæç¤ºï¼šè®¿é—®è¿œç¨‹ DNS ä¼šèµ°ä»£ç†</span>
<span class="token key attr-name">dns_remote6</span><span class="token punctuation">=</span><span class="token value attr-value">'2001:4860:4860::8888#53' # è¿œç¨‹ IPv6 DNSï¼Œå¿…é¡»æŒ‡å®šç«¯å£ï¼Œæç¤ºï¼šè®¿é—®è¿œç¨‹ DNS ä¼šèµ°ä»£ç†</span>

<span class="token comment">## ipts</span>
<span class="token key attr-name">ipts_rt_tab</span><span class="token punctuation">=</span><span class="token value attr-value">'233'               # iproute2 è·¯ç”±è¡¨åæˆ–è¡¨ IDï¼Œé™¤éäº§ç”Ÿå†²çªï¼Œå¦åˆ™ä¸å»ºè®®æ”¹åŠ¨è¯¥é€‰é¡¹</span>
<span class="token key attr-name">ipts_rt_mark</span><span class="token punctuation">=</span><span class="token value attr-value">'0x2333'           # iproute2 ç­–ç•¥è·¯ç”±çš„é˜²ç«å¢™æ ‡è®°ï¼Œé™¤éäº§ç”Ÿå†²çªï¼Œå¦åˆ™ä¸å»ºè®®æ”¹åŠ¨è¯¥é€‰é¡¹</span>
<span class="token key attr-name">ipts_set_snat</span><span class="token punctuation">=</span><span class="token value attr-value">'false'           # è®¾ç½® iptables çš„ MASQUERADE è§„åˆ™ï¼Œå¸ƒå°”å€¼ï¼Œ`true/false`ï¼Œè¯¦è§ README</span>
<span class="token key attr-name">ipts_set_snat6</span><span class="token punctuation">=</span><span class="token value attr-value">'true'           # è®¾ç½® ip6tables çš„ MASQUERADE è§„åˆ™ï¼Œå¸ƒå°”å€¼ï¼Œ`true/false`ï¼Œè¯¦è§ README</span>
<span class="token key attr-name">ipts_intranet</span><span class="token punctuation">=</span><span class="token value attr-value">(10.20.172.0/24)  # è¦ä»£ç†çš„ IPv4 å†…ç½‘ç½‘æ®µï¼Œå¯å¡«å¤šä¸ªï¼Œç©ºæ ¼éš”å¼€ï¼Œè¯¥é€‰é¡¹çš„å…·ä½“è¯´æ˜è¯·çœ‹ README</span>
<span class="token key attr-name">ipts_intranet6</span><span class="token punctuation">=</span><span class="token value attr-value">(fd00::/8)       # è¦ä»£ç†çš„ IPv6 å†…ç½‘ç½‘æ®µï¼Œå¯å¡«å¤šä¸ªï¼Œç©ºæ ¼éš”å¼€ï¼Œè¯¥é€‰é¡¹çš„å…·ä½“è¯´æ˜è¯·çœ‹ README</span>
<span class="token key attr-name">ipts_reddns_onstop</span><span class="token punctuation">=</span><span class="token value attr-value">'true'       # ss-tproxy stop åï¼Œæ˜¯å¦å°†å…¶å®ƒä¸»æœºå‘è‡³æœ¬æœºçš„ DNS è¯·æ±‚é‡å®šå‘è‡³æœ¬åœ°ç›´è¿ DNSï¼Œè¯¦è§ README</span>
<span class="token key attr-name">ipts_proxy_dst_port</span><span class="token punctuation">=</span><span class="token value attr-value">'1:65535'   # ç›®æ ‡ IP çš„å“ªäº›ç«¯å£èµ°ä»£ç†ï¼Œç›®æ ‡ IP å°±æ˜¯é»‘åå• IPï¼Œå¤šä¸ªç”¨é€—å·éš”å¼€ï¼Œå†’å·ä¸ºç«¯å£èŒƒå›´(å«è¾¹ç•Œ)</span>

<span class="token comment">## opts</span>
<span class="token key attr-name">opts_ss_netstat</span><span class="token punctuation">=</span><span class="token value attr-value">'auto'                  # auto/ss/netstatï¼Œç”¨å“ªä¸ªç«¯å£æ£€æµ‹å‘½ä»¤ï¼Œè§ README</span>
<span class="token key attr-name">opts_overwrite_resolv</span><span class="token punctuation">=</span><span class="token value attr-value">'false'           # true/falseï¼Œå®šä¹‰å¦‚ä½•ä¿®æ”¹ resolv.confï¼Œè§ README</span>
<span class="token key attr-name">opts_ip_for_check_net</span><span class="token punctuation">=</span><span class="token value attr-value">'114.114.114.114' # ç”¨æ¥æ£€æµ‹å¤–ç½‘æ˜¯å¦å¯è®¿é—®çš„ IPï¼Œè¯¥ IP éœ€è¦å…è®¸ ping</span>

<span class="token comment">## file</span>
<span class="token key attr-name">file_gfwlist_txt</span><span class="token punctuation">=</span><span class="token value attr-value">'/etc/ss-tproxy/gfwlist.txt'      # gfwlist é»‘åå•æ–‡ä»¶ (é»˜è®¤è§„åˆ™)</span>
<span class="token key attr-name">file_gfwlist_ext</span><span class="token punctuation">=</span><span class="token value attr-value">'/etc/ss-tproxy/gfwlist.ext'      # gfwlist é»‘åå•æ–‡ä»¶ (æ‰©å±•è§„åˆ™)</span>
<span class="token key attr-name">file_chnroute_set</span><span class="token punctuation">=</span><span class="token value attr-value">'/etc/ss-tproxy/chnroute.set'    # chnroute åœ°å€æ®µæ–‡ä»¶ (iptables)</span>
<span class="token key attr-name">file_chnroute6_set</span><span class="token punctuation">=</span><span class="token value attr-value">'/etc/ss-tproxy/chnroute6.set'  # chnroute6 åœ°å€æ®µæ–‡ä»¶ (ip6tables)</span>
<span class="token key attr-name">file_dnsserver_pid</span><span class="token punctuation">=</span><span class="token value attr-value">'/etc/ss-tproxy/.dnsserver.pid' # dnsmasq å’Œ chinadns-ng çš„ pid æ–‡ä»¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="8-å¯åŠ¨"><a href="#8-å¯åŠ¨" class="headerlink" title="8. å¯åŠ¨"></a>8. å¯åŠ¨</h3><p>å¯åŠ¨äº²éœ€è¦å…ˆå…³é—­æœ¬æœºçš„ dnsmasq è¿›ç¨‹ï¼Œä¸ç„¶ä¼šæç¤º 53 ç«¯å£å·²å ç”¨</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl stop dnsmasq
systemctl disable dnsmasq
systemctl <span class="token builtin class-name">enable</span> haveged <span class="token comment"># å¯åŠ¨ haveged ç”¨æ¥äº§ç”Ÿè¶³å¤Ÿå¤šçš„ç†µï¼Œä¾›åŠ å¯†ç®—æ³•ç”¨</span>
ss-tproxy start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="4-ç»“è¯­"><a href="#4-ç»“è¯­" class="headerlink" title="4. ç»“è¯­"></a>4. ç»“è¯­</h2><p>å®Œæˆä»¥ä¸Šè¯¥èƒ½è·‘èµ·æ¥äº†ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€æ˜ç½‘å…³è¦å’Œéœ€è¦ä»£ç†çš„æœºå™¨åœ¨åŒä¸€ç½‘æ®µï¼Œä¸å¯è·¨ç½‘æ®µï¼Œåªèƒ½åœ¨ä¸€ä¸ª LAN å±€åŸŸç½‘é‡Œã€‚æœ€åç¥ GFW æ—©ç‚¹å€’å§ ğŸ˜¡</p>
<p>å®Œæ•´è„šæœ¬ï¼Œåœ¨ Debian 10 ä¸‹æµ‹è¯•é€šè¿‡</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token function">apt</span> update
<span class="token builtin class-name">set</span> <span class="token parameter variable">-xue</span>
<span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">git</span>
<span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> --no-install-recommends --no-install-suggests  <span class="token punctuation">\</span>
    gettext build-essential autoconf libtool  libsodium-dev libmbedtls-dev <span class="token punctuation">\</span>
    libpcre3-dev asciidoc xmlto libev-dev libc-ares-dev automake <span class="token function">curl</span> <span class="token function">wget</span> <span class="token punctuation">\</span>
    dnsmasq iproute2 ipset perl haveged <span class="token function">gawk</span>

<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> ~/gateway
<span class="token builtin class-name">cd</span> ~/gateway
<span class="token comment"># Installation of chinadns-ng</span>
<span class="token function">git</span> clone https://github.com/zfl9/chinadns-ng <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token builtin class-name">cd</span> chinadns-ng
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/

<span class="token comment"># Installation of libsodium</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBSODIUM_VER</span><span class="token operator">=</span><span class="token number">1.0</span>.16
<span class="token function">wget</span> https://download.libsodium.org/libsodium/releases/libsodium-<span class="token variable">$LIBSODIUM_VER</span>.tar.gz
<span class="token function">tar</span> xvf libsodium-<span class="token variable">$LIBSODIUM_VER</span>.tar.gz
<span class="token function">pushd</span> libsodium-<span class="token variable">$LIBSODIUM_VER</span>
./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr <span class="token operator">&amp;&amp;</span> <span class="token function">make</span>
<span class="token function">make</span> <span class="token function">install</span>
<span class="token function">popd</span>
ldconfig

<span class="token comment"># Installation of MbedTLS</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">MBEDTLS_VER</span><span class="token operator">=</span><span class="token number">2.6</span>.0
<span class="token function">wget</span> https://tls.mbed.org/download/mbedtls-<span class="token variable">$MBEDTLS_VER</span>-gpl.tgz
<span class="token function">tar</span> xvf mbedtls-<span class="token variable">$MBEDTLS_VER</span>-gpl.tgz
<span class="token function">pushd</span> mbedtls-<span class="token variable">$MBEDTLS_VER</span>
<span class="token function">make</span> <span class="token assign-left variable">SHARED</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">CFLAGS</span><span class="token operator">=</span><span class="token string">"-O2 -fPIC"</span>
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span>/usr <span class="token function">install</span>
<span class="token function">popd</span>
ldconfig

<span class="token comment"># Installation of shadowsocks-libev</span>
<span class="token function">git</span> clone https://github.com/shadowsocks/shadowsocks-libev.git <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token builtin class-name">cd</span> shadowsocks-libev
<span class="token function">git</span> submodule update <span class="token parameter variable">--init</span> <span class="token parameter variable">--recursive</span>
./autogen.sh <span class="token operator">&amp;&amp;</span> ./configure <span class="token operator">&amp;&amp;</span> <span class="token function">make</span>
<span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/

<span class="token comment"># Installation of ss-tproxy</span>
<span class="token function">git</span> clone https://github.com/zfl9/ss-tproxy <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token builtin class-name">cd</span> ss-tproxy
<span class="token function">chmod</span> +x ss-tproxy
<span class="token function">cp</span> <span class="token parameter variable">-af</span> ss-tproxy /usr/local/bin
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/ss-tproxy
<span class="token function">cp</span> <span class="token parameter variable">-af</span> ss-tproxy.conf gfwlist* chnroute* /etc/ss-tproxy
<span class="token function">cp</span> <span class="token parameter variable">-af</span> ss-tproxy.service /etc/systemd/system

<span class="token function">cat</span> <span class="token operator">>></span> /etc/ss.json <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
&#123;
    "server":"",
    "mode":"tcp_and_udp",
    "server_port":8080,
    "local_port":1080,
    "local_address":"0.0.0.0",
    "reuse_port": true,
    "no_delay": true,
    "password":"",
    "timeout":60,
    "method":"chacha20"
&#125;
EOF</span>

systemctl <span class="token builtin class-name">enable</span> haveged
systemctl start haveged
systemctl disable dnsmasq<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

    </div>

    
    
    
      


    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Linux/" rel="tag"># Linux</a>
              <a href="/tags/Debian/" rel="tag"># Debian</a>
              <a href="/tags/proxy/" rel="tag"># proxy</a>
              <a href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" rel="tag"># ç§‘å­¦ä¸Šç½‘</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/oh-my-pink.html" rel="prev" title="ä¸€é”®ç²‰çº¢æ‰‹æœºğŸ˜‚">
                  <i class="fa fa-chevron-left"></i> ä¸€é”®ç²‰çº¢æ‰‹æœºğŸ˜‚
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/How-to-choose-the-right-version-of-kubernetes.html" rel="next" title="ç”Ÿäº§ç¯å¢ƒå¦‚ä½•ä¿å®ˆåœ°é€‰æ‹© kubernetes ç‰ˆæœ¬">
                  ç”Ÿäº§ç¯å¢ƒå¦‚ä½•ä¿å®ˆåœ°é€‰æ‹© kubernetes ç‰ˆæœ¬ <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Reimu</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">1.7m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">26:14</span>
  </span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/pace.js"></script>

  




<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"muzi","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
