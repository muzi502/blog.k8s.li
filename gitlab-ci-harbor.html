<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="//fonts.loli.net/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://blog.k8s.li').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"buttons","active":null,"storage":true,"lazyload":true,"nav":{"disqus":{"text":"Load Disqus","order":-1}}},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":false,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>
  <meta name="description" content="ÂØπ‰∫é CI&#x2F;CDÔºàÊåÅÁª≠ÈõÜÊàê‰∏éÊåÅÁª≠‰∫§‰ªòÔºâÁöÑÂü∫Êú¨Ê¶ÇÂøµÁΩëÁªú‰∏äÂ∑≤ÁªèÊúâÂæàÂ§öÂ§ß‰Ω¨Âú®ÊôÆÂèäÂï¶ÔºåÂí±ÊâçÁñèÂ≠¶ÊµÖÊÄïËØØ‰∫∫Â≠êÂºüÊâÄ‰ª•Â∞±ÂâΩÁ™É‰∏Ä‰∏ãÂà´‰∫∫ÁöÑËß£ÈáäÂï¶üòÇ„ÄÇ‰∏ãÈù¢Â∞±ÂâΩÁ™É‰∏Ä‰∏ãÁ∫¢Â∏ΩÂ≠êÂÆ∂ÁöÑ CI&#x2F;CDÊòØ‰ªÄ‰πàÔºüÂ¶Ç‰ΩïÁêÜËß£ÊåÅÁª≠ÈõÜÊàê„ÄÅÊåÅÁª≠‰∫§‰ªòÂíåÊåÅÁª≠ÈÉ®ÁΩ≤ ÂÆòÊñπÊñáÊ°£Ôºö CI ÊåÅÁª≠ÈõÜÊàê  ÂõæÁâáÂâΩÁ™ÉËá™  The Product Managers‚Äô Guide to Continuous Delivery and DevOps  CI&#x2F;CD ‰∏≠ÁöÑ‚Äú">
<meta property="og:type" content="article">
<meta property="og:title" content="Âü∫‰∫é Gitlab-ci + Harbor ÁöÑ CI ÊµÅÊ∞¥Á∫ø">
<meta property="og:url" content="https://blog.k8s.li/gitlab-ci-harbor.html">
<meta property="og:site_name" content="Êú®Â≠ê">
<meta property="og:description" content="ÂØπ‰∫é CI&#x2F;CDÔºàÊåÅÁª≠ÈõÜÊàê‰∏éÊåÅÁª≠‰∫§‰ªòÔºâÁöÑÂü∫Êú¨Ê¶ÇÂøµÁΩëÁªú‰∏äÂ∑≤ÁªèÊúâÂæàÂ§öÂ§ß‰Ω¨Âú®ÊôÆÂèäÂï¶ÔºåÂí±ÊâçÁñèÂ≠¶ÊµÖÊÄïËØØ‰∫∫Â≠êÂºüÊâÄ‰ª•Â∞±ÂâΩÁ™É‰∏Ä‰∏ãÂà´‰∫∫ÁöÑËß£ÈáäÂï¶üòÇ„ÄÇ‰∏ãÈù¢Â∞±ÂâΩÁ™É‰∏Ä‰∏ãÁ∫¢Â∏ΩÂ≠êÂÆ∂ÁöÑ CI&#x2F;CDÊòØ‰ªÄ‰πàÔºüÂ¶Ç‰ΩïÁêÜËß£ÊåÅÁª≠ÈõÜÊàê„ÄÅÊåÅÁª≠‰∫§‰ªòÂíåÊåÅÁª≠ÈÉ®ÁΩ≤ ÂÆòÊñπÊñáÊ°£Ôºö CI ÊåÅÁª≠ÈõÜÊàê  ÂõæÁâáÂâΩÁ™ÉËá™  The Product Managers‚Äô Guide to Continuous Delivery and DevOps  CI&#x2F;CD ‰∏≠ÁöÑ‚Äú">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://p.k8s.li/409-images-for-snap-blog-postedit_image1.png">
<meta property="og:image" content="https://p.k8s.li/409-images-for-snap-blog-postedit_image4-manual.png">
<meta property="og:image" content="https://p.k8s.li/409-images-for-snap-blog-postedit_image4-manual-1585574252795.png">
<meta property="og:image" content="https://p.k8s.li/20200326163733610.png">
<meta property="og:image" content="https://p.k8s.li/20200326170403918.png">
<meta property="og:image" content="https://p.k8s.li/20200326170523433.png">
<meta property="og:image" content="https://p.k8s.li/20200327102511419.png">
<meta property="og:image" content="https://p.k8s.li/20200325163138089.png">
<meta property="og:image" content="https://p.k8s.li/20200325163254316.png">
<meta property="og:image" content="https://p.k8s.li/20200325163400519.png">
<meta property="article:published_time" content="2020-04-11T16:00:00.000Z">
<meta property="article:modified_time" content="2020-04-11T16:00:00.000Z">
<meta property="article:author" content="Êú®Â≠ê">
<meta property="article:tag" content="harbor">
<meta property="article:tag" content="gitlab">
<meta property="article:tag" content="CI&#x2F;CD">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://p.k8s.li/409-images-for-snap-blog-postedit_image1.png">
<link rel="canonical" href="https://blog.k8s.li/gitlab-ci-harbor.html">
<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>
  <title>Âü∫‰∫é Gitlab-ci + Harbor ÁöÑ CI ÊµÅÊ∞¥Á∫ø | Êú®Â≠ê</title>
  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }
  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>
<link rel="alternate" href="/atom.xml" title="Êú®Â≠ê" type="application/atom+xml">
</head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">
    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Êú®Â≠ê</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="ÂàáÊç¢ÂØºËà™Ê†è">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>
<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">
    <a href="/" rel="section"><i class="fa fa-fw fa-desktop"></i>Home</a>
  </li>
        <li class="menu-item menu-item-books">
    <a href="/booklist.html" rel="section"><i class="fa fa-fw fa-book"></i>Books</a>
  </li>
        <li class="menu-item menu-item-kindle">
    <a href="https://kindle.502.li/" rel="noopener" target="_blank"><i class="fa fa-fw fa-book"></i>Kindle</a>
  </li>
        <li class="menu-item menu-item-friend">
    <a href="/link/" rel="section"><i class="fa fa-fw fa-link"></i>Friend</a>
  </li>
        <li class="menu-item menu-item-about">
    <a href="/about.html" rel="section"><i class="fa fa-fw fa-user-circle-o"></i>About</a>
  </li>
  </ul>
</nav>
</div>
    </header>
  <div class="reading-progress-bar"></div>
    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div class="content">
  <div class="posts-expand">
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.k8s.li/gitlab-ci-harbor.html">
    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blog.k8s.li/avatar.png">
      <meta itemprop="name" content="Êú®Â≠ê">
      <meta itemprop="description" content="">
    </span>
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êú®Â≠ê">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          Âü∫‰∫é Gitlab-ci + Harbor ÁöÑ CI ÊµÅÊ∞¥Á∫ø
        </h2>
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">ÂèëË°®‰∫é</span>
              <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2020-04-12 2020-04-12T00:00:00+08:00" itemprop="dateCreated datePublished" datetime="2020-04-12T00:00:00+08:00">2020-04-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">ÂàÜÁ±ª‰∫é</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">ÊäÄÊúØ</span>
                  </a>
                </span>
            </span>
  <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">DisqusÔºö</span>
    <a title="disqus" href="/gitlab-ci-harbor.html#comments" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="gitlab-ci-harbor.html" itemprop="commentCount"></span>
    </a>
  </span>
  <br>
            <span class="post-meta-item" title="Êú¨ÊñáÂ≠óÊï∞">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Êú¨ÊñáÂ≠óÊï∞Ôºö</span>
              <span>29k</span>
            </span>
            <span class="post-meta-item" title="ÈòÖËØªÊó∂Èïø">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">ÈòÖËØªÊó∂Èïø &asymp;</span>
              <span>48 ÂàÜÈíü</span>
            </span>
        </div>
      </header>
    <div class="post-body" itemprop="articleBody">
        <p>ÂØπ‰∫é CI/CDÔºàÊåÅÁª≠ÈõÜÊàê‰∏éÊåÅÁª≠‰∫§‰ªòÔºâÁöÑÂü∫Êú¨Ê¶ÇÂøµÁΩëÁªú‰∏äÂ∑≤ÁªèÊúâÂæàÂ§öÂ§ß‰Ω¨Âú®ÊôÆÂèäÂï¶ÔºåÂí±ÊâçÁñèÂ≠¶ÊµÖÊÄïËØØ‰∫∫Â≠êÂºüÊâÄ‰ª•Â∞±ÂâΩÁ™É‰∏Ä‰∏ãÂà´‰∫∫ÁöÑËß£ÈáäÂï¶üòÇ„ÄÇ‰∏ãÈù¢Â∞±ÂâΩÁ™É‰∏Ä‰∏ãÁ∫¢Â∏ΩÂ≠êÂÆ∂ÁöÑ <a href="https://www.redhat.com/zh/topics/devops/what-is-ci-cd" target="_blank" rel="noopener">CI/CDÊòØ‰ªÄ‰πàÔºüÂ¶Ç‰ΩïÁêÜËß£ÊåÅÁª≠ÈõÜÊàê„ÄÅÊåÅÁª≠‰∫§‰ªòÂíåÊåÅÁª≠ÈÉ®ÁΩ≤</a> ÂÆòÊñπÊñáÊ°£Ôºö</p>
<p><strong>CI ÊåÅÁª≠ÈõÜÊàê</strong></p>
<p><img src="https://p.k8s.li/409-images-for-snap-blog-postedit_image1.png" alt=""></p>
<p>ÂõæÁâáÂâΩÁ™ÉËá™  <a href="https://www.mindtheproduct.com/what-the-hell-are-ci-cd-and-devops-a-cheatsheet-for-the-rest-of-us/" target="_blank" rel="noopener">The Product Managers‚Äô Guide to Continuous Delivery and DevOps</a></p>
<blockquote>
<p>CI/CD ‰∏≠ÁöÑ‚ÄúCI‚ÄùÂßãÁªàÊåáÊåÅÁª≠ÈõÜÊàêÔºåÂÆÉÂ±û‰∫éÂºÄÂèë‰∫∫ÂëòÁöÑËá™Âä®ÂåñÊµÅÁ®ã„ÄÇÊàêÂäüÁöÑ CI ÊÑèÂë≥ÁùÄÂ∫îÁî®‰ª£Á†ÅÁöÑÊñ∞Êõ¥Êîπ‰ºöÂÆöÊúüÊûÑÂª∫„ÄÅÊµãËØïÂπ∂ÂêàÂπ∂Âà∞ÂÖ±‰∫´Â≠òÂÇ®Â∫ì‰∏≠„ÄÇËØ•Ëß£ÂÜ≥ÊñπÊ°àÂèØ‰ª•Ëß£ÂÜ≥Âú®‰∏ÄÊ¨°ÂºÄÂèë‰∏≠ÊúâÂ§™Â§öÂ∫îÁî®ÂàÜÊîØÔºå‰ªéËÄåÂØºËá¥Áõ∏‰∫íÂÜ≤Á™ÅÁöÑÈóÆÈ¢ò„ÄÇ</p>
</blockquote>
<p><strong>CD ÊåÅÁª≠‰∫§‰ªò</strong></p>
<p><img src="https://p.k8s.li/409-images-for-snap-blog-postedit_image4-manual.png" alt=""></p>
<p>ÂõæÁâáÂâΩÁ™ÉËá™ <a href="https://www.mindtheproduct.com/what-the-hell-are-ci-cd-and-devops-a-cheatsheet-for-the-rest-of-us/" target="_blank" rel="noopener">The Product Managers‚Äô Guide to Continuous Delivery and DevOps</a></p>
<blockquote>
<p>CI/CD ‰∏≠ÁöÑ‚ÄúCD‚ÄùÊåáÁöÑÊòØÊåÅÁª≠‰∫§‰ªòÂíå/ÊàñÊåÅÁª≠ÈÉ®ÁΩ≤ÔºåËøô‰∫õÁõ∏ÂÖ≥Ê¶ÇÂøµÊúâÊó∂‰ºö‰∫§Âèâ‰ΩøÁî®„ÄÇ‰∏§ËÄÖÈÉΩ‰∫ãÂÖ≥ÁÆ°ÈÅìÂêéÁª≠Èò∂ÊÆµÁöÑËá™Âä®ÂåñÔºå‰ΩÜÂÆÉ‰ª¨ÊúâÊó∂‰πü‰ºöÂçïÁã¨‰ΩøÁî®ÔºåÁî®‰∫éËØ¥ÊòéËá™Âä®ÂåñÁ®ãÂ∫¶„ÄÇ</p>
<p>ÊåÅÁª≠<em>‰∫§‰ªò</em>ÈÄöÂ∏∏ÊòØÊåáÂºÄÂèë‰∫∫ÂëòÂØπÂ∫îÁî®ÁöÑÊõ¥Êîπ‰ºöËá™Âä®ËøõË°åÈîôËØØÊµãËØïÂπ∂‰∏ä‰º†Âà∞Â≠òÂÇ®Â∫ìÔºàÂ¶Ç <a href="https://redhatofficial.github.io/#!/main" target="_blank" rel="noopener">GitHub</a> ÊàñÂÆπÂô®Ê≥®ÂÜåË°®ÔºâÔºåÁÑ∂ÂêéÁî±ËøêÁª¥Âõ¢ÈòüÂ∞ÜÂÖ∂ÈÉ®ÁΩ≤Âà∞ÂÆûÊó∂Áîü‰∫ßÁéØÂ¢É‰∏≠„ÄÇËøôÊó®Âú®Ëß£ÂÜ≥ÂºÄÂèëÂíåËøêÁª¥Âõ¢Èòü‰πãÈó¥ÂèØËßÅÊÄßÂèäÊ≤üÈÄöËæÉÂ∑ÆÁöÑÈóÆÈ¢ò„ÄÇÂõ†Ê≠§ÔºåÊåÅÁª≠‰∫§‰ªòÁöÑÁõÆÁöÑÂ∞±ÊòØÁ°Æ‰øùÂ∞ΩÂèØËÉΩÂáèÂ∞ëÈÉ®ÁΩ≤Êñ∞‰ª£Á†ÅÊó∂ÊâÄÈúÄÁöÑÂ∑•‰ΩúÈáè„ÄÇ</p>
</blockquote>
<p><strong>ÊåÅÁª≠ÈÉ®ÁΩ≤</strong></p>
<p><img src="https://p.k8s.li/409-images-for-snap-blog-postedit_image4-manual-1585574252795.png" alt=""></p>
<p>ÂõæÁâáÂâΩÁ™ÉËá™  <a href="https://www.mindtheproduct.com/what-the-hell-are-ci-cd-and-devops-a-cheatsheet-for-the-rest-of-us/" target="_blank" rel="noopener">The Product Managers‚Äô Guide to Continuous Delivery and DevOps</a></p>
<blockquote>
<p>ÊåÅÁª≠<em>ÈÉ®ÁΩ≤</em>ÔºàÂè¶‰∏ÄÁßç‚ÄúCD‚ÄùÔºâÊåáÁöÑÊòØËá™Âä®Â∞ÜÂºÄÂèë‰∫∫ÂëòÁöÑÊõ¥Êîπ‰ªéÂ≠òÂÇ®Â∫ìÂèëÂ∏ÉÂà∞Áîü‰∫ßÁéØÂ¢ÉÔºå‰ª•‰æõÂÆ¢Êà∑‰ΩøÁî®„ÄÇÂÆÉ‰∏ªË¶Å‰∏∫‰∫ÜËß£ÂÜ≥Âõ†ÊâãÂä®ÊµÅÁ®ãÈôç‰ΩéÂ∫îÁî®‰∫§‰ªòÈÄüÂ∫¶Ôºå‰ªéËÄå‰ΩøËøêÁª¥Âõ¢ÈòüË∂ÖË¥üËç∑ÁöÑÈóÆÈ¢ò„ÄÇÊåÅÁª≠ÈÉ®ÁΩ≤‰ª•ÊåÅÁª≠‰∫§‰ªòÁöÑ‰ºòÂäø‰∏∫Ê†πÂü∫ÔºåÂÆûÁé∞‰∫ÜÁÆ°ÈÅìÂêéÁª≠Èò∂ÊÆµÁöÑËá™Âä®Âåñ„ÄÇ</p>
</blockquote>
<p>ÊÄª‰πãËÄåË®Ä  CI/CD ÊòØ‰∏ÄÊï¥Â•óËΩØ‰ª∂ÂºÄÂèëÁöÑÊµÅÊ∞¥Á∫øÔºåÂºÄÂèë‰∫∫ÂëòÊèê‰∫§ÂÆåÊõ¥Êñ∞ÁöÑ‰ª£Á†Å‰πãÂêéÔºåÊ†πÊçÆÊµÅÊ∞¥Á∫øÁöÑËß¶ÂèëÊÉÖÂÜµÊù•ÊâßË°åËá™ÂÆö‰πâÁöÑÊµÅÊ∞¥Á∫ø‰ªªÂä°ÔºåÊØîÂ¶Ç‰ª£Á†ÅË¥®ÈáèÊ£ÄÊµã„ÄÅÊûÑÂª∫ docker ÈïúÂÉè‰∏∫‰∫§‰ªò‰∫ßÂìÅ„ÄÅËá™Âä®ÂåñÈÉ®ÁΩ≤Âà∞ÊµãËØïÁéØÂ¢ÉÊàñÁîü‰∫ßÁéØÂ¢ÉÁ≠âÁ≠â„ÄÇËøô‰∫õÈúÄË¶Å‰∏ÄÁ≥ªÂàóÁõ∏ÂÖ≥ÁöÑËΩØ‰ª∂Êù•ÊûÑÂª∫ËøôÂ•ó CI/CD ÁöÑÁ≥ªÁªüÔºåÊú¨ÊñáÂ∞±ÈÄöËøá Gitlab + gitlab-ci + Harbor ÊûÑÂª∫‰∏Ä‰∏™ÁÆÄÈôãÁöÑ CI/CD ÊµÅÊ∞¥Á∫ø„ÄÇ</p>
<p>Âè¶Â§ñÊé®ËçêËØª‰∏Ä‰∏ãËøôÁØá <a href="https://www.mindtheproduct.com/what-the-hell-are-ci-cd-and-devops-a-cheatsheet-for-the-rest-of-us/" target="_blank" rel="noopener">The Product Managers‚Äô Guide to Continuous Delivery and DevOps </a></p>
<h2 id="Gitlab"><a href="#Gitlab" class="headerlink" title="Gitlab"></a>Gitlab</h2><p>ÁõÆÂâç Gitlab ÂÆòÊñπÁªôÂá∫ÁöÑÂÆâË£ÖÊñπÂºèÊúâÂæàÂ§öÁßçÔºåÊôÆÈÅçÈááÁî® Omnibus ÂåÖ„ÄÅDocker ÂÆâË£Ö„ÄÇ‰πüÂèØ‰ª•Áî®ÂÆòÊñπÁöÑ helm Chart ÈÉ®ÁΩ≤Âú® Kubernenets ÈõÜÁæ§‰∏≠ÔºåÁÑ∂Âêé‰ΩøÁî®ÁΩëÁªúÂ≠òÂÇ®ÔºåÊØîÂ¶Ç Gluster„ÄÅNFS„ÄÅCeph„ÄÅvSAN Á≠âËøõË°å PG Êï∞ÊçÆÂ∫ìÂíå‰ª£Á†Å‰ªìÂ∫ìÊåÅ‰πÖÂåñÂ≠òÂÇ®„ÄÇ</p>
<p><strong>ÂÆòÊñπÂª∫ËÆÆÈááÁî® Omnibus ÊñπÂºèÂÆâË£ÖÔºö</strong></p>
<blockquote>
<p>Êàë‰ª¨Âº∫ÁÉàÂª∫ËÆÆ‰ΩøÁî® Omnibus ÂåÖÂÆâË£Ö GitLab ÔºåÂõ†‰∏∫ÂÆÉÂÆâË£ÖËµ∑Êù•Êõ¥Âø´„ÄÅÊõ¥ÂÆπÊòìÂçáÁ∫ßÁâàÊú¨ÔºåËÄå‰∏îÂåÖÂê´‰∫ÜÂÖ∂‰ªñÂÆâË£ÖÊñπÂºèÊâÄÊ≤°ÊúâÁöÑÂèØÈù†ÊÄßÂäüËÉΩ„ÄÇ</p>
</blockquote>
<h3 id="Omnibus-ÂåÖÂÆâË£ÖÊñπÂºèÊØîËæÉ"><a href="#Omnibus-ÂåÖÂÆâË£ÖÊñπÂºèÊØîËæÉ" class="headerlink" title="Omnibus ÂåÖÂÆâË£ÖÊñπÂºèÊØîËæÉ"></a>Omnibus ÂåÖÂÆâË£ÖÊñπÂºèÊØîËæÉ</h3><p>ÊëòËá™ÂÆòÊñπÊñáÊ°£</p>
<ul>
<li>‚úÖ - Installed by default</li>
<li>‚öô - Requires additional configuration, or GitLab Managed Apps</li>
<li>‚§ì - Manual installation required</li>
<li>‚ùå - Not supported or no instructions available</li>
<li>N/A - Not applicable</li>
</ul>
<table>
<thead>
<tr>
<th align="left">Component</th>
<th align="left">Description</th>
<th align="center"><a href="https://docs.gitlab.com/omnibus/" target="_blank" rel="noopener">Omnibus GitLab</a></th>
<th align="center"><a href="https://docs.gitlab.com/charts/" target="_blank" rel="noopener">GitLab chart</a></th>
<th align="center"><a href="https://gitlab.com/" target="_blank" rel="noopener">GitLab.com</a></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#nginx" target="_blank" rel="noopener">NGINX</a></td>
<td align="left">Routes requests to appropriate components, terminates SSL</td>
<td align="center"><a href="https://docs.gitlab.com/omnibus/settings/" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/nginx/" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/infrastructure/production/architecture/#service-architecture" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#unicorn" target="_blank" rel="noopener">Unicorn (GitLab Rails)</a></td>
<td align="left">Handles requests for the web interface and API</td>
<td align="center"><a href="https://docs.gitlab.com/omnibus/settings/unicorn.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/gitlab/unicorn/" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/gitlab_com/index.html#unicorn" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#sidekiq" target="_blank" rel="noopener">Sidekiq</a></td>
<td align="left">Background jobs processor</td>
<td align="center"><a href="https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/gitlab/sidekiq/" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/gitlab_com/index.html#sidekiq" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#gitaly" target="_blank" rel="noopener">Gitaly</a></td>
<td align="left">Git RPC service for handling all Git calls made by GitLab</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/gitaly/index.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/gitlab/gitaly/" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/infrastructure/production/architecture/#service-architecture" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#praefect" target="_blank" rel="noopener">Praefect</a></td>
<td align="left">A transparent proxy between any Git client and Gitaly storage nodes.</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/gitaly/index.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/gitlab/gitaly/" target="_blank" rel="noopener">‚ùå</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/infrastructure/production/architecture/#service-architecture" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#gitlab-workhorse" target="_blank" rel="noopener">GitLab Workhorse</a></td>
<td align="left">Smart reverse proxy, handles large HTTP requests</td>
<td align="center"><a href="https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/gitlab/unicorn/" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/infrastructure/production/architecture/#service-architecture" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#gitlab-shell" target="_blank" rel="noopener">GitLab Shell</a></td>
<td align="left">Handles <code>git</code> over SSH sessions</td>
<td align="center"><a href="https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/gitlab/gitlab-shell/" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/infrastructure/production/architecture/#service-architecture" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#gitlab-pages" target="_blank" rel="noopener">GitLab Pages</a></td>
<td align="left">Hosts static websites</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/pages/index.html" target="_blank" rel="noopener">‚öô</a></td>
<td align="center"><a href="https://gitlab.com/gitlab-org/charts/gitlab/issues/37" target="_blank" rel="noopener">‚ùå</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/gitlab_com/index.html#gitlab-pages" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#registry" target="_blank" rel="noopener">Registry</a></td>
<td align="left">Container registry, allows pushing and pulling of images</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/packages/container_registry.html#container-registry-domain-configuration" target="_blank" rel="noopener">‚öô</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/registry/" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/packages/container_registry/index.html#build-and-push-images-using-gitlab-cicd" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#redis" target="_blank" rel="noopener">Redis</a></td>
<td align="left">Caching service</td>
<td align="center"><a href="https://docs.gitlab.com/omnibus/settings/redis.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/omnibus/settings/redis.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/infrastructure/production/architecture/#service-architecture" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#postgresql" target="_blank" rel="noopener">PostgreSQL</a></td>
<td align="left">Database</td>
<td align="center"><a href="https://docs.gitlab.com/omnibus/settings/database.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://github.com/helm/charts/tree/master/stable/postgresql" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/gitlab_com/index.html#postgresql" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#pgbouncer" target="_blank" rel="noopener">PgBouncer</a></td>
<td align="left">Database connection pooling, failover</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/high_availability/pgbouncer.html" target="_blank" rel="noopener">‚öô</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/installation/deployment.html#postgresql" target="_blank" rel="noopener">‚ùå</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/infrastructure/production/architecture/#database-architecture" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#consul" target="_blank" rel="noopener">Consul</a></td>
<td align="left">Database node discovery, failover</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/high_availability/consul.html" target="_blank" rel="noopener">‚öô</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/installation/deployment.html#postgresql" target="_blank" rel="noopener">‚ùå</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/gitlab_com/index.html#consul" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#prometheus" target="_blank" rel="noopener">GitLab self-monitoring: Prometheus</a></td>
<td align="left">Time-series database, metrics collection, and query service</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/monitoring/prometheus/index.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://github.com/helm/charts/tree/master/stable/prometheus" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/gitlab_com/index.html#prometheus" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#alertmanager" target="_blank" rel="noopener">GitLab self-monitoring: Alertmanager</a></td>
<td align="left">Deduplicates, groups, and routes alerts from Prometheus</td>
<td align="center"><a href="https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template" target="_blank" rel="noopener">‚öô</a></td>
<td align="center"><a href="https://github.com/helm/charts/tree/master/stable/prometheus" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/monitoring/" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#grafana" target="_blank" rel="noopener">GitLab self-monitoring: Grafana</a></td>
<td align="left">Metrics dashboard</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/monitoring/performance/grafana_configuration.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://github.com/helm/charts/tree/master/stable/grafana" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://dashboards.gitlab.com/d/RZmbBr7mk/gitlab-triage?refresh=30s" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#sentry" target="_blank" rel="noopener">GitLab self-monitoring: Sentry</a></td>
<td align="left">Track errors generated by the GitLab instance</td>
<td align="center"><a href="https://docs.gitlab.com/omnibus/settings/configuration.html#error-reporting-and-logging-with-sentry" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://gitlab.com/gitlab-org/charts/gitlab/issues/1319" target="_blank" rel="noopener">‚ùå</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/support/workflows/500_errors.html#searching-sentry" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#jaeger" target="_blank" rel="noopener">GitLab self-monitoring: Jaeger</a></td>
<td align="left">View traces generated by the GitLab instance</td>
<td align="center"><a href="https://gitlab.com/gitlab-org/omnibus-gitlab/issues/4104" target="_blank" rel="noopener">‚ùå</a></td>
<td align="center"><a href="https://gitlab.com/gitlab-org/charts/gitlab/issues/1320" target="_blank" rel="noopener">‚ùå</a></td>
<td align="center"><a href="https://gitlab.com/gitlab-org/omnibus-gitlab/issues/4104" target="_blank" rel="noopener">‚ùå</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#redis-exporter" target="_blank" rel="noopener">Redis Exporter</a></td>
<td align="left">Prometheus endpoint with Redis metrics</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/monitoring/prometheus/redis_exporter.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/redis/" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/monitoring/" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#postgresql-exporter" target="_blank" rel="noopener">PostgreSQL Exporter</a></td>
<td align="left">Prometheus endpoint with PostgreSQL metrics</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/monitoring/prometheus/postgres_exporter.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://github.com/helm/charts/tree/master/stable/postgresql" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/monitoring/" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#pgbouncer-exporter" target="_blank" rel="noopener">PgBouncer Exporter</a></td>
<td align="left">Prometheus endpoint with PgBouncer metrics</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/monitoring/prometheus/pgbouncer_exporter.html" target="_blank" rel="noopener">‚öô</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/installation/deployment.html#postgresql" target="_blank" rel="noopener">‚ùå</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/monitoring/" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#gitlab-exporter" target="_blank" rel="noopener">GitLab Exporter</a></td>
<td align="left">Generates a variety of GitLab metrics</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/monitoring/prometheus/gitlab_exporter.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/gitlab/gitlab-exporter/index.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/monitoring/" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#node-exporter" target="_blank" rel="noopener">Node Exporter</a></td>
<td align="left">Prometheus endpoint with system metrics</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/monitoring/prometheus/node_exporter.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://gitlab.com/gitlab-org/charts/gitlab/issues/1332" target="_blank" rel="noopener">N/A</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/monitoring/" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#mattermost" target="_blank" rel="noopener">Mattermost</a></td>
<td align="left">Open-source Slack alternative</td>
<td align="center"><a href="https://docs.gitlab.com/omnibus/gitlab-mattermost/" target="_blank" rel="noopener">‚öô</a></td>
<td align="center"><a href="https://docs.mattermost.com/install/install-mmte-helm-gitlab-helm.html" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/project/integrations/mattermost.html" target="_blank" rel="noopener">‚§ì</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#minio" target="_blank" rel="noopener">MinIO</a></td>
<td align="left">Object storage service</td>
<td align="center"><a href="https://min.io/download" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/minio/" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/infrastructure/production/architecture/#storage-architecture" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#gitlab-runner" target="_blank" rel="noopener">Runner</a></td>
<td align="left">Executes GitLab CI/CD jobs</td>
<td align="center"><a href="https://docs.gitlab.com/runner/" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/runner/install/kubernetes.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/gitlab_com/index.html#shared-runners" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#database-migrations" target="_blank" rel="noopener">Database Migrations</a></td>
<td align="left">Database migrations</td>
<td align="center"><a href="https://docs.gitlab.com/omnibus/settings/database.html#disabling-automatic-database-migration" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/gitlab/migrations/" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center">‚úÖ</td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#certificate-management" target="_blank" rel="noopener">Certificate Management</a></td>
<td align="left">TLS Settings, Let‚Äôs Encrypt</td>
<td align="center"><a href="https://docs.gitlab.com/omnibus/settings/ssl.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/installation/tls.html" target="_blank" rel="noopener">‚úÖ</a></td>
<td align="center"><a href="https://about.gitlab.com/handbook/engineering/infrastructure/production/architecture/#secrets-management" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#gitlab-geo" target="_blank" rel="noopener">GitLab Geo Node</a></td>
<td align="left">Geographically distributed GitLab nodes</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/geo/replication/index.html#setup-instructions" target="_blank" rel="noopener">‚öô</a></td>
<td align="center"><a href="https://gitlab.com/gitlab-org/charts/gitlab/issues/8" target="_blank" rel="noopener">‚ùå</a></td>
<td align="center">‚úÖ</td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#ldap-authentication" target="_blank" rel="noopener">LDAP Authentication</a></td>
<td align="left">Authenticate users against centralized LDAP directory</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/auth/ldap.html" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/charts/globals.html#ldap" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://about.gitlab.com/pricing/#gitlab-com" target="_blank" rel="noopener">‚ùå</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#outbound-email" target="_blank" rel="noopener">Outbound email (SMTP)</a></td>
<td align="left">Send email messages to users</td>
<td align="center"><a href="https://docs.gitlab.com/omnibus/settings/smtp.html" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/installation/command-line-options.html#outgoing-email-configuration" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/gitlab_com/index.html#mail-configuration" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#inbound-email" target="_blank" rel="noopener">Inbound email (SMTP)</a></td>
<td align="left">Receive messages to update issues</td>
<td align="center"><a href="https://docs.gitlab.com/ee/administration/incoming_email.html" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/charts/installation/command-line-options.html#incoming-email-configuration" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/gitlab_com/index.html#mail-configuration" target="_blank" rel="noopener">‚úÖ</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#elasticsearch" target="_blank" rel="noopener">Elasticsearch</a></td>
<td align="left">Improved search within GitLab</td>
<td align="center"><a href="https://docs.gitlab.com/ee/integration/elasticsearch.html" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/integration/elasticsearch.html" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://gitlab.com/groups/gitlab-org/-/epics/153" target="_blank" rel="noopener">‚ùå</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#sentry" target="_blank" rel="noopener">Sentry integration</a></td>
<td align="left">Error tracking for deployed apps</td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/project/operations/error_tracking.html" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/project/operations/error_tracking.html" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/project/operations/error_tracking.html" target="_blank" rel="noopener">‚§ì</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#jaeger" target="_blank" rel="noopener">Jaeger integration</a></td>
<td align="left">Distributed tracing for deployed apps</td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/project/operations/tracing.html" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/project/operations/tracing.html" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/project/operations/tracing.html" target="_blank" rel="noopener">‚§ì</a></td>
</tr>
<tr>
<td align="left"><a href="https://docs.gitlab.com/ee/development/architecture.html#gitlab-managed-apps" target="_blank" rel="noopener">GitLab Managed Apps</a></td>
<td align="left">Deploy <a href="https://helm.sh/docs/" target="_blank" rel="noopener">Helm</a>, <a href="https://kubernetes.io/docs/concepts/services-networking/ingress/" target="_blank" rel="noopener">Ingress</a>, <a href="https://docs.cert-manager.io/en/latest/" target="_blank" rel="noopener">Cert-Manager</a>, <a href="https://prometheus.io/docs/introduction/overview/" target="_blank" rel="noopener">Prometheus</a>, a <a href="https://docs.gitlab.com/runner/" target="_blank" rel="noopener">Runner</a>, <a href="https://jupyter.org/" target="_blank" rel="noopener">JupyterHub</a>, <a href="https://cloud.google.com/knative/" target="_blank" rel="noopener">Knative</a> to a cluster</td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/project/clusters/index.html#installing-applications" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/project/clusters/index.html#installing-applications" target="_blank" rel="noopener">‚§ì</a></td>
<td align="center"><a href="https://docs.gitlab.com/ee/user/project/clusters/index.html#installing-applications" target="_blank" rel="noopener">‚§ì</a></td>
</tr>
</tbody></table>
<h2 id="ÂÆâË£Ö-Gitlab"><a href="#ÂÆâË£Ö-Gitlab" class="headerlink" title="ÂÆâË£Ö Gitlab"></a>ÂÆâË£Ö Gitlab</h2><p>Âí±ÈÅµ‰ªéÂÆòÊñπÁöÑÂª∫ËÆÆÔºå‰ΩøÁî® Omnibus ÂåÖÁöÑÊñπÂºèÊù•ÈÉ®ÁΩ≤ Gitlab ÂÆû‰æã„ÄÇ</p>
<h3 id="Ubuntu-1804"><a href="#Ubuntu-1804" class="headerlink" title="Ubuntu 1804"></a>Ubuntu 1804</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openssh-server</span><br><span class="line">curl https://packages.gitlab.com/gpg.key 2&gt; /dev/null | sudo apt-key add - &amp;&gt;/dev/null</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ê∑ªÂä†Ê∏ÖÂçéÂ§ßÂ≠¶ÁöÑÈïúÂÉèÁ´ôÊ∫ê bionicÊòØ Ubuntu18.04 xenialÊòØ16.04ÔºåÊ†πÊçÆËá™Â∑±ÁöÑ Ubuntu ÂèëË°åÁâàÊú¨‰øÆÊîπ‰∏Ä‰∏ã‰∏ã</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/ubuntu bionic main</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install gitlab-ce</span><br><span class="line"></span><br><span class="line"><span class="comment"># ‰πüÂèØ‰ª•ËÄÉËôë‰ΩøÁî® wget ÁöÑÊñπÂºèÊää deb ÂåÖ‰∏ãËΩΩ‰∏ãÊù•</span></span><br><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/ubuntu/pool/bionic/main/g/gitlab-ce/gitlab-ce_12.3.5-ce.0_amd64.deb</span><br><span class="line"></span><br><span class="line">opkg -i gitlab-ce/gitlab-ce_12.3.5-ce.0_amd64.deb</span><br></pre></td></tr></table></figure>
<h3 id="CentOS7"><a href="#CentOS7" class="headerlink" title="CentOS7"></a>CentOS7</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÂÆâË£Ö‰æùËµñ</span></span><br><span class="line">sudo yum install -y curl policycoreutils-python openssh-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># ÈÖçÁΩÆÈò≤ÁÅ´Â¢ô</span></span><br><span class="line">sudo firewall-cmd --permanent --add-service=http</span><br><span class="line">sudo systemctl reload firewalld</span><br><span class="line"></span><br><span class="line"><span class="comment"># ‰ΩøÁî®Ê∏ÖÂçéÂ§ßÂ≠¶ÈïúÂÉèÁ´ôÁöÑÊ∫êÔºå‰∏ãËΩΩÈÄüÂ∫¶‰ºöÂø´‰∫õ„ÄÇ</span></span><br><span class="line">sudo cat &gt; /etc/yum.repos.d/gitlab-ce.repo &lt;&lt;EOF</span><br><span class="line">[gitlab-ce]</span><br><span class="line">name=Gitlab CE Repository</span><br><span class="line">baseurl=https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line">Ece</span><br><span class="line"></span><br><span class="line">sudo yum makecache</span><br><span class="line"></span><br><span class="line"><span class="comment"># Êü•ÁúãÂèØÁî®ÁöÑÁâàÊú¨neng'b</span></span><br><span class="line">yum list gitlab-ce --showduplicates</span><br><span class="line"><span class="comment"># ÁÑ∂ÂêéÂÆâË£ÖÊúÄÊñ∞ÁöÑÁâàÊú¨</span></span><br><span class="line">yum install -y gitlab-ce</span><br><span class="line"><span class="comment"># ÂÆâË£ÖÊåáÂÆöÁâàÊú¨ 12.3.5</span></span><br><span class="line">yum install gitlab-ce-12.3.5-ce.0.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># ‰πüÂèØ‰ª•‰ΩøÁî® wget ÁöÑÊñπÂºèÊää rpm ÂåÖ‰∏ãËΩΩ‰∏ãÊù•ÂÆâË£Ö</span></span><br><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/gitlab-ce-12.8.2-ce.0.el7.x86_64.rpm</span><br><span class="line">yum install gitlab-ce-12.8.2-ce.0.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>
<p>ÂÆâË£ÖÊàêÂäü‰πãÂêé‰ºöÂá∫Áé∞ Gitlab ÁöÑ Logo</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">       *.                  *.</span><br><span class="line">      ***                 ***</span><br><span class="line">     *****               *****</span><br><span class="line">    .******             *******</span><br><span class="line">    ********            ********</span><br><span class="line">   ,,,,,,,,,***********,,,,,,,,,</span><br><span class="line">  ,,,,,,,,,,,*********,,,,,,,,,,,</span><br><span class="line">  .,,,,,,,,,,,*******,,,,,,,,,,,,</span><br><span class="line">      ,,,,,,,,,*****,,,,,,,,,.</span><br><span class="line">         ,,,,,,,****,,,,,,</span><br><span class="line">            .,,,***,,,,</span><br><span class="line">                ,*,.</span><br><span class="line"></span><br><span class="line">     _______ __  __          __</span><br><span class="line">    / ____(_) /_/ /   ____ _/ /_</span><br><span class="line">   / / __/ / __/ /   / __ `/ __ \</span><br><span class="line">  / /_/ / / /_/ /___/ /_/ / /_/ /</span><br><span class="line">  \____/_/\__/_____/\__,_/_.___/</span><br><span class="line"></span><br><span class="line">Thank you for installing GitLab!</span><br><span class="line">GitLab was unable to detect a valid hostname for your instance.</span><br><span class="line">Please configure a URL for your GitLab instance by setting `external_url`</span><br><span class="line">configuration in /etc/gitlab/gitlab.rb file.</span><br><span class="line">Then, you can start your GitLab instance by running the following command:</span><br><span class="line">  sudo gitlab-ctl reconfigure</span><br></pre></td></tr></table></figure>
<h3 id="2-ÊâìË°•‰∏ÅÔºåË°•ÂÖÖÊ±âÂåñÁöÑË°•‰∏Å"><a href="#2-ÊâìË°•‰∏ÅÔºåË°•ÂÖÖÊ±âÂåñÁöÑË°•‰∏Å" class="headerlink" title="2.ÊâìË°•‰∏ÅÔºåË°•ÂÖÖÊ±âÂåñÁöÑË°•‰∏Å"></a>2.ÊâìË°•‰∏ÅÔºåË°•ÂÖÖÊ±âÂåñÁöÑË°•‰∏Å</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://gitlab.com/xhang/gitlab.git</span><br><span class="line"><span class="built_in">cd</span> gitlab</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëé∑ÂèñÂΩìÂâçÂÆâË£ÖÁöÑÁâàÊú¨</span></span><br><span class="line">gitlab_version=$(cat /opt/gitlab/embedded/service/gitlab-rails/VERSION)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ÁîüÊàêÂØπÂ∫îÁâàÊú¨Ë°•‰∏ÅÊñá‰ª∂</span></span><br><span class="line">git diff v<span class="variable">$&#123;gitlab_version&#125;</span> v<span class="variable">$&#123;gitlab_version&#125;</span>-zh &gt; ../<span class="variable">$&#123;gitlab_version&#125;</span>-zh.diff</span><br><span class="line"></span><br><span class="line">gitlab-ctl stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># ÊâìË°•‰∏ÅÁöÑÊó∂ÂÄô‰ºöÊèêÁ§∫‰∏Ä‰∫õË°•‰∏ÅÊñá‰ª∂‰∏çÂ≠òÂú®Ôºå‰∏ÄÂÆöË¶ÅË∑≥ËøáËøô‰∫õÊñá‰ª∂Ôºå‰∏çÁÑ∂ÂêéÈù¢reconfigÁöÑÊó∂ÂÄô‰ºöÊä•ÈîôÁöÑ„ÄÇ</span></span><br><span class="line">patch -d /opt/gitlab/embedded/service/gitlab-rails -p1 &lt; <span class="variable">$&#123;gitlab_version&#125;</span>-zh.diff</span><br></pre></td></tr></table></figure>
<h3 id="3-‰øÆÊîπÈªòËÆ§ÈÖçÁΩÆ"><a href="#3-‰øÆÊîπÈªòËÆ§ÈÖçÁΩÆ" class="headerlink" title="3. ‰øÆÊîπÈªòËÆ§ÈÖçÁΩÆ"></a>3. ‰øÆÊîπÈªòËÆ§ÈÖçÁΩÆ</h3><p>‰øÆÊîπ gitlab ÁöÑÈÖçÁΩÆÊñá‰ª∂ <code>/etc/gitlab/gitlab.rb</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ‰øÆÊîπ‰∏∫‰Ω†Ëá™Â∑±ÁöÑÂüüÂêçÊàñËÄÖ IPÔºåÊòØÂçïÂºïÂè∑ÔºåËÄå‰∏îÂâçÈù¢ÁöÑ http ‰∏çË¶ÅÊîπ</span></span><br><span class="line">external_url  'http://gitlab.domain'</span><br><span class="line"></span><br><span class="line"><span class="comment"># ÈÇÆ‰ª∂ÈÖçÁΩÆÔºåÊ≤°ÊúâÈÇÆ‰ª∂ÊúçÂä°Âô®ÂèØ‰ª•ÂÖ≥Èó≠ÈÇÆ‰ª∂ÊúçÂä°ÂäüËÉΩ</span></span><br><span class="line">gitlab_rails['smtp_enable'] = false</span><br><span class="line">gitlab_rails['smtp_address'] = ""</span><br><span class="line">gitlab_rails['smtp_port'] =  587</span><br><span class="line">gitlab_rails['smtp_user_name'] = ""</span><br><span class="line">gitlab_rails['smtp_password'] = ""</span><br><span class="line">gitlab_rails['smtp_authentication'] = ""</span><br><span class="line">gitlab_rails['smtp_enable_starttls_auto'] =</span><br><span class="line">gitlab_rails['smtp_tls'] =</span><br><span class="line">gitlab_rails['gitlab_email_from'] = ''</span><br></pre></td></tr></table></figure>
<h3 id="4-ÂàùÂßãÂåñËÆæÁΩÆ"><a href="#4-ÂàùÂßãÂåñËÆæÁΩÆ" class="headerlink" title="4. ÂàùÂßãÂåñËÆæÁΩÆ"></a>4. ÂàùÂßãÂåñËÆæÁΩÆ</h3><p>‰øÆÊîπÂÆåÊàêÈÖçÁΩÆ‰πãÂêé‰ΩøÁî® <code>gitlab-ctl reconfigure</code> ÈáçÊñ∞Êõ¥Êñ∞‰∏Ä‰∏ã gitlab ÊúçÂä°ÁöÑÈÖçÁΩÆÔºåÊõ¥Êñ∞ÂÆåÊàêÈÖçÁΩÆ‰πãÂêé‰ΩøÁî®<br><code>gitlab-ctl restart</code> Êù•ÈáçÊñ∞ÂêØÂä® gitlab „ÄÇÂ¶ÇÊûú reconfigure Â§±Ë¥•ÔºåÂàôÈúÄË¶Å <code>systemctl enable gitlab- runsvdir &amp;&amp; systemctl restart gitlab- runsvdir</code> ÈáçÂêØ‰∏Ä‰∏ã  <code>gitlab-runsvdir</code> ÊúçÂä°„ÄÇ</p>
<p>ÊâìÂºÄÊµèËßàÂô®ËøõË°åÂàùÂßãÂåñË¥¶Êà∑ËÆæÂÆöÂØÜÁ†ÅÔºåËøô‰∏™ÂØÜÁ†Å‰∏∫ root ÁÆ°ÁêÜÂëòË¥¶Êà∑ÁöÑÂØÜÁ†Å„ÄÇËÆæÁΩÆÂÆåÂØÜÁ†Å‰πãÂêé‰ºöËá™Âä®Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢„ÄÇusername ‰∏∫ <code>root</code> ÂØÜÁ†Å‰∏∫ÂàöÂàöËÆæÁΩÆÁöÑÂØÜÁ†Å„ÄÇ</p>
<h2 id="ÂÆâË£Ö-gitlab-runner"><a href="#ÂÆâË£Ö-gitlab-runner" class="headerlink" title="ÂÆâË£Ö gitlab-runner"></a>ÂÆâË£Ö gitlab-runner</h2><h3 id="Debian-Ubuntu"><a href="#Debian-Ubuntu" class="headerlink" title="Debian/Ubuntu"></a>Debian/Ubuntu</h3><p>È¶ñÂÖà‰ø°‰ªª GitLab ÁöÑ GPG ÂÖ¨Èí•:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://packages.gitlab.com/gpg.key 2&gt; /dev/null | sudo apt-key add - &amp;&gt;/dev/null</span><br></pre></td></tr></table></figure>
<p>ÂÜçÈÄâÊã©‰Ω†ÁöÑ Debian/Ubuntu ÁâàÊú¨ÔºåÊñáÊú¨Ê°Ü‰∏≠ÂÜÖÂÆπÂÜôËøõ <code>/etc/apt/sources.list.d/gitlab-runner.list</code></p>
<h4 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h4><p>Ê†πÊçÆËá™Â∑±ÁöÑÂèëË°åÁâà‰ª£Âè∑‰øÆÊîπ‰∏Ä‰∏ã <code>stretch</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/gitlab-runner/debian stretch main</span><br></pre></td></tr></table></figure>
<h4 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h4><p>Ê†πÊçÆËá™Â∑±ÁöÑÂèëË°åÁâà‰ª£Âè∑‰øÆÊîπ‰∏Ä‰∏ã <code>bionic</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/gitlab-runner/ubuntu bionic main</span><br></pre></td></tr></table></figure>
<p>ÈÖçÁΩÆÂ•Ω deb Ê∫ê‰πãÂêéÂÜçÊâßË°å</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt uodate</span><br><span class="line">apt install gitlab-runner -y</span><br></pre></td></tr></table></figure>
<h3 id="CentOS7-1"><a href="#CentOS7-1" class="headerlink" title="CentOS7"></a>CentOS7</h3><p>Êñ∞Âª∫ <code>/etc/yum.repos.d/gitlab-runner.repo</code>ÔºåÂÜÖÂÆπ‰∏∫</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[gitlab-runner]</span><br><span class="line">name=gitlab-runner</span><br><span class="line">baseurl=https://mirrors.tuna.tsinghua.edu.cn/gitlab-runner/yum/el7</span><br><span class="line">repo_gpgcheck=0</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line">gpgkey=https://packages.gitlab.com/gpg.key</span><br></pre></td></tr></table></figure>
<p>ÂÜçÊâßË°å</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo yum makecache</span><br><span class="line">sudo yum install gitlab-runner -y</span><br><span class="line"><span class="comment"># ÂÆâË£ÖÊåáÂÆöÁâàÊú¨ ÂÖ∂‰∏≠ 12.3.5 Âç≥‰∏∫ÊåáÂÆöÁöÑÁâàÊú¨Âè∑</span></span><br><span class="line">yum install gitlab-runner-12.3.5-1.x86_64 -y</span><br></pre></td></tr></table></figure>
<h3 id="Ê≥®ÂÜå-gitlab-runner"><a href="#Ê≥®ÂÜå-gitlab-runner" class="headerlink" title="Ê≥®ÂÜå gitlab-runner"></a>Ê≥®ÂÜå gitlab-runner</h3><p>‰ΩøÁî® root Áî®Êà∑‰ªé web Á´ØÁôªÂΩïÂà∞ gitlab ÁÆ°ÁêÜ‰∏≠ÂøÉ„ÄÇÂú® <code>Ê¶ÇËßà</code> ‚Äì&gt; <code>Runner</code> „ÄÇÂú®Âè≥‰∏äËßí‰ºöÊúâ‰ª•‰∏ãÔºåÁ®çÂêé‰ºöÁî®Âà∞„ÄÇ</p>
<ul>
<li>Âú® Runner ËÆæÁΩÆÊó∂ÊåáÂÆö‰ª•‰∏ã URL</li>
<li>Âú®ÂÆâË£ÖËøáÁ®ã‰∏≠‰ΩøÁî®‰ª•‰∏ãÊ≥®ÂÜå‰ª§ÁâåÔºö</li>
</ul>
<p>ÂÆâË£ÖÂ•Ω gitlab-runner ‰πãÂêéÂ¶ÇÊûúÁõ¥Êé•Âêë gitlab Ê≥®ÂÜåÂàô‰ºöÊèêÁ§∫Â§±Ë¥•ÔºåÊèêÁ§∫ <code>ERROR: Registering runner... failed   runner=qRGh2M86 status=500 Internal Server Error</code> „ÄÇËøôÊòØÂõ†‰∏∫ Gitlab ÈªòËÆ§Á¶ÅÊ≠¢‰∫ÜÁßÅÊúâÁΩëÊÆµ IP ÈáåÁöÑ API ËØ∑Ê±ÇÔºåÈúÄË¶ÅÊâãÂä®ÂºÄÂêØÊâçË°å„ÄÇ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">‚ï≠‚îÄroot@gitlab ~</span><br><span class="line">‚ï∞‚îÄ<span class="comment"># gitlab-runner register</span></span><br><span class="line">Runtime platform   arch=amd64 os=linux pid=6818 revision=1b659122 version=12.8.0</span><br><span class="line">Running <span class="keyword">in</span> system-mode.</span><br><span class="line">Please enter the gitlab-ci coordinator URL (e.g. https://gitlab.com/):</span><br><span class="line">http://10.10.107.216/</span><br><span class="line">Please enter the gitlab-ci token <span class="keyword">for</span> this runner:</span><br><span class="line">qRGh2M86iTasjBn1dU8L</span><br><span class="line">Please enter the gitlab-ci description <span class="keyword">for</span> this runner:</span><br><span class="line">[gitlab]: runner-centos</span><br><span class="line">Please enter the gitlab-ci tags <span class="keyword">for</span> this runner (comma separated):</span><br><span class="line">centos</span><br><span class="line">ERROR: Registering runner... failed   runner=qRGh2M86 status=500 Internal Server Error</span><br><span class="line">PANIC: Failed to register this runner. Perhaps you are having network problems</span><br></pre></td></tr></table></figure>
<h3 id="‰øÆÊîπ-gitlab-ÈªòËÆ§ÁΩëÁªúËÆæÁΩÆ"><a href="#‰øÆÊîπ-gitlab-ÈªòËÆ§ÁΩëÁªúËÆæÁΩÆ" class="headerlink" title="‰øÆÊîπ gitlab ÈªòËÆ§ÁΩëÁªúËÆæÁΩÆ"></a>‰øÆÊîπ gitlab ÈªòËÆ§ÁΩëÁªúËÆæÁΩÆ</h3><p>‰ΩøÁî® root Áî®Êà∑‰ªé web Á´ØÁôªÂΩïÂà∞ gitlab ÁÆ°ÁêÜ‰∏≠ÂøÉ http://${ip}/admin „ÄÇÁÆ°ÁêÜ‰∏≠ÂøÉ ‚Äì&gt; ËÆæÁΩÆ ‚Äì&gt; ÁΩëÁªú ‚Äì&gt; Â§ñÂèëËØ∑Ê±Ç ‚Äì&gt; ÂÖÅËÆ∏Êù•Ëá™Èí©Â≠êÂíåÊúçÂä°ÁöÑÂØπÊú¨Âú∞ÁΩëÁªúÁöÑËØ∑Ê±Ç„ÄÇ‰ª•‰∏ãÈÄâÈ°πÂÖ®ÈÉ®ÂÖÅËÆ∏ÔºåÊâçËÉΩÈÄöËøáÂ§ñÈÉ®ËØ∑Ê±ÇÁöÑÊñπÂºèÊ≥®ÂÜå gitlab-runner„ÄÇ</p>
<ul>
<li>Allow requests to the local network from web hooks and services</li>
<li>Allow requests to the local network from system hooks</li>
</ul>
<p><strong>‰∏∫‰∫ÜÂÆâÂÖ®Ëµ∑ËßÅ</strong>Ôºå‰πüÂèØ‰ª•Âú® Whitelist to allow requests to the local network from hooks and services ‰∏ãÊñπÁöÑÈÇ£‰∏™Ê°ÜÊ°ÜÈáåÊ∑ªÂä†‰∏äÁôΩÂêçÂçïÔºåÂÖÅËÆ∏ÊéàÊùÉÁöÑ IP „ÄÇ‰øÆÊîπÂ•Ω‰πãÂêé‰∏çË¶ÅÂøòËÆ∞ÁÇπÂáªÂ∫ïÈÉ®ÈÇ£‰∏™ÁªøËâ≤ÊåâÈíÆ <code>‰øùÂ≠ò‰øÆÊîπ</code> „ÄÇ</p>
<h4 id="500-ÈîôËØØ"><a href="#500-ÈîôËØØ" class="headerlink" title="500 ÈîôËØØ"></a>500 ÈîôËØØ</h4><p>Â¶ÇÊûúÁÇπÂáª <code>‰øùÂ≠ò‰øÆÊîπ</code> ‰πãÂêéÂ∞±Ë∑≥ËΩ¨Âà∞ Gitlab 500 ÈîôËØØÁöÑÈ°µÈù¢„ÄÇÂ∞ùËØïÂú®ÁÆ°ÁêÜ‰∏≠ÂøÉ‰øÆÊîπÂÖ∂‰ªñËÆæÁΩÆ‰øùÂ≠òÊó∂Ôºå‰πü‰ºöÂá∫Áé∞ 500 ÁöÑÊÉÖÂÜµ„ÄÇÂú®ÂÆâË£Ö gitlab ÁöÑÊú∫Âô®‰∏äÊü•Áúã‰∏Ä‰∏ãÊó•Âøó„ÄÇËøêË°å <code>gitlab-ctl tail</code> Êü•ÁúãÂÆûÊó∂ÁöÑÊó•Âøó„ÄÇÊ≠§Êó∂Á≠âÂà∞Êó•ÂøóËæìÂá∫ÂáèÊÖ¢ÁöÑÊó∂ÂÄôÊàë‰ª¨Â§öÊåâÂá†‰∏ãÂõûËΩ¶ÔºåÁÑ∂ÂêéÂ∞±Á´ãÂç≥ÂéªÁÇπÂáª<code>‰øùÂ≠ò‰øÆÊîπ</code>  ÊåâÈíÆÔºåËøôÊ†∑Â∞±ËÉΩÊçïÊçâÂà∞Ê≠§ÂàªÁöÑÈîôËØØÊó•Âøó„ÄÇ</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">==&gt; /<span class="keyword">var</span>/log/gitlab/gitlab-rails/production<span class="variable">.log</span> &lt;==</span><br><span class="line">Started PATCH <span class="string">"/admin/application_settings/network"</span> <span class="keyword">for</span> <span class="number">10</span><span class="variable">.0</span><span class="variable">.30</span><span class="variable">.2</span> at <span class="number">2020</span>-<span class="number">03</span>-<span class="number">10</span> <span class="number">11</span>:<span class="number">08</span>:<span class="number">20</span> +<span class="number">0000</span></span><br><span class="line">Processing by Admin::ApplicationSettingsController#network as HTML</span><br><span class="line">  Parameters: &#123;<span class="string">"utf8"</span>=&gt;<span class="string">"‚úì"</span>, <span class="string">"authenticity_token"</span>=&gt;<span class="string">"[FILTERED]"</span>, <span class="string">"application_setting"</span>=&gt;&#123;<span class="string">"allow_local_requests_from_web_hooks_and_services"</span>=&gt;<span class="string">"[FILTERED]"</span>, <span class="string">"allow_local_requests_from_system_hooks"</span>=&gt;<span class="string">"[FILTERED]"</span>, <span class="string">"outbound_local_requests_whitelist_raw"</span>=&gt;<span class="string">""</span>, <span class="string">"dns_rebinding_protection_enabled"</span>=&gt;<span class="string">"1"</span>&#125;&#125;</span><br><span class="line">Completed <span class="number">500</span> Internal Server Error in <span class="number">40</span>ms (ActiveRecord: <span class="number">14</span><span class="variable">.5ms</span> | Elasticsearch: <span class="number">0</span><span class="variable">.0ms</span>)</span><br><span class="line">OpenSSL::Cipher::CipherError ():</span><br><span class="line">lib/gitlab/crypto_helper<span class="variable">.rb</span>:<span class="number">27</span>:in <span class="meta">`aes256_gcm_decrypt'</span></span><br></pre></td></tr></table></figure>
<p>ÂÖ∂‰∏≠ÈîôËØØÁöÑËæìÂá∫ÊòØÂú® <code>OpenSSL::Cipher::CipherError ():</code></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Processing by Admin::ApplicationSettingsController#network as HTML</span><br><span class="line">  Parameters: &#123;<span class="string">"utf8"</span>=&gt;<span class="string">"‚úì"</span>, <span class="string">"authenticity_token"</span>=&gt;<span class="string">"[FILTERED]"</span>, <span class="string">"application_setting"</span>=&gt;&#123;<span class="string">"allow_local_requests_from_web_hooks_and_services"</span>=&gt;<span class="string">"[FILTERED]"</span>, <span class="string">"allow_local_requests_from_system_hooks"</span>=&gt;<span class="string">"[FILTERED]"</span>, <span class="string">"outbound_local_requests_whitelist_raw"</span>=&gt;<span class="string">""</span>, <span class="string">"dns_rebinding_protection_enabled"</span>=&gt;<span class="string">"1"</span>&#125;&#125;</span><br><span class="line">Completed <span class="number">500</span> Internal Server Error in <span class="number">40</span>ms (ActiveRecord: <span class="number">14</span><span class="variable">.5ms</span> | Elasticsearch: <span class="number">0</span><span class="variable">.0ms</span>)</span><br><span class="line">OpenSSL::Cipher::CipherError ():</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ÊêúÁ¥¢‰∫Ü‰∏Ä‰∏ãÔºåÂèëÁé∞ÁΩë‰∏äËØ¥ÊòØÁî±‰∫éËøÅÁßªÂØºÂÖ•È°πÁõÆÂêéÔºåÊ≤°ÊúâÂØºÂÖ•ÂéüÊù•ÁöÑÂä†ÂØÜ‰ø°ÊÅØ<code>/etc/gitlab/gitlab-secrets.json</code>Ôºå ‰ΩÜÊòØÂéüÊù•ÁöÑÂä†ÂØÜ‰ø°ÊÅØÊñá‰ª∂ÊàëÂ∑≤ÁªèÊâæ‰∏çÂà∞‰∫ÜÔºåÂêéÈù¢ÂèëÁé∞ÂèØ‰ª•Áõ¥Êé•ÈáçÁΩÆÂ∞±Ë°å‰∫Ü</p>
<p>ÂèÇËÄÉ <a href="https://hihozhou.com/blog/2019/08/01/gitlab-500.html" target="_blank" rel="noopener">Ëá™Êê≠gitlabÊä•500ÈîôËØØ</a></p>
</blockquote>
<p>ÂëΩ‰ª§Ë°åËæìÂÖ•<code>gitlab-rails console</code>ÔºåÁÑ∂ÂêéËæìÂÖ•</p>
<p><code>ApplicationSetting.current.reset_runners_registration_token!</code>Âç≥ÂèØÔºåËøôÊ†∑Âú®‰øùÂ≠ò‰øÆÊîπÁöÑÊó∂ÂÄôÂ∞±‰∏ç‰ºöÂÜçÊä• 500 ÁöÑÈóÆÈ¢ò‰∫Ü„ÄÇÂ∫îËØ•ÊòØÈáçÊñ∞ÂÆâË£Ö Gitlab ‰πãÂêéÁöÑÂä†ÂØÜ‰ø°ÊÅØ‰∏çÂØπÊâÄËá¥„ÄÇ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">‚ï≠‚îÄroot@gitlab ~</span><br><span class="line">‚ï∞‚îÄ<span class="comment"># gitlab-rails console</span></span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line"> GitLab:       12.3.5 (2417d5becc7)</span><br><span class="line"> GitLab Shell: 10.0.0</span><br><span class="line"> PostgreSQL:   10.9</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">Loading production environment (Rails 5.2.3)</span><br><span class="line">irb(main):001:0&gt; ApplicationSetting.current.reset_runners_registration_token!</span><br><span class="line">=&gt; <span class="literal">true</span></span><br><span class="line">irb(main):002:0&gt; <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>
<h3 id="Âú®È°πÁõÆ‰∏≠Ê≥®ÂÜå-Runner"><a href="#Âú®È°πÁõÆ‰∏≠Ê≥®ÂÜå-Runner" class="headerlink" title="Âú®È°πÁõÆ‰∏≠Ê≥®ÂÜå Runner"></a>Âú®È°πÁõÆ‰∏≠Ê≥®ÂÜå Runner</h3><p>‰ª•‰∏äÂ∑≤ÁªèÂÆâË£ÖÂ•ΩÂπ∂‰øÆÊîπÈªòËÆ§ÁöÑÁΩëÁªúËÆæÁΩÆÂÖÅËÆ∏ runner ÊâÄÂú®ÁöÑ IP Âêë gitlab ÂèëËµ∑Â§ñÈÉ®ËØ∑Ê±Ç„ÄÇËøêË°å <code>gitlab-runner register</code> Ê†πÊçÆÁõ∏Â∫îÁöÑÊèêÁ§∫ËæìÂÖ• <code>URL</code> Âíå <code>token</code> Âç≥ÂèØ„ÄÇÊúÄÂêéÊ†πÊçÆÊú∫Âô®ÁöÑÁ±ªÂûãÈÄâÊã©Â•Ω runner ÁöÑÁ±ªÂûãÔºåËøô‰∏™‰πüÊòØË∑ë CI ‰ªªÂä°Êó∂ÁöÑÁéØÂ¢ÉÔºåÂà∞Êó∂ÂÄôÂèØ‰ª•Âú®È°πÁõÆÁöÑËÆæÁΩÆ‰∏≠ÈÄâÊã©ÂêØÂä®Áõ∏Â∫îÁöÑ runner „ÄÇ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">‚ï≠‚îÄroot@runner ~</span><br><span class="line">‚ï∞‚îÄ<span class="comment"># gitlab-runner register</span></span><br><span class="line">Runtime platform   arch=amd64 os=linux pid=7501 revision=1b659122 version=12.8.0</span><br><span class="line">Running <span class="keyword">in</span> system-mode.</span><br><span class="line">Please enter the gitlab-ci coordinator URL (e.g. https://gitlab.com/):</span><br><span class="line">http://10.10.107.216/</span><br><span class="line">Please enter the gitlab-ci token <span class="keyword">for</span> this runner:</span><br><span class="line">4hjjA7meRGuxEm3LyMjq</span><br><span class="line">Please enter the gitlab-ci description <span class="keyword">for</span> this runner:</span><br><span class="line">[runner]:</span><br><span class="line">Please enter the gitlab-ci tags <span class="keyword">for</span> this runner (comma separated):</span><br><span class="line">centos</span><br><span class="line">Registering runner... succeeded                     runner=4hjjA7me</span><br><span class="line">Please enter the executor: shell, ssh, virtualbox, docker-ssh+machine, kubernetes, docker, docker-ssh, parallels, docker+machine, custom:</span><br><span class="line">[shell]: shell</span><br><span class="line">Runner registered successfully. Feel free to start it, but <span class="keyword">if</span> it<span class="string">'s running already the config should be automatically reloaded!</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ÊèêÁ§∫ÊàêÂäü‰πãÂêéÁÑ∂ÂêéÂú® <code>ÁÆ°ÁêÜ‰∏≠ÂøÉ</code>‚Äì&gt; <code>Ê¶ÇËßà</code> ‚Äì&gt; <code>Runner</code> ÂèØ‰ª•Êü•ÁúãÂà∞Áõ∏Â∫îÁöÑ Runner ‰∫Ü„ÄÇ‰πüÂèØ‰ª•ÊâãÂä®ÁºñËæë <code>/etc/gitlab-runner/config.toml</code> Êù•Ê≥®ÂÜåÁõ∏Â∫îÁ±ªÂûãÁöÑ  Runner</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">concurrent</span> = <span class="number">1</span></span><br><span class="line"><span class="attr">check_interval</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="section">[session_server]</span></span><br><span class="line">  session_timeout = 1800</span><br><span class="line"></span><br><span class="line"><span class="section">[[runners]]</span></span><br><span class="line">  name = "runner"</span><br><span class="line">  url = "http://10.10.107.216/"</span><br><span class="line">  token = "ZTSAQ3q6x_upW9toyKTY"</span><br><span class="line">  executor = "shell"</span><br><span class="line">  <span class="section">[runners.custom_build_dir]</span></span><br><span class="line">  <span class="section">[runners.cache]</span></span><br><span class="line">    <span class="section">[runners.cache.s3]</span></span><br><span class="line">    <span class="section">[runners.cache.gcs]</span></span><br><span class="line"></span><br><span class="line"><span class="section">[[runners]]</span></span><br><span class="line">  name = "docker-runner"</span><br><span class="line">  url = "http://10.10.107.216/"</span><br><span class="line">  token = "Cf1cy6yx4Y-bGjVnRf8m"</span><br><span class="line">  executor = "docker"</span><br><span class="line">  <span class="section">[runners.custom_build_dir]</span></span><br><span class="line">  <span class="section">[runners.cache]</span></span><br><span class="line">    <span class="section">[runners.cache.s3]</span></span><br><span class="line">    <span class="section">[runners.cache.gcs]</span></span><br><span class="line">  <span class="section">[runners.docker]</span></span><br><span class="line">  <span class="comment"># Âú®ËøôÈáåÈúÄË¶ÅÊ∑ªÂä†‰∏ä harbor ÁöÑÂú∞ÂùÄÔºåÊâçËÉΩÂÖÅËÆ∏ pull ÁßÅÊúâ registry ÁöÑÈïúÂÉè</span></span><br><span class="line">    allowed_images = ["10.10.107.217/*:*"]</span><br><span class="line">    tls_verify = false</span><br><span class="line">    image = "golang:latest"</span><br><span class="line">    privileged = true</span><br><span class="line">    disable_entrypoint_overwrite = false</span><br><span class="line">    oom_kill_disable = false</span><br><span class="line">    disable_cache = false</span><br><span class="line">    volumes = ["/cache"]</span><br><span class="line">    shm_size = 0</span><br></pre></td></tr></table></figure>
<h2 id="ÈÉ®ÁΩ≤-Harbor"><a href="#ÈÉ®ÁΩ≤-Harbor" class="headerlink" title="ÈÉ®ÁΩ≤ Harbor"></a>ÈÉ®ÁΩ≤ Harbor</h2><ul>
<li>Âú® harbor È°πÁõÆÁöÑ release È°µÈù¢‰∏ãËΩΩÁ¶ªÁ∫øÂÆâË£ÖÂåÖ <a href="https://github.com/goharbor/harbor/releases/download/v1.9.4/harbor-offline-installer-v1.9.4.tgz" target="_blank" rel="noopener">harbor-offline-installer-v1.9.4.tgz</a> Âà∞ÈÉ®ÁΩ≤ÁöÑÊú∫Âô®‰∏ä„ÄÇÈÉ®ÁΩ≤‰πãÂâçÈúÄË¶ÅÂÆâË£ÖÂ•Ω <code>docker</code> Âíå <code>docker-compose</code> „ÄÇ‰πãÂêéÂÜç‰øÆÊîπ <code>harbor.yml</code> ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑ‰ª•‰∏ãÂÜÖÂÆπÔºö</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hostname ÈúÄË¶Å‰øÆÊîπ‰∏∫Áõ∏Â∫îÁöÑÂüüÂêçÊàñËÄÖ IP</span></span><br><span class="line"><span class="attr">hostname:</span> <span class="number">10.10</span><span class="number">.107</span><span class="number">.217</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># http related config</span></span><br><span class="line"><span class="attr">http:</span></span><br><span class="line">  <span class="comment"># port for http, default is 80. If https enabled, this port will redirect to https port</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># È¶ñÊ¨°ÁôªÂΩïÊó∂ËÆæÂÆöÁöÑ admin Ë¥¶Êà∑ÂØÜÁ†Å</span></span><br><span class="line"><span class="attr">harbor_admin_password:</span> <span class="string">Harbor12345</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Êï∞ÊçÆÂ≠òÂÇ®ÁöÑÁõÆÂΩï</span></span><br><span class="line"><span class="attr">data_volume:</span> <span class="string">/data</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># clair CVE ÊºèÊ¥ûÊï∞ÊçÆÂ∫ìÊõ¥Êñ∞ÔºåËøôÈáåÂª∫ËÆÆËÆæÁΩÆ‰∏∫ 1h</span></span><br><span class="line"><span class="comment"># Áî±‰∫é clair Êï∞ÊçÆÂ∫ìÂú®ÂõΩÂÜÖÁΩëÁªúËÆøÈóÆÈóÆÈ¢òÔºåÈúÄË¶ÅËÆæÁΩÆ http ‰ª£ÁêÜ</span></span><br><span class="line"><span class="attr">clair:</span></span><br><span class="line">  <span class="comment"># The interval of clair updaters, the unit is hour, set to 0 to disable the updaters.</span></span><br><span class="line">  <span class="attr">updaters_interval:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">proxy:</span></span><br><span class="line">  <span class="attr">http_proxy:</span> <span class="number">10.20</span><span class="number">.172</span><span class="number">.106</span><span class="string">:2080</span></span><br><span class="line">  <span class="attr">https_proxy:</span></span><br><span class="line">  <span class="attr">no_proxy:</span></span><br><span class="line">  <span class="attr">components:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">clair</span></span><br></pre></td></tr></table></figure>
<ul>
<li>‰øÆÊîπÂÆåÈÖçÁΩÆÊñá‰ª∂‰πãÂêéÂÜçËøêË°å <code>./install.sh --with-clair --with-chartmuseum</code> Â∞Ü clair ÈõÜÊàêÂà∞ harbor ‰∏≠„ÄÇ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">‚ï≠‚îÄroot@harbor /opt/harbor</span><br><span class="line">‚ï∞‚îÄ# ./install.sh --with-clair --with-chartmuseum</span><br><span class="line">[Step 0]: checking installation environment ...</span><br><span class="line">[Step 1]: loading Harbor images ...</span><br><span class="line">[Step 2]: preparing environment ...</span><br><span class="line">[Step 3]: starting Harbor ...</span><br><span class="line">Creating network "harbor_harbor" with the default driver</span><br><span class="line">Creating network "harbor_harbor-clair" with the default driver</span><br><span class="line">Creating network "harbor_harbor-chartmuseum" with the default driver</span><br><span class="line">Creating harbor-log ... done</span><br><span class="line">Creating harbor-db     ... done</span><br><span class="line">Creating registryctl   ... done</span><br><span class="line">Creating harbor-portal ... done</span><br><span class="line">Creating chartmuseum   ... done</span><br><span class="line">Creating registry      ... done</span><br><span class="line">Creating redis         ... done</span><br><span class="line">Creating clair         ... done</span><br><span class="line">Creating harbor-core   ... done</span><br><span class="line">Creating harbor-jobservice ... done</span><br><span class="line">Creating nginx             ... done</span><br><span class="line"></span><br><span class="line">‚úî ----Harbor has been installed and started successfully.----</span><br><span class="line"></span><br><span class="line">Now you should be able to visit the admin portal at http://10.20.172.236.</span><br><span class="line">For more details, please visit https://github.com/goharbor/harbor .</span><br></pre></td></tr></table></figure>
<ul>
<li>‰ΩøÁî® <code>docker-compose ps</code> Ê£ÄÊü• harbor Áõ∏ÂÖ≥ÂÆπÂô®ÊòØÂê¶Ê≠£Â∏∏„ÄÇ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">‚ï≠‚îÄroot@harbor /opt/harbor</span><br><span class="line">‚ï∞‚îÄ# docker-compose ps</span><br><span class="line">      Name                     Command                  State                 Ports</span><br><span class="line">---------------------------------------------------------------------------------------------</span><br><span class="line">chartmuseum         /docker-entrypoint.sh            Up (healthy)   9999/tcp</span><br><span class="line">clair               /docker-entrypoint.sh            Up (healthy)   6060/tcp, 6061/tcp</span><br><span class="line">harbor-core         /harbor/harbor_core              Up (healthy)</span><br><span class="line">harbor-db           /docker-entrypoint.sh            Up (healthy)   5432/tcp</span><br><span class="line">harbor-jobservice   /harbor/harbor_jobservice  ...   Up (healthy)</span><br><span class="line">harbor-log          /bin/sh -c /usr/local/bin/ ...   Up (healthy)   127.0.0.1:1514-&gt;10514/tcp</span><br><span class="line">harbor-portal       nginx -g daemon off;             Up (healthy)   8080/tcp</span><br><span class="line">nginx               nginx -g daemon off;             Up (healthy)   0.0.0.0:80-&gt;8080/tcp</span><br><span class="line">redis               redis-server /etc/redis.conf     Up (healthy)   6379/tcp</span><br><span class="line">registry            /entrypoint.sh /etc/regist ...   Up (healthy)   5000/tcp</span><br><span class="line">registryctl         /harbor/start.sh                 Up (healthy)</span><br></pre></td></tr></table></figure>
<p><img src="https://p.k8s.li/20200326163733610.png" alt=""></p>
<h3 id="ËÆæÁΩÆ-insecure-registry"><a href="#ËÆæÁΩÆ-insecure-registry" class="headerlink" title="ËÆæÁΩÆ insecure registry"></a>ËÆæÁΩÆ insecure registry</h3><ul>
<li>Âú® runner ÊúçÂä°Âô®‰∏äËÆæÁΩÆ‰∏Ä‰∏ã <code>/etc/docker/daemon.json</code> Â∞ÜÁßÅÊúâ registry ÁöÑ IP Âú∞ÂùÄÂ°´ÂÖ•Âà∞ <code>insecure-registries</code> Êï∞ÁªÑ‰∏≠„ÄÇËøôÊ†∑ÊâçÂèØ‰ª•Êé®ÈÄÅÂíåÊãâÂèñÈïúÂÉè</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"insecure-registries"</span> : [<span class="string">"10.10.107.217"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>‰ΩøÁî® <code>docker login</code> ÊµãËØïÊòØÂê¶ËÉΩÁôªÂΩïÊàêÂäüÔºö</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">‚ï≠‚îÄroot@docker-230 /opt</span><br><span class="line">‚ï∞‚îÄ# docker login 10.10.107.217</span><br><span class="line">Username: admin</span><br><span class="line">Password:</span><br><span class="line">WARNING! Your password will be stored unencrypted in /root/.docker/config.json.</span><br><span class="line">Configure a credential helper to remove this warning. See</span><br><span class="line">https://docs.docker.com/engine/reference/commandline/login/#credentials-store</span><br><span class="line">Login Succeeded</span><br></pre></td></tr></table></figure>
<ul>
<li>ÁôªÂΩïÂà∞ harbor Êñ∞Âª∫‰∏Ä‰∏™È°πÁõÆ‰ªìÂ∫ìÔºåÂπ∂ÊåâÁÖß <code>docker tag SOURCE_IMAGE[:TAG] 10.20.172.236/ciest/IMAGE[:TAG]</code> Ê†ºÂºèÁªôÊú¨Âú∞ docker ÈïúÂÉèÊâì‰∏ä tag Âπ∂ÊµãËØïÊé®ÈÄÅÂà∞ harbor ÊòØÂê¶ÊàêÂäü„ÄÇ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">‚ï≠‚îÄroot@docker-230 /opt</span><br><span class="line">‚ï∞‚îÄ# docker tag openjdk:8-jdk-alpine 10.10.107.217/ops/openjdk:8-jdk-alpine</span><br><span class="line">‚ï≠‚îÄroot@docker-230 /opt</span><br><span class="line">‚ï∞‚îÄ# docker push !$</span><br><span class="line">‚ï≠‚îÄroot@docker-230 /opt</span><br><span class="line">‚ï∞‚îÄ# docker push 10.10.107.217/ops/openjdk:8-jdk-alpine</span><br><span class="line">The push refers to repository [10.10.107.217/ops/openjdk]</span><br><span class="line">ceaf9e1ebef5: Mounted from ops/ci-test</span><br><span class="line">9b9b7f3d56a0: Mounted from ops/ci-test</span><br><span class="line">f1b5933fe4b5: Mounted from ops/ci-test</span><br><span class="line">8-jdk-alpine: digest: sha256:44b3cea369c947527e266275cee85c71a81f20fc5076f6ebb5a13f19015dce71 size: 947</span><br></pre></td></tr></table></figure>
<ul>
<li>Âú® harbor È°πÁõÆÁöÑÈ°µÈù¢Êü•ÁúãÊòØÂê¶Êé®ÈÄÅÊàêÂäü</li>
</ul>
<p><img src="https://p.k8s.li/20200326170403918.png" alt=""></p>
<h2 id="ÊµãËØï-CI-CD-È°πÁõÆ"><a href="#ÊµãËØï-CI-CD-È°πÁõÆ" class="headerlink" title="ÊµãËØï CI/CD È°πÁõÆ"></a>ÊµãËØï CI/CD È°πÁõÆ</h2><ul>
<li>Âú® Gitlab ‰∏≠‰ΩøÁî® Spring Ê®°ÊùøÊñ∞Âª∫‰∏Ä‰∏™È°πÁõÆÔºåÂπ∂Ê∑ªÂä† <code>.gitlab-ci.yaml</code> ÈÖçÁΩÆÊñá‰ª∂„ÄÇ</li>
</ul>
<p><img src="https://p.k8s.li/20200326170523433.png" alt=""></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">stages:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">build</span></span><br><span class="line"><span class="attr">build-master:</span></span><br><span class="line">  <span class="comment"># Official docker image.</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">docker:latest</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">maven-runner</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">build</span></span><br><span class="line">  <span class="attr">services:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker:dind</span></span><br><span class="line">  <span class="attr">before_script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker</span> <span class="string">login</span> <span class="string">-u</span> <span class="string">"$CI_REGISTRY_USER"</span> <span class="string">-p</span> <span class="string">"$CI_REGISTRY_PASSWORD"</span> <span class="string">$CI_REGISTRY</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker</span> <span class="string">info</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker</span> <span class="string">build</span> <span class="string">--pull</span> <span class="string">-t</span> <span class="string">"$CI_REGISTRY_IMAGE"</span> <span class="string">.</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker</span> <span class="string">push</span> <span class="string">"$CI_REGISTRY_IMAGE"</span></span><br><span class="line">  <span class="attr">allow_failure:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">build:</span></span><br><span class="line">  <span class="comment"># Official docker image.</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">docker:latest</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">build</span></span><br><span class="line">  <span class="attr">services:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker:dind</span></span><br><span class="line">  <span class="attr">before_script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker</span> <span class="string">login</span> <span class="string">-u</span> <span class="string">"$CI_REGISTRY_USER"</span> <span class="string">-p</span> <span class="string">"$CI_REGISTRY_PASSWORD"</span> <span class="string">$CI_REGISTRY</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker</span> <span class="string">build</span> <span class="string">--pull</span> <span class="string">-t</span> <span class="string">"$CI_REGISTRY_IMAGE:$CI_COMMIT_REF_SLUG"</span> <span class="string">.</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker</span> <span class="string">push</span> <span class="string">"$CI_REGISTRY_IMAGE:$CI_COMMIT_REF_SLUG"</span></span><br><span class="line">  <span class="attr">except:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>
<h3 id="gitlab-ci-yaml"><a href="#gitlab-ci-yaml" class="headerlink" title=".gitlab-ci.yaml"></a>.gitlab-ci.yaml</h3><p><code>.gitlab-ci.yaml</code> Êñá‰ª∂ÁöÑÈÖçÁΩÆÈ´òÂ∫¶‰æùËµñ‰∫éÈ°πÁõÆÊú¨Ë∫´Ôºå‰ª•Âèä CI/CD ÊµÅÊ∞¥Á∫øÁöÑÈúÄÊ±Ç„ÄÇÂÖ∂ÈÖçÁΩÆÊñá‰ª∂‰∏ªË¶ÅÁî±‰ª•‰∏ãÈÉ®ÂàÜÁªÑÊàêÔºö</p>
<h4 id="Pipeline"><a href="#Pipeline" class="headerlink" title="Pipeline"></a>Pipeline</h4><p>‰∏ÄÊ¨° Pipeline ÂÖ∂ÂÆûÁõ∏ÂΩì‰∫é‰∏ÄÊ¨°ÊûÑÂª∫‰ªªÂä°ÔºåÈáåÈù¢ÂèØ‰ª•ÂåÖÂê´ÂæàÂ§ö‰∏™ÊµÅÁ®ãÔºåÂ¶ÇÂÆâË£Ö‰æùËµñ„ÄÅËøêË°åÊµãËØï„ÄÅÁºñËØë„ÄÅÈÉ®ÁΩ≤ÊµãËØïÊúçÂä°Âô®„ÄÅÈÉ®ÁΩ≤Áîü‰∫ßÊúçÂä°Âô®Á≠âÊµÅÁ®ã„ÄÇ‰ªª‰ΩïÊèê‰∫§ÊàñËÄÖ Merge Request ÁöÑÂêàÂπ∂ÈÉΩÂèØ‰ª•Ëß¶Âèë Pipeline ÊûÑÂª∫ÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+------------------+           +----------------+</span><br><span class="line">|                  |  trigger  |                |</span><br><span class="line">|   Commit &#x2F; MR    +----------&gt;+    Pipeline    |</span><br><span class="line">|                  |           |                |</span><br><span class="line">+------------------+           +----------------+</span><br></pre></td></tr></table></figure>
<h4 id="Stages"><a href="#Stages" class="headerlink" title="Stages"></a>Stages</h4><p>Stages Ë°®Á§∫‰∏Ä‰∏™ÊûÑÂª∫Èò∂ÊÆµÔºå‰πüÂ∞±ÊòØ‰∏äÈù¢ÊèêÂà∞ÁöÑ‰∏Ä‰∏™ÊµÅÁ®ã„ÄÇÊàë‰ª¨ÂèØ‰ª•Âú®‰∏ÄÊ¨° Pipeline ‰∏≠ÂÆö‰πâÂ§ö‰∏™ StagesÔºåËøô‰∫õ Stages ‰ºöÊúâ‰ª•‰∏ãÁâπÁÇπÔºö</p>
<ul>
<li>ÊâÄÊúâ Stages ‰ºöÊåâÁÖßÈ°∫Â∫èËøêË°åÔºåÂç≥ÂΩì‰∏Ä‰∏™ Stage ÂÆåÊàêÂêéÔºå‰∏ã‰∏Ä‰∏™ Stage Êâç‰ºöÂºÄÂßã</li>
<li>Âè™ÊúâÂΩìÊâÄÊúâ Stages ÂÆåÊàêÂêéÔºåËØ•ÊûÑÂª∫‰ªªÂä° (Pipeline) Êâç‰ºöÊàêÂäü</li>
<li>Â¶ÇÊûú‰ªª‰Ωï‰∏Ä‰∏™ Stage Â§±Ë¥•ÔºåÈÇ£‰πàÂêéÈù¢ÁöÑ Stages ‰∏ç‰ºöÊâßË°åÔºåËØ•ÊûÑÂª∫‰ªªÂä° (Pipeline) Â§±Ë¥•</li>
</ul>
<p>Stages Âíå Pipeline ÁöÑÂÖ≥Á≥ªÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+--------------------------------------------------------+</span><br><span class="line">|                                                        |</span><br><span class="line">|  Pipeline                                              |</span><br><span class="line">|                                                        |</span><br><span class="line">|  +-----------+     +------------+      +------------+  |</span><br><span class="line">|  |  Stage 1  |----&gt;|   Stage 2  |-----&gt;|   Stage 3  |  |</span><br><span class="line">|  +-----------+     +------------+      +------------+  |</span><br><span class="line">|                                                        |</span><br><span class="line">+--------------------------------------------------------+</span><br></pre></td></tr></table></figure>
<h4 id="Jobs"><a href="#Jobs" class="headerlink" title="Jobs"></a>Jobs</h4><p>Jobs Ë°®Á§∫ÊûÑÂª∫Â∑•‰ΩúÔºåË°®Á§∫Êüê‰∏™ Stage ÈáåÈù¢ÊâßË°åÁöÑÂ∑•‰Ωú„ÄÇÊàë‰ª¨ÂèØ‰ª•Âú® Stages ÈáåÈù¢ÂÆö‰πâÂ§ö‰∏™ JobsÔºåËøô‰∫õ Jobs ‰ºöÊúâ‰ª•‰∏ãÁâπÁÇπÔºö</p>
<ul>
<li>Áõ∏Âêå Stage ‰∏≠ÁöÑ Jobs ‰ºöÂπ∂Ë°åÊâßË°å</li>
<li>Áõ∏Âêå Stage ‰∏≠ÁöÑ Jobs ÈÉΩÊâßË°åÊàêÂäüÊó∂ÔºåËØ• Stage Êâç‰ºöÊàêÂäü</li>
<li>Â¶ÇÊûú‰ªª‰Ωï‰∏Ä‰∏™ Job Â§±Ë¥•ÔºåÈÇ£‰πàËØ• Stage Â§±Ë¥•ÔºåÂç≥ËØ•ÊûÑÂª∫‰ªªÂä° (Pipeline) Â§±Ë¥•</li>
</ul>
<p>Jobs Âíå Stage ÁöÑÂÖ≥Á≥ªÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+------------------------------------------+</span><br><span class="line">|                                          |</span><br><span class="line">|  Stage 1                                 |</span><br><span class="line">|                                          |</span><br><span class="line">|  +---------+  +---------+  +---------+   |</span><br><span class="line">|  |  Job 1  |  |  Job 2  |  |  Job 3  |   |</span><br><span class="line">|  +---------+  +---------+  +---------+   |</span><br><span class="line">|                                          |</span><br><span class="line">+------------------------------------------+</span><br></pre></td></tr></table></figure>
<p>‰∏ãÈù¢ÊòØ‰∏Ä‰∏™<code>.gitlab-ci.yaml</code>  Ê†∑‰æãÔºö</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">stages:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">analytics</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">test</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">build</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">package</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">deploy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">build:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">analytics</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">"=============== ÂºÄÂßã‰ª£Á†ÅË¥®ÈáèÊ£ÄÊµã ==============="</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">"=============== ÁªìÊùü‰ª£Á†ÅË¥®ÈáèÊ£ÄÊµã ==============="</span></span><br><span class="line"></span><br><span class="line"><span class="attr">build:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">build</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">runner-tag</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">"=============== ÂºÄÂßãÁºñËØë‰ªªÂä° ==============="</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">"=============== ÁªìÊùüÁºñËØë‰ªªÂä° ==============="</span></span><br><span class="line"></span><br><span class="line"><span class="attr">package:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">package</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">runner-tag</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">"=============== ÂºÄÂßãÊâìÂåÖ‰ªªÂä°  ==============="</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">"=============== ÁªìÊùüÊâìÂåÖ‰ªªÂä°  ==============="</span></span><br><span class="line"></span><br><span class="line"><span class="attr">build:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">test</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">runner-tag</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">"=============== ÂºÄÂßãÊµãËØï‰ªªÂä° ==============="</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">"=============== ÁªìÊùüÊµãËØï‰ªªÂä° ==============="</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy_test:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">runner-tag</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">"=============== Ëá™Âä®ÈÉ®ÁΩ≤Âà∞ÊµãËØïÊúçÂä°Âô®  ==============="</span></span><br><span class="line">  <span class="attr">environment:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">test</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">https://staging.example.com</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy_test_manual:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">runner-tag</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">"=============== ÊâãÂä®ÈÉ®ÁΩ≤Âà∞ÊµãËØïÊúçÂä°Âô®  ==============="</span></span><br><span class="line">  <span class="attr">environment:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">test</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">https://staging.example.com</span></span><br><span class="line">  <span class="attr">when:</span> <span class="string">manual</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy_production_manual:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">runner-tag</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">"=============== ÊâãÂä®ÈÉ®ÁΩ≤Âà∞Áîü‰∫ßÊúçÂä°Âô®  ==============="</span></span><br><span class="line">  <span class="attr">environment:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">production</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">https://staging.example.com</span></span><br><span class="line">  <span class="attr">when:</span> <span class="string">manual</span></span><br></pre></td></tr></table></figure>
<ul>
<li>‰øÆÊîπÂ•Ω <code>.gitlab-ci.yaml</code> ‰πãÂêéÔºåÂ∞Ü CI/CD ËøáÁ®ã‰∏≠‰ΩøÁî®Âà∞ÁöÑ‰∏Ä‰∫õÊïèÊÑü‰ø°ÊÅØÔºå‰ΩøÁî®ÂèòÈáèÁöÑÊñπÂºèÂ°´ÂÖ•Âú® È°πÁõÆ <code>ËÆæÁΩÆ</code> ‚Äî&gt; <code>CI/CD</code> ‚Äî&gt; <code>ÂèòÈáè</code> Èáå„ÄÇÊØîÂ¶Ç Harbor ‰ªìÂ∫ìÁöÑÁî®Êà∑ÂêçÂØÜÁ†Å„ÄÅssh ÂØÜÈí•‰ø°ÊÅØ„ÄÅÊï∞ÊçÆÂ∫ìÈÖçÁΩÆ‰ø°ÊÅØÁ≠âÊú∫ÂØÜ‰ø°ÊÅØ„ÄÇ</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CI_REGISTRY: # Harbor ÈïúÂÉè‰ªìÂ∫ìÁöÑÂú∞ÂùÄ</span><br><span class="line">CI_REGISTRY_USER: # Harbor Áî®Êà∑Âêç</span><br><span class="line">CI_REGISTRY_PASSWORD: # Harbor ÂØÜÁ†Å</span><br><span class="line">CI_REGISTRY_IMAGE: # ÊûÑÂª∫ÈïúÂÉèÁöÑÂêçÁß∞</span><br><span class="line">SSH_PASSWORD: # ÈÉ®ÁΩ≤ÊµãËØïÊúçÂä°Âô® ssh ÂØÜÁ†Å</span><br></pre></td></tr></table></figure>
<p><img src="https://p.k8s.li/20200327102511419.png" alt=""></p>
<ul>
<li>ËÆæÁΩÆÂ•ΩÁõ∏ÂÖ≥ÂèòÈáè‰πãÂêéÂú®ÔºåÂú®È°πÁõÆÈ°µÈù¢ÁöÑ <code>CI/CD</code> ‚Äî‚Äì&gt; <code>ÊµÅÊ∞¥Á∫ø</code> È°µÈù¢ÁÇπÂáª <code>ËøêË°åÊµÅÊ∞¥Á∫ø</code>ÊâãÂä®Ëß¶ÂèëÊµÅÊ∞¥Á∫ø‰ªªÂä°ËøõË°åÊµãËØï„ÄÇ</li>
</ul>
<p><img src="https://p.k8s.li/20200325163138089.png" alt=""></p>
<ul>
<li>Â¶ÇÊûúÊµÅÊ∞¥Á∫ø‰ªªÂä°ÊûÑÂª∫ÊàêÂäüÁöÑËØùÔºå‰ºöÊòæÁ§∫ <code>Â∑≤ÈÄöËøá</code> ÁöÑË°®Á§∫</li>
</ul>
<p><img src="https://p.k8s.li/20200325163254316.png" alt=""></p>
<ul>
<li>ÁôªÂΩïÂà∞ Harbor <a href="http://10.10.107.217" target="_blank" rel="noopener">http://10.10.107.217</a> Êü•ÁúãÈïúÂÉèÊòØÂê¶ÊûÑÂª∫ÊàêÂäü</li>
</ul>
<p><img src="https://p.k8s.li/20200325163400519.png" alt=""></p>
<h2 id="ÂèÇËÄÉ-Êé®Ëçê"><a href="#ÂèÇËÄÉ-Êé®Ëçê" class="headerlink" title="ÂèÇËÄÉ/Êé®Ëçê"></a>ÂèÇËÄÉ/Êé®Ëçê</h2><ul>
<li><p><a href="https://docs.gitlab.com/runner/" target="_blank" rel="noopener">GitLab Runner Docs</a></p>
</li>
<li><p><a href="https://docs.gitlab.com/ee/README.html" target="_blank" rel="noopener">GitLab Docs</a></p>
</li>
<li><p><a href="https://nicksors.cc/2019/07/12/kubernetesÁ≥ªÂàó‰πã„ÄäÊûÑÂª∫‰ºÅ‰∏öÁ∫ßCICDÂπ≥Âè∞-‰∏Ä-„Äã.html" target="_blank" rel="noopener">kubernetesÁ≥ªÂàó‰πã„ÄäÊûÑÂª∫‰ºÅ‰∏öÁ∫ßCICDÂπ≥Âè∞(‰∏Ä)„Äã</a></p>
</li>
<li><p><a href="https://notes.mengxin.science/2018/09/02/gitlab-ci-cd-question-and-answer/" target="_blank" rel="noopener">GitLabÁöÑCI/CD‰ΩøÁî®ÈóÆÈ¢òÊ±áÊÄª</a></p>
</li>
<li><p><a href="https://moelove.info/2018/08/05/%E5%9F%BA%E4%BA%8E-GitLab-%E7%9A%84-CI-%E5%AE%9E%E8%B7%B5/" target="_blank" rel="noopener">Âü∫‰∫é GitLab ÁöÑ CI ÂÆûË∑µ</a></p>
</li>
<li><p><a href="https://blog.fleeto.us/courses/gitlab-notes/" target="_blank" rel="noopener">gitlab-notes</a></p>
</li>
<li><p><a href="https://xiaogenban1993.github.io/18.5/xiaomi_gitlabrunner.html" target="_blank" rel="noopener">gitlab runnerÈÉ®ÁΩ≤ÁªÜËäÇ‰ºòÂåñ</a></p>
</li>
<li><p><a href="https://tech.meituan.com/2018/08/02/erp-cd-jenkins-pipeline.html" target="_blank" rel="noopener">JenkinsÁöÑPipelineËÑöÊú¨Âú®ÁæéÂõ¢È§êÈ•ÆSaaS‰∏≠ÁöÑÂÆûË∑µ</a></p>
</li>
<li><p><a href="https://laogen.site/gitlab-ci/example-docker-ssh-deploy/" target="_blank" rel="noopener">GitLab CI Á§∫‰æãÔºöDocker ÈïúÂÉèÊâìÂåÖÂèëÂ∏É &amp; SSH ÈÉ®ÁΩ≤</a></p>
</li>
<li><p><a href="https://theviper.xyz/gitlab-ci-cd-optimize.html" target="_blank" rel="noopener">gitlab CI/CD‰ºòÂåñ</a></p>
</li>
<li><p><a href="http://zacksleo.top/2017/04/22/GitLab-CI%E4%BD%BF%E7%94%A8Docker%E8%BF%9B%E8%A1%8C%E6%8C%81%E7%BB%AD%E9%83%A8%E7%BD%B2/" target="_blank" rel="noopener">GitLab-CI‰ΩøÁî®DockerËøõË°åÊåÅÁª≠ÈÉ®ÁΩ≤</a></p>
</li>
<li><p><a href="https://furur.xyz/2019/11/03/docker-gitlab-ci-deploy-springboot-project/" target="_blank" rel="noopener">Docker Gitlab CI ÈÉ®ÁΩ≤ Spring Boot È°πÁõÆ</a></p>
</li>
<li><p><a href="https://wsgzao.github.io/post/gitlab/" target="_blank" rel="noopener">RHEL7/CentOS7 Âú®Á∫øÂíåÁ¶ªÁ∫øÂÆâË£Ö GitLab ÈÖçÁΩÆ‰ΩøÁî®ÂÆûË∑µ</a></p>
</li>
<li><p><a href="https://wayjam.me/post/how-gitlab-shell-works-with-ssh.md" target="_blank" rel="noopener">GitLab ShellÂ¶Ç‰ΩïÈÄöËøáSSHÂ∑•‰Ωú</a></p>
</li>
<li><p><a href="https://websoft9.gitbook.io/gitlab-image-guide/" target="_blank" rel="noopener">GitLabÈïúÂÉèÊâãÂÜå</a></p>
</li>
<li><p><a href="https://xuanwo.io/2016/04/13/gitlab-install-intro/" target="_blank" rel="noopener">GitlabÈÉ®ÁΩ≤ÂíåÊ±âÂåñ‰ª•ÂèäÁÆÄÂçïËøêÁª¥</a></p>
</li>
</ul>
<h2 id="Á§æÁæ§ÈóÆÁ≠î-QA-CI-CD-Áõ∏ÂÖ≥"><a href="#Á§æÁæ§ÈóÆÁ≠î-QA-CI-CD-Áõ∏ÂÖ≥" class="headerlink" title="Á§æÁæ§ÈóÆÁ≠î QA | CI/CD Áõ∏ÂÖ≥"></a>Á§æÁæ§ÈóÆÁ≠î QA | CI/CD Áõ∏ÂÖ≥</h2><p>‰ª•‰∏ãÂÜÖÂÆπÊòØÊï¥ÁêÜÊëòËá™ <a href="https://blog.k8s.li/K8s-QA.html">„Ää(2000+) kubernetes Á§æÁæ§ÂàÜ‰∫´ QA Ê±áÊÄª„Äã</a>Ôºå‰∏≠ÊúâÂÖ≥ CI/CD Áõ∏ÂÖ≥ÁöÑÈóÆÁ≠îÔºå‰ªé 2000 Â§ö‰∏™ QA Èáå‰ΩøÁî®ÂÖ≥ÈîÆÂ≠óÊêúÁ¥¢ Gitlab„ÄÅCI/CD„ÄÅJenkins Á≠âÔºåÁÑ∂ÂêéÂ∞Ü‰∏Ä‰∫õÁõ∏ÂÖ≥ÁöÑÈóÆÈ¢òËøõË°åÊ±áÊÄª„ÄÇÊñπ‰æøÈóÆÈ¢òËá™Êü•Âíå‰ªé‰∏≠Âê∏ÂèñÁªèÈ™å„ÄÇ</p>
<h3 id="2019-04-03ÔºöÂÆπÂô®ÁéØÂ¢É‰∏ãÁöÑÊåÅÁª≠ÈõÜÊàêÊúÄ‰Ω≥ÂÆûË∑µ"><a href="#2019-04-03ÔºöÂÆπÂô®ÁéØÂ¢É‰∏ãÁöÑÊåÅÁª≠ÈõÜÊàêÊúÄ‰Ω≥ÂÆûË∑µ" class="headerlink" title="2019-04-03ÔºöÂÆπÂô®ÁéØÂ¢É‰∏ãÁöÑÊåÅÁª≠ÈõÜÊàêÊúÄ‰Ω≥ÂÆûË∑µ"></a>2019-04-03ÔºöÂÆπÂô®ÁéØÂ¢É‰∏ãÁöÑÊåÅÁª≠ÈõÜÊàêÊúÄ‰Ω≥ÂÆûË∑µ</h3><blockquote>
<p>QÔºöKubernetes ‰∏ä‰∏ªÊµÅÁöÑ CI/CD ÊñπÊ°àÊòØÂï•Ôºü</p>
</blockquote>
<p>AÔºöÂÖ∂ÂÆûËøôÊó†ÂÖ≥KubernetesÔºå‰ªéÂ∏ÇÂú∫Âç†ÊúâÁéáÊù•ÁúãÔºåÂâç‰∏âÂêçÂàÜÂà´ÊòØ Jenkins„ÄÅJetBrains TeamCity„ÄÅCircleCI„ÄÇ<a href="https://www.datanyze.com/market-share/ci" target="_blank" rel="noopener">Êù•Ê∫êÔºö</a></p>
<blockquote>
<p>QÔºöGitLab Ëá™Â∏¶ÁöÑ CI ‰∏éJenkins Âíå GitLab ÁªìÂêàÁöÑ CIÔºåËØ•Â¶Ç‰ΩïÈÄâÊã©ÔºüÊÉ≥Áü•ÈÅìÊõ¥Ê∑±Â±ÇÊ¨°ÁöÑÁêÜËß£„ÄÇ</p>
</blockquote>
<p>AÔºöËøòÊòØË¶ÅÁªìÂêàËá™Â∑±Âõ¢ÈòüÁöÑÂÆûÈôÖÊÉÖÂÜµÂÅöÈÄâÊã©„ÄÇ‰ªéÊàêÁÜüÂ∫¶Êù•ËØ¥ÔºåËÇØÂÆöÊòØ JenkinsÁî®Êà∑ÊúÄÂ§öÔºåÊàêÁÜüÂ∫¶ÊúÄÈ´òÔºåÁº∫ÁÇπÊòØ‰æßÈáç JavaÔºåÈÖçÁΩÆÁõ∏ÂØπÁπÅÁêê„ÄÇGitLab Ëá™Â∏¶ÁöÑ CIÁõ∏ÂØπÁÆÄÂçïÔºåÂèØ‰ª•Áî® yamlÔºåÂíå GitLab ÁªìÂêàÁöÑÊúÄÂ•ΩÔºå‰ΩÜÂäüËÉΩËÇØÂÆöÊ≤°Êúâ JenkinsÂÖ®Èù¢„ÄÇÂ¶ÇÊûúÊòØÂ∞èÂõ¢ÈòüÊñ∞È°πÁõÆÔºåGitLab CI ÂèàÂ∑≤ÁªèÂèØ‰ª•Êª°Ë∂≥ÈúÄÊ±ÇÁöÑËØùÔºåÂπ∂‰∏çÈúÄË¶Å‰∏äJenkinsÔºåÂ¶ÇÊûúÊòØËæÉÂ§ßÁöÑÂõ¢ÈòüÔºåÂèàÊòØÂÅè Java ÁöÑÔºå‰∏™‰∫∫Êõ¥ÂÅèÂêë Jenkins„ÄÇ</p>
<blockquote>
<p>QÔºöJenkins Â¶ÇÊûú‰∏çÊÉ≥ËøêË°åÂú® Kubernetes ÈáåÈù¢ÔºåËØ•ÊÄé‰πàÂíå Kubernetes ÈõÜÊàêÔºü</p>
</blockquote>
<p>AÔºö‰ªé CI ÁöÑÊµÅÁ®ãÊù•ËØ¥ÔºåCI Â∫îÁî®ÊòØ‰∏çÊòØË∑ëÂú® Kubernetes ÁöÑÂπ∂‰∏çÈáçË¶ÅÔºåCIÂè™Ë¶ÅËÉΩËÆøÈóÆ‰ª£Á†ÅÂ∫ìÔºåÊúâÊùÉÈôêÂú®Áîü‰∫ßÁéØÂ¢ÉÂèëÂ∏ÉÔºåÊòØ‰∏çÊòØË∑ëÂú®ÂÆπÂô®Èáå‰ªéÊïàÊûúÊù•ËØ¥ÂÖ∂ÂÆûÊ≤°ÊúâÂå∫Âà´ÔºåÂè™ÊòØÁî®Kubernetes ÈÉ®ÁΩ≤ JenkinsÁöÑËØùÔºåËøêÁª¥ÁöÑ‰∏ÄËá¥ÊÄßÊØîËæÉÂ•ΩÔºåËøêÁª¥Âõ¢Èòü‰∏çÁî®È¢ùÂ§ñËä±Êó∂Èó¥Áª¥Êä§‰∏ÄÂ•óÁâ©ÁêÜÊú∫ÁöÑÈÉ®ÁΩ≤ÊñπÊ°à„ÄÇ</p>
<blockquote>
<p>QÔºöKubernetesÁöÑÂõûÊªöÊñπÊ°àÊòØÂõûÊªö‰ª£Á†ÅÔºåÈáçÂÅöÈïúÂÉèÔºåËøòÊòØÂÖàÂàáÊµÅÈáèÔºåÂêéÂÅö‰øÆÊîπÔºü</p>
</blockquote>
<p>AÔºö‰ª£Á†Å‰∏ÄÂÆöÊòØÊâìÂåÖÂà∞ÈïúÂÉèÈáåÁöÑÔºåÈïúÂÉèÁöÑÁâàÊú¨Â∞±ÊòØ‰ª£Á†ÅÁöÑÁâàÊú¨ÔºåÊâÄ‰ª•‰∏ÄÂÆöÊòØÂàáÈïúÂÉè„ÄÇËá≥‰∫éÂõûÊªöÊìç‰ΩúÊú¨Ë∫´ÔºåKubernetesÂ∑≤ÁªèÂÜÖÁΩÆ‰∫ÜÂæàÂ§öÊªöÂä®ÂèëÂ∏ÉÔºàRollingupdateÔºâÁöÑÁ≠ñÁï•ÔºåÊó†ËÆ∫ÊòØÂèëÊñ∞ÁâàÊú¨ËøòÊòØÂõûÊªöÁâàÊú¨ÔºåÈÉΩÂèØ‰ª•ÂÅöÂà∞Áî®Êà∑Êó†ÊÑüÁü•„ÄÇ</p>
<blockquote>
<p>QÔºöÈïúÂÉèÂ§ßÂà∞Âá† G ÁöÑËØùÂ¶Ç‰ΩïÊõ¥Êñ∞ÈÉ®ÁΩ≤ÔºåÊúâ‰ªÄ‰πàÂ•ΩÁöÑÂÆûË∑µÂë¢Ôºå‰ª•ÂèäÂ¶Ç‰ΩïÂõûÊªöÔºü</p>
</blockquote>
<p>AÔºöÂá†‰∏™Ë¶ÅÁÇπÔºö&gt; QÔºöDrone ÂºÄÊîæ API ÊúçÂä°ÂêóÔºüËøôÊ†∑Êñπ‰æøÂÖ∂‰ªñÁ≥ªÁªüÈõÜÊàê„ÄÇ</p>
<p>AÔºöÂèØ‰ª•Ë∞ÉÊï¥‰∏Ä‰∏ãÊÄùË∑ØÔºåÁõ¥Êé•ÊääÈúÄË¶ÅÁöÑÂäüËÉΩÂÅöÊàêÈïúÂÉèÂú® Drone ÈáåË∞ÉÁî®Â∞±Â•Ω‰∫Ü„ÄÇ</p>
<blockquote>
<p>QÔºöÂ¶ÇÊûúÊúâ Drone ÁöÑ ServerÊÄé‰πàÂÅöÈ´òÂèØÁî®Ôºü</p>
</blockquote>
<p>AÔºöDrone serve rÁî® KubernetesÈÉ®ÁΩ≤ÁöÑËØùÊú¨Ë∫´Âè™Ëµ∑Âà∞‰∫Ü‰∏Ä‰∏™‰ªªÂä°Ë∞ÉÂ∫¶ÁöÑ‰ΩúÁî®ÔºåÂæàÈöæ‰ºöÈÅáÂà∞ÊÄßËÉΩÁì∂È¢à„ÄÇÁúüÁöÑÊúâÊÄßËÉΩÈóÆÈ¢òÂèØ‰ª•Â∞ùËØïÊ∞¥Âπ≥Êâ©Â±ïDrone serverÔºåÂÖ±‰∫´Âêå‰∏ÄÊï∞ÊçÆÂ∫ì„ÄÇ</p>
<h3 id="Âü∫‰∫é-GitLab-ÁöÑ-CI-ÂÆûË∑µ"><a href="#Âü∫‰∫é-GitLab-ÁöÑ-CI-ÂÆûË∑µ" class="headerlink" title="Âü∫‰∫é GitLab ÁöÑ CI ÂÆûË∑µ"></a><a href="https://moelove.info/2018/08/05/Âü∫‰∫é-GitLab-ÁöÑ-CI-ÂÆûË∑µ/" target="_blank" rel="noopener">Âü∫‰∫é GitLab ÁöÑ CI ÂÆûË∑µ</a></h3><blockquote>
<p>QÔºöÊÇ®ÊèêÂà∞ÊääÂêÑÁßç‰æùËµñÈÉΩ‰ª• Service ÁöÑÊèê‰æõÔºåËØ∑ÈóÆÊòØ‰ª•Âì™ÁßçÊñπÂºèÂë¢Ôºü ÊØîÂ¶ÇPythonÁöÑ‰æùËµñÔºåÊÄé‰πàÂÅöÊàêServiceÂë¢Ôºü</p>
</blockquote>
<p>AÔºöService ÂåñÁöÑ‰æùËµñÔºå‰∏ªË¶ÅÊòØÊåáÁ±ª‰ºº DB / MySQL/ Reids ‰πãÁ±ªÁöÑ„ÄÇ ÊàñËÄÖÊòØ dind ÂÖ∂ÂÆûÂÆÉÊèê‰æõÁöÑÊòØ 2375 Á´ØÂè£ÁöÑTCPÊúçÂä°„ÄÇ Python ÁöÑ‰æùËµñÔºåÊàëÊé®ËçêÁöÑÂÅöÊ≥ïÊòØÔºå ÊûÑÂª∫‰∏Ä‰∏™Êç¢‰∫ÜÊ∫êÁöÑ Python ÈïúÂÉè„ÄÇ ÂÆâË£Ö‰æùËµñÁöÑÊó∂ÂÄôÔºåËÄóÊó∂‰ºöÂ∞ëÂæàÂ§ö„ÄÇ ÊàñËÄÖËØ¥Ôºå ÂèØ‰ª•Âú®ÂÆö‰πâ Pipeline ÁöÑÊó∂ÂÄôÔºå Â∞ÜËôöÊãüÁéØÂ¢ÉÁöÑ venv Êñá‰ª∂Â§π‰Ωú‰∏∫ cache Ôºå‰πãÂêéÁöÑÂÆâË£Ö‰πü‰ºöÊ£ÄÊü•Ëøô‰∏™ÔºåÈÅøÂÖç‰∏çÂøÖË¶ÅÁöÑÂÆâË£Ö„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆÔºå‰Ω†‰ª¨‰∏∫‰ªÄ‰πà‰∏çÁî®Jenkins PipelineÔºåËÄå‰ΩøÁî®GitLab CIÔºü</p>
</blockquote>
<p>AÔºö‰∏ªË¶ÅÂéüÂõ†ÊòØÊàëÊèêÂà∞ÁöÑÈÇ£Âá†‰∏™ÊñπÈù¢„ÄÇ ÈõÜÊàêËæÉÂ•ΩÔºå ÁïåÈù¢ÁæéËßÇ‰ºòÈõÖÔºå ‰ΩøÁî®ÁÆÄÂçïÔºàÊâÄÊúâÊúâ‰ªìÂ∫ìÂÜôÊùÉÈôêÁöÑ‰∫∫ ÈÉΩÂèØ‰ª•‰ΩøÁî®Ôºå Âè™Ë¶ÅÂàõÂª∫ .gitlab-ci.yml Âπ∂‰∏îÈÖçÁΩÆ‰∫Ü Runner Âç≥ÂèØ‰ΩøÁî®Ôºâ „ÄÇÊç¢‰∏™ËßíÂ∫¶ÔºåÊàë‰ª¨Êù•Áúã‰∏ã‰ΩøÁî®Jenkins ÁöÑÈóÆÈ¢òÔºå Jenkins ÂØπ‰∫éÈ°πÁõÆÁöÑÈÖçÁΩÆÂÖ∂ÂÆûÂíå GitLab ÁöÑ‰ª£Á†ÅÊòØÂàÜÁ¶ªÁöÑÔºå ‰∏§ÈÉ®ÂàÜÁöÑÔºå Áî®Êà∑ÔºàÊàñËÄÖËØ¥Êàë‰ª¨ÁöÑÂºÄÂèëËÄÖÔºâÂú®‰ΩøÁî®ÁöÑÊó∂ÂÄôÔºå ÈúÄË¶ÅÊúâ‰∏§‰∏™Âπ≥Âè∞Ôºå Âπ∂‰∏îÔºåÂ§ßÂ§öÊï∞Êó∂ÂÄôÔºå Jenkins ÁöÑÊùÉÈôêÊòØ‰∏çÊîæÂºÄÁöÑ„ÄÇ ÂØπÁî®Êà∑Êù•ËÆ≤Ôºå ÈÇ£Áõ∏ÂΩì‰∫éÊòØ‰∏™ÈªëÁõí„ÄÇ ÈÇ£ÂèØËÉΩÁöÑÈóÆÈ¢òÊòØ‰ªÄ‰πàÂë¢Ôºü ÈÅáÂà∞ÊûÑÂª∫Â§±Ë¥•‰∫ÜÔºå ‰ΩÜÊòØÂè™ÊúâËøêÁª¥Áü•ÈÅìÂèëÁîü‰∫Ü‰ªÄ‰πàÔºå‰ΩÜÊòØÁ†îÂèëÊó†ËÉΩ‰∏∫ÂäõÔºåÂõ†‰∏∫Ê≤°ÊúâÊùÉÈôê„ÄÇ ‰ΩøÁî®GItLabÁöÑÂ•ΩÂ§ÑÔºåËøô‰∏™Êó∂ÂÄôÂ∞±Êõ¥Âä†Á™ÅÂá∫‰∫ÜÔºå ÈÖçÁΩÆÂ∞±Âú®‰ª£Á†Å‰ªìÂ∫ìÈáåÈù¢ÔºåÂπ∂‰∏î‰ΩøÁî® YAML ÁöÑÈÖçÁΩÆÔºåÂæàÁÆÄÂçï„ÄÇ ÊúâÂï•ÈóÆÈ¢òÔºåÁõ¥Êé•Êü•ÔºåÁõ¥Êé•Êîπ„ÄÇ</p>
<blockquote>
<p>QÔºöÂÖ≥‰∫é Runner ÁöÑÊ∏ÖÁêÜÁöÑÈóÆÈ¢òÔºåÂú®ÈïøÊó∂Èó¥‰ΩøÁî®ÂêéÔºåRunner Êú∫Âô®‰∏äÂõû‰∫ßÁîüÂæàÂ§öÁöÑ Cache ÂÆπÂô®ÔºåÂ¶Ç‰ΩïÊ∏ÖÁêÜÂë¢„ÄÇËÉΩÂ§üÂú®‰ªªÂä°‰∏≠Ëá™Âä®Ê∏ÖÈô§ÂêóÔºü</p>
</blockquote>
<p>AÔºöËøô‰∏™Â∞±Áõ∏ÂØπÁÆÄÂçï‰∫ÜÔºåÈ¶ñÂÖàÔºå Â¶ÇÊûú‰Ω†ÁöÑ Cache ÂÆπÂô®Á°ÆËÆ§Ê≤°Áî®‰∫ÜÔºå ÊØè‰∏™ Cache ÂÆπÂô®ÂÖ∂ÂÆûÈÉΩÊúâÂêçÂ≠óÁöÑÔºå Áõ¥Êé•Êåâ Cache ÁöÑÂêçÂ≠óËøáÁï•Ôºå ÊâπÈáèÂà†Êéâ„ÄÇ Â¶ÇÊûú‰Ω†‰∏çÁ°ÆÂÆöÂÆÉÊòØÂê¶ÊúâÁî®ÔºåÈÇ£‰Ω†Áõ¥Êé•Âà†Êéâ‰πüÊòØ‰∏çÂΩ±ÂìçÁöÑÔºå Âõ†‰∏∫ Docker Excutor ÁöÑÊâßË°åÊú∫Âà∂ÊòØÂàõÂª∫ÂÆå Service ÂÆπÂô®ÂêéÔºå ÂàõÂª∫ Cache ÂÆπÂô®„ÄÇ Ë¶ÅÊòØÂà†Êéâ‰∫ÜÔºåÂÆÉÂè™ÊòØ‰ºöÂÜçÂàõÂª∫‰∏ÄÊ¨°„ÄÇ Â¶ÇÊûú‰Ω†ÊÉ≥Âú®‰ªªÂä°‰∏≠Ê∏ÖÈô§Ôºå ÁõÆÂâçËøòÊ≤°ÂÅöÁõ∏ÂÖ≥ÁöÑÂÆûË∑µÔºåÂæÖÊàëÂÆûË∑µÂêéÔºåÁúãÁúãÊúâÊ≤°ÊúâÂæà‰ºòÈõÖÁöÑÊñπÂºè„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆ‰∏ãMavenÁöÑsettings.xmlÊÄé‰πàÂ§ÑÁêÜÔºüÊú¨Âú∞Maven‰ªìÂ∫ìÂë¢Ôºü</p>
</blockquote>
<p>AÔºöÊàë‰ª¨ÊûÑÂª∫‰∫ÜÁßÅÊúâÁöÑ Maven ÈïúÂÉèÔºå ÁßÅÊúâÈïúÂÉè‰∏≠ÊòØÈªòËÆ§‰ΩøÁî®‰∫ÜÊàë‰ª¨ÁöÑÁßÅÊúâÊ∫ê„ÄÇ ÂØπ‰∫éÈ°πÁõÆ‰∏≠Áî®Êà∑Êó†ÈúÄÂÖ≥Ê≥® settings.xml ‰∏≠ÊòØÂê¶ÈÖçÁΩÆrepo„ÄÇ</p>
<blockquote>
<p>QÔºöÂú®GitLabÁöÑCDÊñπÊ°à‰∏≠ÔºåÂú®ÈÉ®ÁΩ≤ÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÂú®ÂèòÈáè‰∏≠ÈÖçÁΩÆË∑≥ÊùøÊú∫ÁöÑÁßÅÈí•ÔºåÂ¶ÇÊûúËøô‰∏™È°πÁõÆÊòØÂØπÂÖ¨Âè∏Êï¥ÈÉ®Èó®ÂºÄÂèëÔºåÈÇ£‰πàÂ¶Ç‰Ωï‰øùÊä§Ëøô‰∏™ÁßÅÈí•Âë¢Ôºü</p>
</blockquote>
<p>AÔºöÂèØ‰ª•‰ΩøÁî® secret variable Â∞ÜÁßÅÈí•ÂÜôÂÖ•ÂÖ∂‰∏≠Ôºå Ôºà‰ΩÜÊòØÈ°πÁõÆÁöÑÁÆ°ÁêÜÂëòÔºåÂÖ∑Â§áÊü•ÁúãËØ• variable ÁöÑÊùÉÈôêÔºâÂºÄÂèë‰∏Ä‰∏™ web server ÔºàÂÖ∂ÂÆûÂè™Ë¶ÅÊö¥Èú≤ IP Á´ØÂè£‰πãÁ±ªÁöÑÂ∞±ÂèØ‰ª•Ôºâ Âú® CI ÊâßË°åÁöÑËøáÁ®ã‰∏≠ÂéªËØ∑Ê±ÇÔºå server ÂØπÊù•Ê∫êÂÅöÂà§Êñ≠ ÔºàÊØîÂ¶Ç ÊâßË°åCI ÁöÑÊó∂ÂÄôÔºå‰ºöÊúâ‰∏Ä‰∫õÁâπÂÆöÁöÑÂèòÈáèÔºå‰ª•Ê≠§Êù•Âà§Êñ≠ÔºåÊòØÂê¶ÁúüÁöÑÊòØ CI Âú®ËØ∑Ê±ÇÔºâÁÑ∂ÂêéËøîÂõûÁßÅÈí•„ÄÇ</p>
<blockquote>
<p>QÔºöGitLab CIÈÄÇÂêà‰ªÄ‰πàÁ±ªÂûãÁöÑÈ°πÁõÆÂë¢ÔºüÂõΩÂÜÖÁõÆÂâçËøòÊØîËæÉÂ∞è‰ºóÂêßÔºü</p>
</blockquote>
<p>AÔºöÂõΩÂÜÖÁõÆÂâçËøòËæÉ‰∏∫Â∞è‰ºóÔºàÁõ∏ÊØî Jenkins Êù•ËØ¥ÔºâÂÖ∂ÂÆûÂè™Ë¶ÅÈúÄË¶Å CI ÁöÑÈ°πÁõÆÔºåÂÆÉÈÉΩÈÄÇÂêà„ÄÇ</p>
<h2 id="2015-09-23ÔºöÂü∫‰∫éDockerÂíåJavaÁöÑÊåÅÁª≠ÈõÜÊàêÂÆûË∑µ"><a href="#2015-09-23ÔºöÂü∫‰∫éDockerÂíåJavaÁöÑÊåÅÁª≠ÈõÜÊàêÂÆûË∑µ" class="headerlink" title="2015-09-23ÔºöÂü∫‰∫éDockerÂíåJavaÁöÑÊåÅÁª≠ÈõÜÊàêÂÆûË∑µ"></a>2015-09-23ÔºöÂü∫‰∫éDockerÂíåJavaÁöÑÊåÅÁª≠ÈõÜÊàêÂÆûË∑µ</h2><blockquote>
<p>QÔºöCIËøáÁ®ã‰∏≠testÈúÄË¶ÅËøûÊé•Êï∞ÊçÆÂ∫ìÁöÑ‰ª£Á†ÅÊó∂ÔºåÊÇ®Âú®ÂÜôÊµãËØïÊ°à‰æãÊñπÈù¢ÊúâÂì™‰∫õÁªèÈ™åÂàÜ‰∫´Ôºü</p>
</blockquote>
<p>AÔºöÂçïÂÖÉÊµãËØï‰∏çËÉΩ‰æùËµñÂ§ñÈÉ®ËµÑÊ∫êÔºåÁî®mockÔºåÊàñËÄÖÁî®h2Á≠âÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìÊõø‰ª£„ÄÇÈõÜÊàêÊµãËØïÁöÑÊó∂ÂÄôÊòØ‰ªéÊé•Âè£Â±ÇÁõ¥Êé•Ë∞ÉÁî®ÊµãËØïÁöÑÔºåÊµãËØïÁî®‰æãÂØπÊï∞ÊçÆÂ∫ìÊó†ÊÑüÁü•„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆÈÉ®ÁΩ≤Âà∞Áîü‰∫ßÁéØÂ¢ÉÊòØËá™Âä®Ëß¶ÂèëËøòÊòØÈúÄË¶ÅÊâãÂä®ÂÆ°ÊâπÔºüSQLÊâßË°åÊàñÂõûÊªöÊòØÂê¶Ëá™Âä®ÂåñÔºü</p>
</blockquote>
<p>AÔºöÂΩìÂâçÊòØÈúÄË¶ÅÊâãÂä®Ëß¶Âèë„ÄÇSQLÊõ¥Êñ∞ÂΩìÂâçÊ≤°ÂÅöÂà∞Ëá™Âä®ÂåñÔºåËøôÂùóÊ≠£Âú®ÊîπËøõÔºåÂõ†‰∏∫ÈÉ®ÁΩ≤ÁßÅÊúâÁéØÂ¢ÉÈúÄË¶Å„ÄÇSQL‰∏çÊîØÊåÅÂõûÊªöÔºå‰ª£Á†ÅÂÅöÂÖºÂÆπ„ÄÇDockerÈïúÂÉèÂõûÊªöÊ≤°ÊúâËá™Âä®Âåñ„ÄÇ</p>
<blockquote>
<p>QÔºö ÈóÆ‰∏Ä‰∏ã‰Ω†‰ª¨ÁöÑRedisÂÜÖÂ≠òÁâàÊòØÁî®ÁöÑ‰ªÄ‰πàÔºü</p>
</blockquote>
<p>AÔºöÊàë‰ª¨Áî®ÁöÑÂÜÖÂ≠òÁâàÁöÑredisÊòØ <a href="https://github.com/spullara/redis-protocol" target="_blank" rel="noopener">spullara/redis-protocol</a>‰∏≠ÁöÑserverÂÆûÁé∞„ÄÇ‰∏çËøáËøô‰∏™ÂÆûÁé∞ÈÉ®ÂàÜÂäüËÉΩÊ≤°ÊîØÊåÅÔºåÊØîÂ¶ÇluaËÑöÊú¨ÔºåÊàë‰ª¨Ëá™Â∑±ÂÅö‰∫ÜÊîπËøõ„ÄÇ</p>
<blockquote>
<p>QÔºö‰ªãÁªç‰∏ãworkflowÂ∏¶Êù•ÁöÑÂ•ΩÂ§Ñ„ÄÇ</p>
</blockquote>
<p>AÔºöworkflowÁöÑÂ•ΩÂ§ÑÊàëÈÇ£ÁØáÊñáÁ´†‰∏≠ÊúâËØ¥ÊòéÔºåÂ¶ÇÊûúÊ≤°ÊúâworkflowÔºåÊâÄÊúâÁöÑÊ≠•È™§ÈÉΩÂú®Âêå‰∏Ä‰∏™ÈÖçÁΩÆÁöÑ‰∏çÂêåstepÂÆûÁé∞ÔºåÂ¶ÇÊûúÂêéÈù¢ÁöÑÂ§±Ë¥•ÔºåË¶ÅÈáçÊñ∞‰ªéÂ§¥ÂºÄÂßã„ÄÇworkflowÂèØ‰ª•‰∏≠ÈÄîÂºÄÂßãÔºåÂπ∂‰∏îÊØè‰∏ÄÊ≠•È™§ÂÆåÊàêÈÉΩ‰ºöËß¶ÂèëÈÄöÁü•„ÄÇ</p>
<blockquote>
<p>QÔºöh2Âπ∂‰∏çÂÆåÂÖ®ÂÖºÂÆπMySQLËÑöÊú¨Ôºå‰Ω†‰ª¨Â¶Ç‰ΩïÂ§ÑÁêÜÁöÑÔºü</p>
</blockquote>
<p>AÔºöÊàë‰ª¨ÈÄöËøá‰∏Ä‰∫õhackÁöÑÂäûÊ≥ïÔºå‰ºöÊé¢Êµã‰∏ãÊï∞ÊçÆÂ∫ìÊòØ‰ªÄ‰πàÁ±ªÂûãÁöÑÔºåÊõøÊç¢Êéâ‰∏Ä‰∫õ‰∏çÂÖºÂÆπÁöÑSQLÔºåËøõË°åÂÆπÈîô„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆ‰Ω†‰ª¨Âú®ÊûÑÂª∫ÁöÑÊó∂ÂÄôÔºå‰Ω†ËØ¥Êúâ‰∫õÈúÄË¶ÅÂçä‰∏™Â∞èÊó∂Â∑¶Âè≥ÔºåÈÇ£‰πàÊûÑÂª∫ËøáÁ®ãÁöÑËøõÂ∫¶ÁõëÊéßÂíåÂÅ•Â∫∑ÁõëÊéß‰Ω†‰ª¨ÊÄé‰πàÂÅöÁöÑÂë¢ÔºåÂ¶ÇÊûúÊúâbuildÂ§±Ë¥•‰∫ÜÊÄé‰πàÂ§ÑÁêÜÂë¢Ôºü</p>
</blockquote>
<p>AÔºöCIÁöÑÊØè‰∏ÄÊ≠•ÈÉΩÊúâËøõÂ∫¶ÁöÑÔºåÂπ∂‰∏îÊàë‰ª¨ÁöÑÂõ¢ÈòüÈÄöËÆØÂ∑•ÂÖ∑ÂèØ‰ª•ÂíåCIÈõÜÊàêÔºåÂ¶ÇÊûúÂ§±Ë¥•‰ºöÂèëÊ∂àÊÅØÂà∞Áæ§ÈáåÈÄöÁü•Â§ßÂÆ∂„ÄÇ</p>
<blockquote>
<p>QÔºöcleanupËÑöÊú¨ÂÅöÂì™‰∫õÔºü</p>
</blockquote>
<p>AÔºö‰∏ªË¶ÅÊòØÊ∏ÖÁêÜÊóßÁöÑDockerÈïúÂÉèÔºå‰ª•ÂèäÊ∏ÖÁêÜËá™Âä®ÂåñÊµãËØï‰∫ßÁîüÁöÑÂûÉÂúæÊï∞ÊçÆ„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆ‰Ω†‰ª¨Êñá‰ª∂Â≠òÂÇ®ÊÄé‰πàËß£ÂÜ≥ÁöÑÂë¢Ôºå‰ΩøÁî®Ëá™Â∑±ÁöÑÁΩëÁªúÊñá‰ª∂Á≥ªÁªüËøòÊòØ‰∫ëÊúçÂä°Ôºü</p>
</blockquote>
<p>AÔºöÊñá‰ª∂Á≥ªÁªüÊîØÊåÅÂ§öÁßçstorageÈÖçÁΩÆÔºåÂèØ‰ª•ÊòØÊú¨Âú∞ÁõÆÂΩïÔºà‰æø‰∫éÊµãËØïÔºâÔºå‰πüÂèØ‰ª•‰Ωø‰∫ëÊúçÂä°ÔºàÊØîÂ¶Çs3Ôºâ„ÄÇ</p>
<blockquote>
<p>QÔºöÂàöÊâçËØ¥‰Ω†‰ª¨ËÉΩÈÄöËøá‰∏ÄÈîÆÈÉ®ÁΩ≤Ôºå‰ΩÜÊòØ‰∏≠Èó¥Êó†Ê≥ïÁõëÊéßÔºåÊµãËØïÁéØÂ¢ÉÂèØ‰ª•Ëøô‰πàÁé©ÔºåÈÇ£Áîü‰∫ßÁéØÂ¢É‰Ω†‰ª¨ÊòØÊÄé‰πàÂÅöÁöÑÂë¢ÔºüËøòÊúâ‰Ω†‰ª¨ÂêéÁª≠ÁöÑÊîπÈÄ†ÊñπÂêëÊòØËá™Â∑±ÂºÄÂèëÔºüËøòÊòØÈááÁî®ÈõÜÊàêÁ¨¨‰∏âÊñπËΩØ‰ª∂Ôºü</p>
</blockquote>
<p>AÔºöÁîü‰∫ßÁéØÂ¢ÉshellÂΩìÂâçÂè™ËÉΩÊòØÂ§öÂä†ÈîôËØØÂà§Êñ≠„ÄÇËøôÂùóÊàë‰ª¨Âú®ÊîπËøõÔºåÊØîÂ¶ÇÈÄöËøáansibleÁ≠âÂ∑•ÂÖ∑Ôºå‰ª•Âèä‰ΩøÁî®KubernetesÂÜÖÁΩÆÁöÑrolling-update„ÄÇËá™Âä®ÂåñÈÉ®ÁΩ≤ËøôÂùóËøòÊ≤°ÊúâÂ•ΩÁöÑÂºÄÊ∫êÂ∑•ÂÖ∑„ÄÇ</p>
<blockquote>
<p>QÔºö‰Ω†‰ª¨ÁöÑÊµãËØïÁî®‰∫ÜÂæàÂ§ö‰ª£ÊõøÊñπÊ°à„ÄÅÂ¶Çh2‰ª£MySQLÔºåË¶Å‰øùËØÅÊµãËØïÊïàÊûúÔºåÈô§‰∫Ü‰Ω†‰ª¨Áî®ÁöÑhackÊñπÊ≥ï‰πãÂ§ñÔºåÊòØ‰∏çÊòØ‰ªéÂÜô‰ª£Á†ÅÁöÑÊó∂ÂÄôÂ∞±ÂºÄÂßãÂÅö‰∫ÜÊñπ‰æøÊµãËØïÁöÑËÆæËÆ°Ôºü</p>
</blockquote>
<p>AÔºöÂØπ„ÄÇËøô‰πüÊòØÊàëÊñáÁ´†‰∏≠ÂàÜ‰∫´ÁöÑËßÇÁÇπ‰πã‰∏Ä„ÄÇÊµãËØïÁî®‰æãÁöÑÁºñÂÜô‰∫∫ÂëòË¶ÅÊúâ‰∏öÂä°‰ª£Á†ÅÁöÑ‰øÆÊîπÊùÉÈôêÔºåÊúÄÂ•ΩÊòØÂêå‰∏Ä‰∏™‰∫∫„ÄÇË¶ÅÂÅöËá™Âä®ÂåñÊµãËØïÔºå‰∏öÂä°‰ª£Á†ÅÂøÖÈ°ªË¶ÅÁªôÊµãËØïÁïôÂêÑÁßçÈí©Â≠ê‰ª•ÂèäÂêéÈó®„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆ‰Ω†‰ª¨ÁöÑÈõÜÁæ§Â∫îÁî®ÁºñÊéíÊÄé‰πàÂÅöÁöÑÔºü</p>
</blockquote>
<p>AÔºö‰∏äÈù¢ËØ¥‰∫ÜÔºåËøòÊ≤°Áî®Âà∞ÁºñÊéí„ÄÇ‰∏ÄÁõ¥Á≠âÁºñÊéíÂ∑•ÂÖ∑ÁöÑÊàêÁÜü„ÄÇÊ≠£Âú®ÊµãËØïk8s„ÄÇ</p>
<blockquote>
<p>QÔºö‰Ω†‰ª¨ÂÅöËøô‰∏™È°πÁõÆÈÄâÂûãÊòØÂá∫‰∫é‰ªÄ‰πàËÄÉËôëÁöÑÔºå‰ªãÁªçÈáåÊúâÊèêÂà∞‰ΩøÁî®‰∏Ä‰∫õËÑöÊú¨Êù•ÁÆ°ÁêÜÂÆπÂô®Ëß£ÂÜ≥ÂºÄÂèëÂíåÊµãËØïÂêÑÁßçÈóÆÈ¢òÔºåÊÑüËßâËøôÁßçÁÆ°ÁêÜÂÆπÂô®ÊñπÂºèËøá‰∫éÁÆÄÂçï‰ºöÂ∏¶Êù•ÁÆ°ÁêÜÈóÆÈ¢òÔºå‰∏∫‰Ωï‰∏çÁî®Á¨¨‰∏âÊñπÂºÄÊ∫êÈ°πÁõÆÊù•ÂÅö‰∫åÊ¨°ÂºÄÂèëÔºåÂ¶ÇÔºöKubernetesÔºõÂè¶‰∏Ä‰∏™ÈóÆÈ¢òÊòØÔºå‰∏ã‰∏ÄÊ≠•ÊúâÊ≤°ÊúâËÄÉËôëÂ¶Ç‰ΩïËÆ©‰Ω†ÁöÑDockerÂíå‰∫ëÊúçÂä°Âπ≥Âè∞ÁªìÂêàÔºåË¶ÅËß£ÂÜ≥ËøêËê•ÊàêÊú¨ÈóÆÈ¢òÔºàDockerÊúÄÂ§ßÂê∏ÂºïÂäõÂú®ËøôÈáåÔºâÔºåËÄå‰∏çÂè™ÊòØËß£ÂÜ≥ÂºÄÂèëÊµãËØïÈóÆÈ¢òÔºü</p>
</blockquote>
<p>AÔºöÂõ†‰∏∫Êàë‰ª¨ÊúÄÊó©Áî®ÁöÑÊó∂ÂÄôk8s 1.0 ËøòÊ≤°ÊúâÔºåÂèòÂåñÂ§™Â§ßÔºåÂàõ‰∏öÂõ¢ÈòüÊ≤°Á≤æÂäõË∑üËøõÔºåËÑöÊú¨ÊòØÁ≤óÊö¥ÁÆÄÂçïÁöÑÂäûÊ≥ï„ÄÇ‰∏ÄÁõ¥Âú®Á≠âÂæÖÂêÑÁßçÂü∫‰∫éDockerÁöÑ‰∫ëËß£ÂÜ≥ÊñπÊ°àÂëÄÔºåËÇØÂÆöËÄÉËôëÁªìÂêà„ÄÇ</p>
<blockquote>
<p>QÔºöÂØπ‰∫éDocker storageÂàÜÂå∫Áî®ÂÆåÈóÆÈ¢òÔºåÊàëÊÉ≥ÈóÆ‰∏Ä‰∏ãÔºå‰Ω†‰ª¨ÊòØ‰ΩøÁî®DockerÂÆòÊñπÊèê‰æõÁöÑRegistry‰ªìÂ∫ìÂêóÔºåÂ¶Ç‰ΩïËß£ÂÜ≥‰ªìÂ∫ìÂçïÁÇπÈóÆÈ¢òÔºåËøôÊú∫Âô®Ë¶ÅÊòØÊïÖÈöú‰∫ÜÊÄé‰πàÂäûÔºü</p>
</blockquote>
<p>AÔºöRegistryÁî®ÁöÑÊòØÂÆòÊñπÁöÑÔºåÂêéÁ´ØÂ≠òÂÇ®ÊòØÊåÇËΩΩÂà∞s3‰∏äÁöÑ„ÄÇÊ≤°Êúâs3,Êé®Ëçê‰ΩøÁî®‰∫¨‰∏úÁî∞Áê™Âõ¢ÈòüÂºÄÊ∫êÁöÑ<a href="https://github.com/jcloudpub/speedy" target="_blank" rel="noopener">Speedy</a>ÔºåÂÆûÁé∞‰∫ÜÂàÜÂ∏ÉÂºèÂ≠òÂÇ®„ÄÇ</p>
<blockquote>
<p>QÔºöÈô§‰∫Ü‰ªãÁªçÁöÑJavaÁõ∏ÂÖ≥ÁöÑCIÊñπÊ°àÔºåÂØπ‰∫éC/C++ÂºÄÂèëËØ≠Ë®ÄÊúâÊ≤°ÊúâÊé®ËçêÁöÑCIÊñπÊ°àÔºü</p>
</blockquote>
<p>AÔºöTeamcity/JenkinsÁ≠âCIÂ∑•ÂÖ∑ÊîØÊåÅ‰ªª‰ΩïËØ≠Ë®ÄÁöÑ„ÄÇÂÖ∂ÂÆû‰ªª‰ΩïËØ≠Ë®ÄÁöÑCIÈÉΩÂ∑Æ‰∏çÂ§öÔºåÂçïÂÖÉÊµãËØïÔºåÈõÜÊàêÊµãËØï„ÄÇÂÖ≥ÈîÆËøòÂú®‰∫é‰æùËµñÁéØÂ¢ÉÁöÑÂáÜÂ§á‰ª•ÂèäÈõÜÊàêÊµãËØïÁî®‰æãÁöÑÁÆ°ÁêÜ„ÄÇ</p>
<blockquote>
<p>QÔºöÊàëÁúãÂà∞‰Ω†‰ª¨‰∏∫‰∫ÜÊñπ‰æøÊµãËØïÂíåË∞ÉËØï‰ºöÊúâÁã¨Á´ãÁöÑÈõÜÂêàDockerÁéØÂ¢ÉÔºåËøôÁßçÁéØÂ¢ÉÂíå‰∏äÁ∫øÁéØÂ¢ÉÂÖ∂ÂÆûÊòØÊúâÂ∑ÆÂà´ÁöÑÔºåËøôÊ†∑ÊµãËØïÁöÑÁªìÊûúËÉΩÂ§ü‰ª£Ë°®Á∫ø‰∏äÁéØÂ¢ÉÂêóÔºüËøôÁßçÈóÆÈ¢òÊÄé‰πàÁúãÂæÖÔºü</p>
</blockquote>
<p>AÔºöÊâÄ‰ª•Êàë‰ª¨ÊúâÂ§ö‰∏™ÊµÅÁ®ã„ÄÇÊ∏ÖÁêÜÊï∞ÊçÆÁöÑÊµãËØïÁéØÂ¢ÉÔºå‰ª•Âèä‰∏çÊ∏ÖÁêÜÁéØÂ¢ÉÁöÑÊ≤ôÁÆ±ÁéØÂ¢É„ÄÇ‰ΩÜËøô‰πü‰∏çËÉΩÈÅøÂÖç‰∏ÄÈÉ®ÂàÜÁ∫ø‰∏äÁéØÂ¢ÉÁöÑÊï∞ÊçÆÂØºËá¥ÁöÑbug„ÄÇÂè¶Â§ñÂ∞±ÊòØÈÖçÂêàÁÅ∞Â∫¶‰∏äÁ∫øÊú∫Âà∂„ÄÇÂΩìÂâçÊàë‰ª¨ÁöÑÁÅ∞Â∫¶ÊòØÈÄöËøá‰ª£Á†Å‰∏≠ÁöÑÂºÄÂÖ≥ÂÆûÁé∞ÁöÑÔºå‰ΩøÁî®ËøôÁßçÊñπÊ°àÁöÑ‰πüÂæàÂ§öÔºåÊØîÂ¶ÇfacebookÁöÑGatekeeper„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆGroukÊúâÊ∂âÂèäÂâçÁ´ØÔºàNode.jsÊñπÈù¢ÁöÑÔºâÂπ∂ÁªìÂêàDockerÁöÑCI/CDÁªèÂéÜÂêóÔºåÂèØ‰ª•ÂàÜ‰∫´‰∏ãÂêóÔºü</p>
</blockquote>
<p>AÔºöËøôÊàë‰ª¨‰πüÂú®Â∞ùËØï„ÄÇÂΩìÂâçjsÁöÑÊµãËØï‰∏ªË¶ÅËøòÊòØÂü∫‰∫é<a href="https://github.com/ariya/phantomjs" target="_blank" rel="noopener">ariya/phantomjs</a>ÔºåÁ∫ØÁ≤πÁöÑjsÂ∫ìÊØîËæÉÊñπ‰æøÊµãËØïÔºå‰ΩÜÂ¶ÇÊûúÁâµÊâØÂà∞ÁïåÈù¢ÔºåÂ∞±ÊØîËæÉÂ§çÊùÇ‰∫õ‰∫Ü„ÄÇ</p>
<h2 id="2015-12-22ÔºöÂü∫‰∫éDockerÂíåGitÁöÑÊåÅÁª≠ÈõÜÊàêÂ∑•‰ΩúÊµÅ"><a href="#2015-12-22ÔºöÂü∫‰∫éDockerÂíåGitÁöÑÊåÅÁª≠ÈõÜÊàêÂ∑•‰ΩúÊµÅ" class="headerlink" title="2015-12-22ÔºöÂü∫‰∫éDockerÂíåGitÁöÑÊåÅÁª≠ÈõÜÊàêÂ∑•‰ΩúÊµÅ"></a>2015-12-22ÔºöÂü∫‰∫éDockerÂíåGitÁöÑÊåÅÁª≠ÈõÜÊàêÂ∑•‰ΩúÊµÅ</h2><blockquote>
<p>QÔºöÂºÄÂèëÊØèÊèê‰∫§‰∏Ä‰∏™bugfixÔºåÈÉΩ‰ºöËß¶ÂèëjinkensÂéªÊûÑÂª∫ÈïúÂÉèÔºåÈÇ£‰πàÂ§öÁöÑÂºÄÂèëËÄÖÔºåÂ≤Ç‰∏çÊòØË¶ÅÊûÑÂª∫ÂæàÂ§öÈïúÂÉèÔºü</p>
</blockquote>
<p>AÔºöÊ≤°ÊúâÈîôÔºåÊàë‰ª¨ÊòØÊØèÊ¨°ÈÉΩËß¶ÂèëÊûÑÂª∫ imageÔºåÁî±‰∫éimageÊòØÂàÜÂ±ÇÁöÑÔºåÂ∫ïÂ±ÇÂ∑≤ÁªèÂ≠òÂú®ÁöÑÁà∂ÂØπË±°ÔºåÊòØ‰∏çÁî®Â≠òÂÇ®ÔºåÂè™Â≠òÂÇ®ÂèòÂåñÁöÑÈÉ®ÂàÜÊâÄ‰ª•ÂÜçÁî®ÁöÑÁ£ÅÁõòÁ©∫Èó¥Âæà‰ΩéÔºåÂú®Á≥ªÁªüÂºÄÂßãÂàùÔºåÊàëÂÅöËøáÁªüËÆ°Ôºå1000‰∏™ image ‰πü‰∏çÂà∞ 9GÔºåËøôÂÖ∂‰∏≠ËøòÊúâÂæàÂ§öÂü∫Á°ÄÈïúÂÉè„ÄÇ</p>
<blockquote>
<p>QÔºöÊÉ≥ÈóÆ‰∏Ä‰∏™ÈõÜÁæ§Áõ∏ÂÖ≥ÁöÑÔºåÂÉèDockerÈÉ®ÁΩ≤ËøôÈÉ®ÊòØÁõ¥Êé•Ë∞ÉÁî®DockerÈÉ®ÁΩ≤ÂÆπÂô®ÔºåËøòÊòØÈÄöËøáAnsibleÊàñÂÖ∂‰ªñÂ∑•ÂÖ∑Ôºü</p>
</blockquote>
<p>AÔºöÊúâ‰∫Ü Kubernetes ÁÆ°ÁêÜÈõÜÁæ§ÂêéÔºåÂèëÂ∏ÉÁöÑÂ∑•‰ΩúÂ∞±ÊØîËæÉÁÆÄÂçï‰∫ÜÔºåÁî®‰∏ç‰∏ä Ansible„ÄÇ‰ΩÜÊòØ Ansible ËøòÊòØÊúâÂÆÉÁöÑÁî®Â§ÑÁöÑÔºåÊØîÂ¶ÇÊ∏ÖÁêÜÈõÜÁæ§‰∏≠ËøáÊó∂ÁöÑ imageÔºåÂíåÂ∑≤ÁªèÈÄÄÂá∫ÁöÑ ContainerÁ≠â„ÄÇ</p>
<blockquote>
<p>QÔºö‰Ω†Â•ΩÔºå‰ª•Ââç‰πüÂÅöËøáÁ±ª‰ººÁöÑÊúçÂä°‚ÄùÁ¨¨‰∏âÊ≠•ÔºöJenkins ‰ºöÊääÁõ∏Â∫îÁöÑ imageÈÉ®ÁΩ≤Âà∞ÊúçÂä°Âô®ÈõÜÁæ§‰∏≠ÔºåÂºÄÂèëËÄÖÂ∞±ÂèØ‰ª•ÈÄöËøá iss001.kingdeeËøô‰∏™ÂüüÂêçËÆøÈóÆÂàöÂàöÂØπÂ∫îÂàÜÊîØÁöÑÊúçÂä°‰∫Ü‚ÄùÔºåÂçïÁã¨‰∏Ä‰∏™ÂàÜÊîØËß£ÂÜ≥‰∫ÜÂØπÂ∫îÁöÑbugÔºå‰ΩÜÂÆûÈôÖÁîü‰∫ß‰∏≠ÈùûÂ∏∏ÂÆπÊòì‰øÆÊîπ‰∏Ä‰∏™bugÂºïËµ∑ÂÖ∂‰ªñÁöÑbugÔºå‰Ω†‰ª¨ÊòØÊÄé‰πàÂéªÊääÊéßÊï¥‰ΩìÁöÑÁ®≥ÂÆöÊÄßÔºüÂ¶Ç‰ΩïÊèêÈ´òËøôÁßçÂçï‰∏™bugÂàÜÊîØÂçï‰∏™ÊµãËØïÁéØÂ¢ÉÁöÑÊÑè‰πâÔºü</p>
</blockquote>
<p>AÔºöËøô‰∏™ pull-request ÁöÑÂ∑•‰ΩúÊñπÂºèÊòØÂ∫îÂØπÂäüËÉΩÂºÄÂèëÁöÑÔºåÂ¶ÇÂÉèÈïøÊúüÂºÄÂèëÊüê‰∏™ new featureÔºå‰Ω†ÂàöÂàöËØ¥ÁöÑ‰∏Ä‰∏™ bug ‰∫ßÁîüÂè¶Â§ñ‰∏Ä‰∏™bugÔºåÊàë‰ª¨ÁöÑÂÅöÊ≥ïÊòØÊúâÂõûÂΩíÊµãËØïÔºåÊàë‰ª¨Êúâ‰∏Ä‰∏™ smoke ÂàÜÊîØÔºåÊåÅÁª≠‰∏çÊñ≠ÁöÑÂØπÂÖ∂ÂÅöÂäüËÉΩÂõûÂΩíÊµãËØïÔºåÂè™ÊúâÈÄöËøáÁöÑÊâçËÉΩ cherry pick Âà∞release ‰∏ä„ÄÇ</p>
<blockquote>
<p>QÔºöÊµãËØïÁéØÂ¢É‰æùËµñÁöÑredis/MQ‰πãÁ±ªÁöÑÂ§ñÈÉ®ÊúçÂä°Â¶Ç‰ΩïÂÅöÁöÑÈöîÁ¶ª?ÊØèÊ¨°ÊµãËØïÂçïÁã¨ÊãâËµ∑Êù•‰∏ÄÂ•óÂ§ñÈÉ®‰æùËµñÁöÑÊúçÂä°ÂêóÔºü</p>
</blockquote>
<p>AÔºöÊàë‰ª¨ÈÄöËøáÂ§ö‰∏™ÊâãÊÆµÊù•ÂÆûÁé∞ÂÖ±‰∫´Êï∞ÊçÆÔºömaster„ÄÅsmoke„ÄÅrelease ÂàÜÊîØÊµãËØïÈÉΩÊúâËá™Â∑±Áã¨Á´ãÁöÑ‰∏≠Èó¥‰ª∂ÔºåË¶ÅÊòØ‰∏çÁî®ËÆøÈóÆÂÖ±‰∫´ÁöÑÊï∞ÊçÆÔºåÂèØ‰ª•ÈÉ®ÁΩ≤Â¶Ç MQ imageÔºå‰ª£Á†ÅÂ±ÇÈù¢ÁöÑÔºåÂ¶Ç MQ key ÁöÑÂêçÁß∞Âä†‰∏äÊú∫Âô®ÁöÑ IP„ÄÇ</p>
<blockquote>
<p>QÔºöÊúâÊ≤°ÊúâÁî®Âà∞MesosÔºüÊòØÂê¶ÂÆπÊòìÈÅáÂà∞ÈóÆÈ¢òÔºüËøôÊñπÈù¢ÁöÑÊñáÊ°£Â•ΩÂÉèÂπ∂‰∏çÂ§ö„ÄÇ</p>
</blockquote>
<p>AÔºöMesos ÊòØ‰∏™‰∫åÁ∫ßË∞ÉÂ∫¶ÔºåÈÄÇÁî®‰∫éÂÉèÂ≠òÂú®Â§öÂ•óÈõÜÁæ§ÁöÑÊÉÖÂÜµÔºåÊù•ÂùáË°°ËµÑÊ∫êÔºåÂ¶ÇÔºöÈÉ®ÁΩ≤‰∫Ü Hadoop Âíå storm Ôºå‰∏ÄËà¨‰ºö‰ΩøÁî® storm Êù•Â§ÑÁêÜÂÆûÊó∂ÁöÑËØ∑Ê±ÇÔºåHadoop ÂÅöÁ¶ªÁ∫øÂ∑•‰Ωú„ÄÇÊôö‰∏äÂíåÁôΩÂ§©Â∞±Â≠òÂú®‰∏ÄÁßçÂèØËÉΩÂ∞±ÊòØ Hadoop Èó≤ÁΩÆÔºå‰ΩÜÊòØ storm ÂèØËÉΩÂæàÂøôÔºåËøôÊó∂ Mesos ËøôÊ†∑ÁöÑ‰∫åÁ∫ßË∞ÉÂ∫¶Â∞±ÂèØ‰ª•Âπ≥Ë°°ËµÑÊ∫êÔºåËäÇÁ∫¶ÊàêÊú¨ÔºåÊàë‰ª¨ÊöÇÊó∂Ê≤°ÊúâËøôÊ†∑ÁöÑÈúÄÊ±Ç„ÄÇËá≥‰∫éÊñáÊ°£ÊñπÈù¢Êàë‰πüÊ≤°ÊúâÊ∑±ÂÖ•Á†îÁ©∂ÔºåÂª∫ËÆÆÁúãÂÆòÊñπÊñáÊ°£„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆ‰Ω†‰ª¨Âú®ÊûÑÂª∫ÁöÑÊó∂ÂÄôÔºå‰Ω†ËØ¥Êúâ‰∫õÈúÄË¶ÅÂçä‰∏™Â∞èÊó∂Â∑¶Âè≥ÔºåÈÇ£‰πàÊûÑÂª∫ËøáÁ®ãÁöÑËøõÂ∫¶ÁõëÊéßÂíåÂÅ•Â∫∑ÁõëÊéß‰Ω†‰ª¨ÊÄé‰πàÂÅöÁöÑÂë¢ÔºåÂ¶ÇÊûúÊúâbuildÂ§±Ë¥•‰∫ÜÊÄé‰πàÂ§ÑÁêÜÂë¢Ôºü</p>
</blockquote>
<p>AÔºöCIÁöÑÊØè‰∏ÄÊ≠•ÈÉΩÊúâËøõÂ∫¶ÁöÑÔºåÂπ∂‰∏îÊàë‰ª¨ÁöÑÂõ¢ÈòüÈÄöËÆØÂ∑•ÂÖ∑ÂèØ‰ª•ÂíåCIÈõÜÊàêÔºåÂ¶ÇÊûúÂ§±Ë¥•‰ºöÂèëÊ∂àÊÅØÂà∞Áæ§ÈáåÈÄöÁü•Â§ßÂÆ∂„ÄÇ</p>
<h2 id="QA-Gitlab"><a href="#QA-Gitlab" class="headerlink" title="QA Gitlab"></a>QA Gitlab</h2><blockquote>
<p>Q9ÔºögitlabÊé•Êî∂‰∏Ä‰∏™push eventËß¶ÂèëÊûÑÂª∫ÔºåËøô‰∏™ÊòØÁõëÊéßÊâÄÊúâÁöÑÂàÜÊîØÂêóÔºåÂàÜÊîØÊ®°ÂûãÊòØÊÄé‰πàÊ†∑ÁöÑ</p>
</blockquote>
<p>AÔºö‰∏çÊòØÁöÑÔºåÊåâÈúÄ„ÄÇÊàë‰ª¨ÂÜÖÈÉ®ÂàÜÊîØÊ®°ÂûãÂ§ßÊ¶ÇÊúâÂõõÁßçÔºådev‚Äî‚Äî&gt;test‚Äî‚Äî&gt;release‚Äî‚Äî&gt;master„ÄÇmaster‰ª•Â§ñÁöÑ‰∏∫‰∫ÜÊïàÁéáÈÉΩ‰ºöÂÅöËá™Âä®Ëß¶Âèë</p>
<blockquote>
<p>Q11Ôºö‰∏∫‰ªÄ‰πà‰∏çÁõ¥Êé•Áî®gitlab-runner ËÄåÊé•jenkins</p>
</blockquote>
<p>AÔºögitlab-runner ÈúÄË¶ÅÊØè‰∏™‰ªìÂ∫ìÈÉΩÈÖçÁΩÆÊûÑÂª∫‰ø°ÊÅØÔºåÂΩìÈúÄË¶ÅÁªü‰∏Ä‰øÆÊîπÊûÑÂª∫ÁöÑÊó∂ÂÄôÂæàÈ∫ªÁÉ¶</p>
<blockquote>
<p>QÔºöÊåÅÁª≠ÈõÜÊàêÁ≥ªÁªüÂÖ∑‰ΩìÁöÑÁªÜËäÇÂèØ‰ª•ÈÄèÈú≤‰∏ãÂêóÔºüÂü∫‰∫égitlab ciÔºåjekinsÔºüÊàñËÄÖÂ∞èÂÖ¨Âè∏ÂèØ‰ª•Áõ¥Êé•Áî®Spinnaker Ëøô‰∫õÂêóÔºü</p>
</blockquote>
<p>AÔºöci cdÁöÑËØùÂõ†‰∏∫Êàë‰ª¨ÊúâËá™Â∑±Áé∞ÊúâÁöÑÂèëÂ∏ÉÂπ≥Âè∞ÔºåËÉåÂêéÁöÑÂéüÁêÜÂÆûÈôÖ‰∏äËøòÊòØË∞ÉÁî®jenkinsÂéªÂ§ÑÁêÜ</p>
<blockquote>
<p>QÔºöÂíågitlab ciÁõ∏ÊØîÊúâ‰ªÄ‰πà‰ºòÂäø</p>
</blockquote>
<p>AÔºö Âíå gitlab ci Áõ∏ÊØîÁöÑ‰ºòÂäøÂèØ‰ª•ÂèÇËÄÉ‰∏ã jenkins ‰∏é jenkins xÁöÑÂØπÊØî„ÄÇÂú®Áî®Êà∑ËßíÂ∫¶Êù•ËØ¥Ôºå‰ª•Â∫îÁî®‰∏∫ËßÜËßí‰ΩøÁî®Ëµ∑Êù•‰ºöÊõ¥Âä†Êñπ‰æøÔºå‰πüÊñπ‰æøÂà©Áî®Á§æÂå∫ËµÑÊ∫ê„ÄÇ‰ªéÊû∂ÊûÑÂíåÂèØÁª¥Êä§ÊÄßÊù•ËØ¥ÔºåJenkins X ÁöÑÊû∂ÊûÑ‰ºöÁõ∏ÂØπÊõ¥Âä†ÂÖàËøõÔºà‰∏éËØûÁîüÂπ¥‰ª£ÊúâÁõ¥Êé•ÂÖ≥Á≥ª)„ÄÇ</p>
<blockquote>
<p>QÔºö ÁõÆÂâçÊàë‰ª¨‰ΩøÁî®ÁöÑgitlab-ci-runner ÈÉ®ÁΩ≤‰∫ék8s‰πãÂ§ñÂÆûÁé∞ci/cd„ÄÇÂèëÁé∞gitlab-ciÂú®ÂÆûÈôÖ‰ΩøÁî®‰∏≠ÔºåÁªèÂ∏∏‰ºöÈÅáÂà∞Âç°Ê≠ªÊä•Èîô„ÄÇËØ∑ÈóÆ‰∏ãÔºåÁõ∏ÊØîjenkins ÂÅöci/cd ÊòØ‰ºöÊúâ‰ªÄ‰πà‰ºòÂäøÔºå‰πãÂâçÂπ∂Ê≤°Êúâ‰ΩøÁî®Ëøájenkins.</p>
</blockquote>
<p>AÔºögitlab-ciÁîü‰∫ßÁéØÂ¢É‰∏≠ÔºåÊàë‰ª¨‰πüÊ≤°Êúâ‰ΩøÁî®ÔºåÊàë‰ª¨Ë∞ÉÁ†îÁöÑÁªìÊûúÊòØ1„ÄÅÊúâ‰æµÂÖ•ÊÄß 2„ÄÅpipelineÂäüËÉΩËæÉÂº±Ôºå‰ΩÜÊòØÊúâ‰∏Ä‰∏™Â•ΩÂ§ÑÊòØÈÅáÂà∞ÈîôËØØÂ•ΩÂÉèËøòÂèØ‰ª•ÁªßÁª≠ÊâßË°å„ÄÇjenkinsÈÅáÂà∞ÈîôËØØ‰ºö‰∏≠Êñ≠ÊµÅÁ®ã„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆJenkinswebhookÈÇ£‰∫õÊûÑÂª∫ÂèÇÊï∞Â¶Ç‰Ωï‰º†ÂÖ•GitLabËß¶ÂèëÔºü</p>
</blockquote>
<p>AÔºöwebhookÁöÑËß¶ÂèëÂíåÁïåÈù¢ÂèÇÊï∞‰ºöÊúâ‰∏Ä‰∫õÂå∫Âà´ÔºåÊàë‰ª¨Âú®ËÑöÊú¨ÈáåÈù¢ÂÅö‰∫ÜÂ§ÑÁêÜ„ÄÇ</p>
<blockquote>
<p>QÔºöÁ¶ªÁ∫øÈÉ®ÁΩ≤ÔºåÊòØ‰∏çÊòØÈÄöËøáÊâìÂá∫ÈïúÂÉèÂéãÁº©ÂåÖÔºåÁÑ∂ÂêéÂ∏¶ÁùÄÈïúÂÉèÂåÖÂà∞Áé∞Âú∫ÈÉ®ÁΩ≤ÁöÑÂÆπÂô®‰∫ëÂπ≥Âè∞‰∏äÔºå‰∏ä‰º†ÈÉ®ÁΩ≤ÁöÑÊñπÂºèÔºü</p>
</blockquote>
<p>AÔºöÊòØÂú®ÂÆ∂ÈáåÊâìÂá∫ÈïúÂÉèÂéãÁº©ÂåÖÔºåÁÑ∂ÂêéÂà∞Áé∞Âú∫Ëß£ÂéãÂá∫Êù•ÔºåÊ†πÊçÆÈïúÂÉèÁ±ªÂûãËøõË°åÂ§ÑÁêÜÔºåÊØîÂ¶Ç‰∏Ä‰∫õÂü∫Á°ÄÈïúÂÉèÔºå‰ºöÁõ¥Êé•‰∏ä‰º†Âà∞ËäÇÁÇπÔºå‰∏öÂä°ÁöÑÈïúÂÉè‰ºöÂú®ÈÉ®ÁΩ≤ÂÆåÊàêÂêé‰∏ä‰º†Âà∞HarborÔºåÁÑ∂ÂêéËäÇÁÇπ‰ªéHarborÂéªÊãâÂèñ„ÄÇ</p>
<blockquote>
<p>QÔºöGitLab Ëá™Â∏¶ÁöÑ CI ‰∏éJenkins Âíå GitLab ÁªìÂêàÁöÑ CIÔºåËØ•Â¶Ç‰ΩïÈÄâÊã©ÔºüÊÉ≥Áü•ÈÅìÊõ¥Ê∑±Â±ÇÊ¨°ÁöÑÁêÜËß£„ÄÇ</p>
</blockquote>
<p>AÔºöËøòÊòØË¶ÅÁªìÂêàËá™Â∑±Âõ¢ÈòüÁöÑÂÆûÈôÖÊÉÖÂÜµÂÅöÈÄâÊã©„ÄÇ‰ªéÊàêÁÜüÂ∫¶Êù•ËØ¥ÔºåËÇØÂÆöÊòØ JenkinsÁî®Êà∑ÊúÄÂ§öÔºåÊàêÁÜüÂ∫¶ÊúÄÈ´òÔºåÁº∫ÁÇπÊòØ‰æßÈáç JavaÔºåÈÖçÁΩÆÁõ∏ÂØπÁπÅÁêê„ÄÇGitLab Ëá™Â∏¶ÁöÑ CIÁõ∏ÂØπÁÆÄÂçïÔºåÂèØ‰ª•Áî® yamlÔºåÂíå GitLab ÁªìÂêàÁöÑÊúÄÂ•ΩÔºå‰ΩÜÂäüËÉΩËÇØÂÆöÊ≤°Êúâ JenkinsÂÖ®Èù¢„ÄÇÂ¶ÇÊûúÊòØÂ∞èÂõ¢ÈòüÊñ∞È°πÁõÆÔºåGitLab CI ÂèàÂ∑≤ÁªèÂèØ‰ª•Êª°Ë∂≥ÈúÄÊ±ÇÁöÑËØùÔºåÂπ∂‰∏çÈúÄË¶Å‰∏äJenkinsÔºåÂ¶ÇÊûúÊòØËæÉÂ§ßÁöÑÂõ¢ÈòüÔºåÂèàÊòØÂÅè Java ÁöÑÔºå‰∏™‰∫∫Êõ¥ÂÅèÂêë Jenkins„ÄÇ</p>
<blockquote>
<p>QÔºöÊúâ‰∫ÜGerritÔºå‰∏∫‰ªÄ‰πàËøòË¶ÅGitLabÔºåGerrit‰πüÂèØ‰ª•ÊâòÁÆ°‰ª£Á†ÅÂïäÔºü</p>
</blockquote>
<p>AÔºöËøô‰∏™ÊòØÊúâÂéÜÂè≤ËÉåÊôØÁöÑÔºåÊàë‰ª¨ÊòØÂÖàÈÄâÊã©‰ΩøÁî®GitLabÂÅö‰ª£Á†ÅÊâòÁÆ°ÔºåÂêéÊúüÊâçÂä†ÂÖ•GerritÂÅöcode review„ÄÇGerritÂú®‰ª£Á†ÅreviewÊñπÈù¢ÊØîGitLabÁöÑmerge requestË¶ÅÊñπ‰æøËÆ∏Â§öÔºåÊõ¥ÈÄÇÂêà‰ºÅ‰∏öÂÜÖÈÉ®‰ΩøÁî®„ÄÇÂÖ≥‰∫éËøô‰∏™ÔºåÊàëÁöÑÊÉ≥Ê≥ïÊòØÔºåË¶Å‰πàÂ∞ÜGitLabËøÅÁßªÂà∞GerritÔºåË¶Å‰πà‰∏çÁî®GerritÔºåÂèØ‰ª•‰ΩøÁî®GitLabÁöÑmerge requestÊù•ËøõË°åreviewÔºåÈÇ£GitLabÂÖ∂ÂÆûÊòØÂèØ‰ª•‰∏çË¶ÅÁöÑ„ÄÇ</p>
<blockquote>
<p>QÔºöÂÖ¨Âè∏ÁéØÂ¢ÉËæÉÂ§çÊùÇÔºöÂåÖÂê´JavaÈ°πÁõÆ„ÄÅPHPÈ°πÁõÆÔºåJavaÈ°πÁõÆÁõÆÂâçÂ§ßÂ§öÊòØSpringBootÊ°ÜÊû∂ÔºåPHPÊòØThinkPHPÊ°ÜÊû∂ÔºåÈ°πÁõÆÊû∂ÊûÑÂπ∂‰∏çÂ§çÊùÇÔºåÊúâÂ∞ëËÆ∏JavaÈ°πÁõÆÈúÄË¶ÅÁî®RedisÂà∞Memcached„ÄÅÁºìÂ≠òÊú∫Âà∂„ÄÇÊúÄÂ§ßÈóÆÈ¢òÁöÑÊòØÂ§öÔºåÈ°πÁõÆÂ∫îËØ•Â¶Ç‰ΩïËæÉÂ•ΩÁöÑ‰æùÊâòKubernetesÈ°∫Âà©Êû∂ÊûÑÔºåÂ∞ÜÈ°πÁõÆÂèØÊåÅÁª≠ÈõÜÊàêÔºü</p>
</blockquote>
<p>AÔºöÊàë‰ª¨ÁöÑRedisËøô‰∏ÄÁ±ª‰∏≠Èó¥‰ª∂ËøòÊîæÂú®VM‰∏äÔºåÁõÆÂâçÂ∞öÊú™ÊâìÁÆóÊê¨ÁßªÂà∞Kubernetes‰∏äÔºåKubernetes+DockerÂ§©ÁÑ∂ÊòØË∑®Âπ≥Âè∞ÁöÑÔºåPHP‰πüÂèØ‰ª•ÊîØÊåÅÔºåÂπ∂‰∏îÂØπÂÆπÂô®ÈõÜÁæ§ÔºàÊó¢Â∫îÁî®ÈõÜÁæ§ÔºâÁÆ°ÁêÜÈùûÂ∏∏Âá∫Ëâ≤ÔºåÂåÖÂê´ÈÉ®ÂàÜËá™Âä®ÂåñËøêÁª¥ÔºåÂπ∂‰∏ç‰ºöÂõ†Â§öÁßçÂºÄÂèëËØ≠Ë®ÄËÄåÂ¢ûÂä†Ë¥üÊãÖÔºåÊåÅÁª≠ÈõÜÊàêÊòØÂè¶Â§ñ‰∏ÄÂùóÔºåÁõÆÂâçÂêÑÂ§ßCIÂ∑•ÂÖ∑ÂéÇÂïÜ‰πüÈÉΩÊîØÊåÅKubernetesÔºåÊØîËæÉÂèãÂ•ΩÔºåÊàë‰ª¨ÈááÁî®ÁöÑÊòØGitLab-CI„ÄÇ</p>
<blockquote>
<p>QÔºöSonarQubeÁöÑÊùÉÈôêÊéßÂà∂ÂèäÊÄßËÉΩÂΩìÈù¢Ôºü</p>
</blockquote>
<p>AÔºöÊùÉÈôêÊéßÂà∂‰ΩøÁî®SonarQubeÊèê‰æõÁöÑAPIÔºåÂ∞ÜÈ°πÁõÆË∑üGitLab‰∏≠Áõ∏Â∫îÈ°πÁõÆÊùÉÈôêÂåπÈÖçËµ∑Êù•ÔºåGitLab‰∏≠ÂèØ‰ª•Êü•ÁúãËøô‰∏™È°πÁõÆ‰ª£Á†ÅÔºåÈÇ£‰πàSonarQube‰∏≠Â∞±ËÉΩÁúãÂà∞Ëøô‰∏™È°πÁõÆÁªìÊûúÂíåCode„ÄÇ</p>
<blockquote>
<p>Q: ‰Ω†‰ª¨ÊòØÁõ¥Êé•Â∞ÜSonarQube„ÄÅGitLab/JenkinsÁöÑÊùÉÈôêÊéßÂà∂Âà∞‰∏ÄËµ∑‰∫ÜÔºüÊÄéÊ†∑ÂÅöÁöÑÁªü‰∏ÄÔºü</p>
</blockquote>
<p>AÔºö‰ΩøÁî®LDAPËÆ§ËØÅ„ÄÇ</p>
<blockquote>
<p>QÔºöGit CheckoutÁöÑÊó∂ÂÄôÔºå‰Ω†‰ª¨ÁöÑGit SCMÊ≤°ÊúâËÄÉËôëÈöêÁßÅÂÆâÂÖ®ÁöÑ‰∫ãÊÉÖÂêóÔºåÊØîÂ¶Ç‰ª£Á†ÅÊùÉÈôêÂèóÈôêÔºü</p>
</blockquote>
<p>AÔºöJenkins‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÊúÄÂ∞èÊùÉÈôêÁî®Êà∑ÂéªGitLab‰∏äÊãâ‰ª£Á†Å„ÄÇÂÆâÂÖ®ÊñπÈù¢ÔºåJenkinsÊâÄÊúâËäÇÁÇπÈÉΩÊòØÂèØÊéßÁöÑ„ÄÇ</p>
<blockquote>
<p>QÔºöJenkinsÁöÑÊåÅÁª≠ÈõÜÊàêÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÔºüÊØîÂ¶Ç‰∏çÂêåÁöÑÊ∫êÁ†Å‰ªìÂ∫ìÁöÑÊèê‰∫§Ëß¶ÂèëÔºåÂ¶ÇGitHub„ÄÅGitLabÁâàÊú¨Âè∑ÊÄé‰πàÊéßÂà∂ÁöÑÔºü</p>
</blockquote>
<p>AÔºöJenkinsÁöÑCIÊµÅÁ®ãËß¶ÂèëÂèØ‰ª•ÊúâÂæàÂ§öÁßçÔºå‰ª£Á†ÅÊèê‰∫§Ëß¶ÂèëÔºåÂÆöÊó∂Ëß¶ÂèëÔºåÊâãÂä®Ëß¶Âèë„ÄÇÁâàÊú¨Âè∑ÁöÑÊéßÂà∂‰πüÂèØ‰ª•ÊúâÂæàÂ§öÊñπÊ°àÔºåÊØîÂ¶Ç‰ΩøÁî®jobÁöÑÁºñÂè∑Ôºå‰ΩøÁî®GitÁöÑcommitÂè∑Ôºå‰ΩøÁî®Êó∂Èó¥Êà≥Á≠âÁ≠â„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆÔºåÊàë‰ª¨ÊòØjavaÈ°πÁõÆÔºåÂú®‰∏öÂä°‰ª£Á†ÅÊâìÊàêwarÂåÖÂêéÔºåwarÂåÖÂæàÂ§ßÁöÑÊÉÖÂÜµ‰∏ãÔºåÂú®ÂèëÂ∏ÉÊµÅÁ®ã‰∏≠ÔºåÂ¶Ç‰ΩïÂÆåÊàêpod‰∏≠ÁöÑÂÆπÂô®ÁöÑ‰ª£Á†ÅÊõ¥Êñ∞ÔºåÊòØÈááÁî®ÊåÇËΩΩ‰ª£Á†ÅÂêéÈáçÂêØÂÆπÂô®ÊñπÂºèÔºåËøòÊòØÈááÁî®ÊØèÊ¨°ÈáçÊñ∞ÊûÑÂª∫‰ª£Á†ÅÈïúÂÉèÔºåÁõ¥Êé•Êõ¥Êñ∞ÂÆπÂô®ÔºåÊàñËÄÖÊúâ‰ªÄ‰πàÊõ¥Â•ΩÁöÑÂª∫ËÆÆÂêó</p>
</blockquote>
<p>AÔºöÈÖçÁΩÆÂàÜÁ¶ªÔºà‰∏äÈÖçÁΩÆ‰∏≠ÂøÉ)ÔºåÂèÇÊï∞ÈÄöËøáÂêØÂä®Èâ¥ÊùÉ‰∏ãËΩΩÈÖçÁΩÆÊñá‰ª∂ÂêØÂä®ÔºåËøôÊ†∑Â≠êÁéØÂ¢ÉÁöÑÊõ¥Êñ∞Âè™ÈúÄË¶ÅÂü∫‰∫éÈÄöËøá‰∏Ä‰∏™ÂåÖÂç≥ÂèØ„ÄÇ</p>
<blockquote>
<p>QÔºö‰∏Ä‰∏™JobÁîüÊàêÊâÄÊúâÁöÑDockerÈïúÂÉèÔºåÂ¶ÇÊûúÊûÑÂª∫ÈÅáÂà∞ÈóÆÈ¢òÔºåÊÄé‰πàÂéªËøΩË∏™Ëøô‰∫õËÆ∞ÂΩïÔºü</p>
</blockquote>
<p>AÔºöÂú®È°πÁõÆÂâçÊúüÊé•ÂÖ•Êó∂ÔºåÁîüÊàêÈïúÂÉèÁöÑÊµÅÁ®ãÈÉΩ‰Ωú‰∫ÜÂÆ£‰º†ÂíåÊé®Âπø„ÄÇÊ†áÂáÜÂåñÁöÑÊµÅÁ®ãÔºå‰ºöÂáèÂ∞ë‰∫ßÁîüÈóÆÈ¢òÁöÑÊú∫Áéá„ÄÇÂ¶ÇÊûúÂú®ÊûÑÂª∫‰∏≠ÈÅáÂà∞ÈóÆÈ¢òÔºåPrism4kÁöÑÁïåÈù¢‰∏≠Ôºå‰ºöÁõ¥Êé•ÊúâÈìæÊé•Âà∞Êú¨Ê¨°Âª∫ÁöÑÊ¨°Â∫èÂè∑„ÄÇÁÇπÂáªÈìæÊé•ÔºåÂèØÁõ¥Êé•ÂÆö‰ΩçÂà∞ConsoleËæìÂá∫„ÄÇ</p>
<blockquote>
<p>QÔºöJobÂíådindÂ¶Ç‰ΩïÈÖçÂêàÂéªÂÆûÁé∞ÊâìÂåÖÈïúÂÉèÁöÑÂë¢Ôºü</p>
</blockquote>
<p>AÔºöÈ¶ñÂÖàÊòØdindÊäÄÊúØÔºåÈÄöËøáÊåÇËΩΩÂÆø‰∏ªÊú∫ÁöÑdocker clientÂíådockersockÔºåÂèØ‰ª•ÂÆûÁé∞Âú®ÂÆπÂô®ÂÜÖË∞ÉÁî®ÂÆø‰∏ªÊú∫ÁöÑDockerÊù•ÂÅö‰∏Ä‰∫õ‰∫ãÊÉÖÔºåËøôÈáåÊàë‰ª¨‰∏ªË¶ÅÂ∞±Áî®‰∫ébuild„ÄÇKubernetesÁöÑJobÂàôÊòØÁî®‰∫éÊâßË°åËøô‰∏™ÊûÑÂª∫workerÁöÑÊñπÂºèÔºåÂà©Áî®KubernetesÁöÑJobÊù•Ë∞ÉÂ∫¶ÊûÑÂª∫‰ªªÂä°ÔºåÂÖÖÂàÜÂà©Áî®ÊµãËØïÈõÜÁæ§ÁöÑÁ©∫Èó≤ËµÑÊ∫ê„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆ‰∏ãMavenÁöÑsettings.xmlÊÄé‰πàÂ§ÑÁêÜÔºüÊú¨Âú∞Maven‰ªìÂ∫ìÂë¢Ôºü</p>
</blockquote>
<p>AÔºöÊàë‰ª¨ÊûÑÂª∫‰∫ÜÁßÅÊúâÁöÑ Maven ÈïúÂÉèÔºå ÁßÅÊúâÈïúÂÉè‰∏≠ÊòØÈªòËÆ§‰ΩøÁî®‰∫ÜÊàë‰ª¨ÁöÑÁßÅÊúâÊ∫ê„ÄÇ ÂØπ‰∫éÈ°πÁõÆ‰∏≠Áî®Êà∑Êó†ÈúÄÂÖ≥Ê≥® settings.xml ‰∏≠ÊòØÂê¶ÈÖçÁΩÆrepo„ÄÇ</p>
<blockquote>
<p>QÔºöÁîüÊàêÊñ∞ÁöÑÈïúÂÉèÊÄé‰πàËá™Âä®ÊâìÊñ∞ÁöÑtagÔºü</p>
</blockquote>
<p>AÔºöÊàë‰ª¨ÈïúÂÉèTag‰ΩøÁî®Êú¨Ê¨°ÊûÑÂª∫ÈÄâÂÆöÁöÑGitÁâàÊú¨ÔºåÂ¶ÇÂàÜÊîØÂêçÁß∞ÊàñËÄÖTag„ÄÇ</p>
<blockquote>
<p>QÔºö Â¶Ç‰ΩïÂä®ÊÄÅÁîüÊàêDockerfileÔºåÂ¶Ç‰ΩïÂú®DockerÈïúÂÉèÈáåÈÖçÁΩÆJVMÂèÇÊï∞Ôºü</p>
</blockquote>
<p>AÔºöDockerfileÊñá‰ª∂ÔºöÊàë‰ª¨ÊòØ‰ΩøÁî®shËÑöÊú¨ÁîüÊàêÁöÑÔºåÂ∞ÜÂÜÖÂÆπ &gt;&gt; Dockerfile‰∏≠ÔºõJVMÂèÇÊï∞ÊòØÂú®Â∫îÁî®‰∏≠ÈÖçÁΩÆÁöÑÔºåÂèëÈÄÅÊûÑÂª∫Ê∂àÊÅØÊó∂Ôºå‰Ωú‰∏∫Ê∂àÊÅØÂÜÖÂÆπÈÄÅËøáÂéª„ÄÇ</p>
<blockquote>
<p>QÔºöDocker ÁöÑÊ≠£Á°ÆÁöÑ‰ΩøÁî®ÂßøÂäøÔºåÂú®Êú¨Âú∞ÁéØÂ¢ÉÂ∑≤ÁªèÊûÑÂª∫‰∫Ü‰ºÅ‰∏öÁßÅÊúâ Registry HarborÔºåÈÇ£‰πàÊàëË¶ÅÊûÑÂª∫Âü∫‰∫é‰∏öÂä°ÁöÑÂ∫îÁî®Êó∂ÔºåÊòØÂÖà‰ªé Linux Á≥ªÂàóÁöÑÂÉè Ubuntu Êàñ CentOS ÁöÑ Base ÁöÑ Docker ÈïúÂÉèÂºÄÂßãÔºåÁÑ∂ÂêéÈÄöËøá Dockerfile ÂÆöÂà∂‰∏öÂä°ÈúÄÊ±ÇÔºåÊù•‰ΩøÁî®ÂêóÔºü</p>
</blockquote>
<p>AÔºöÊàë‰ª¨Âü∫Á°ÄÈïúÂÉèÁªü‰∏ÄÈááÁî® CentOS 6.8Ôºå‰∏çÂêåÁöÑ‰∏öÂä°Êúâ‰∏çÂêåÁöÑ Dockerfile Ê®°ÊùøÔºåÁîüÊàêÈïúÂÉèÁöÑËøáÁ®ã‰∏öÂä°ÂØπ Dockerfile ÊòØÈÄèÊòéÁöÑ„ÄÇ</p>
<blockquote>
<p>QÔºö‰ΩøÁî®PipelineÂÖàÊûÑÂª∫ÁºñËØëÁéØÂ¢ÉÈïúÂÉèÔºåÂÜçÁºñËØëÔºåÊòØÂê¶‰ºöÂØºËá¥Êï¥‰∏™ÊµÅÁ®ãÈúÄË¶ÅÂæàÈïøÊó∂Èó¥ÔºüÊòØÂê¶Êúâ‰ºòÂåñÊñπÊ°àÔºü</p>
</blockquote>
<p>AÔºöÁºñËØëÈïúÂÉèÁî±‰∫é‰∏ç‰ºöÁªèÂ∏∏ÂèòÂä®ÔºåÂõ†Ê≠§Ëøô‰∏™ÈïúÂÉèÁöÑÊûÑÂª∫ÈÄöÂ∏∏‰ΩøÁî®cacheÂ∞±ËÉΩÁõ¥Êé•ÂÆåÊàêÔºåÂè¶Â§ñÊàë‰ª¨‰πüÊääÁºñËØëÁéØÂ¢ÉÈïúÂÉèÊâìÂåÖËøô‰∏™Ê≠•È™§ÊäΩÂá∫Êù•ÂçïÁã¨‰Ωú‰∏∫jobÊâßË°å‰∫ÜÔºåËøôÊ†∑Âú®ÂÆûÈôÖÁºñËØëÊµÅÁ®ã‰∏≠Â∞±Êó†ÈúÄÂÜçËøõË°åÁºñËØëÁéØÂ¢ÉÊûÑÂª∫„ÄÇ</p>
<blockquote>
<p>QÔºöDockerÂ≠òÂÇ®ËÄÉËôëËøáOverlayÂΩìÊó∂ÂêóÔºüÊçÆËØ¥ËøôÁßçÊûÑÂª∫ÈïúÂÉèÊØîËæÉÂø´„ÄÇ</p>
</blockquote>
<p>AÔºöËÄÉËôëËøáÔºåÂΩìÊó∂‰πüÂÅöËøáÂêÑ‰∏™ÊñπÈù¢ÁöÑÊµãËØïÔºåËøôÁßçÂ¢ûÈáèÂºèÁöÑÊûÑÂª∫ÔºåËÇØÂÆöÊúÄÂø´Ôºå‰ΩÜÊòØÊàë‰ª¨ÈúÄË¶ÅÊúâ‰∏ì‰∫∫‰ªéÊ∫êÁ†ÅÁ∫ßÂà´ÂØπÂÖ∂ËøõË°åÁª¥Êä§ÔºåÊàêÊú¨ÂØπ‰∫éÊàë‰ª¨ËøòÊòØÊúâÁÇπÈ´òÔºåÊàë‰ª¨ÂêéÊúüÊâìÁÆóÈááÁî®ÁéØÂ¢ÉÂíå‰ª£Á†ÅÂàÜÁ¶ªÁöÑÊñπÂºèÔºåÂç≥ÁéØÂ¢ÉÈÉ®ÁΩ≤‰∏ÄÊ¨°Ôºå‰ª£Á†ÅÂ§öÊ¨°ÈÉ®ÁΩ≤Êù•ÊèêÂçáÊïàÁéá„ÄÇ</p>
<blockquote>
<p>QÔºöÊÇ®ÊèêÂà∞‰∏çËøáÂàÜÂº∫Ë∞ÉÊµãËØïËá™Âä®ÂåñÔºåÂ∞ΩÈáè‰∏çÊîπÂèòÊµãËØïÊµÅÁ®ãÔºåÈÇ£‰πàÂØπ‰∫éËá™Âä®ÊûÑÂª∫ÂíåÂçïÂÖÉÊµãËØïÁöÑËá™Âä®ÂåñÊúâÊ≤°ÊúâËÄÉËôëÂë¢ÔºüÊØïÁ´üËøô‰∫õÊòØÊØîËæÉÊ∂àËÄó‰∫∫ÂäõÁöÑÈÉ®ÂàÜ„ÄÇ</p>
</blockquote>
<p>AÔºöËá™Âä®ÊûÑÂª∫ÊàëËÆ§‰∏∫ÊØîËæÉÁé∞ÂÆûÔºåÂçïÂÖÉÊµãËØïÊúâËÄÉËôë„ÄÇ‰∏çËøáÊàë‰ª¨ÊµãËØïÊ°à‰æãËøá‰∫éÂ§çÊùÇÔºåÁõÆÂâçÁúãÁü≠ÊúüÂÆûÁé∞‰∏çÂ§™Áé∞ÂÆû„ÄÇËÄå‰∏îÊÄßËÉΩ‰πüÊòØ‰∏™ÈóÆÈ¢òÔºåÂ¶ÇÊûú‰∏ã‰∏ÄÊ≠•Ë¶ÅÂÅöÊàë‰ª¨‰ºöÊõ¥Â§öËÄÉËôë‰∏Ä‰∫õÁâπÂÆöÂú∫ÊôØ„ÄÇÊØîÂ¶Ç‰∫ßÂìÅÂèëÂ∏ÉÂêéÁöÑÂõûÂΩíÊµãËØïÔºåËøô‰∏™ÊúâÂèØËÉΩÔºå‰ΩÜ‰∏ç‰ºöÊòØÊôÆÈÅçÂ∫îÁî®„ÄÇ</p>
<blockquote>
<p>QÔºöËá™Âä®ÂåñÊûÑÂª∫ËøáÁ®ã‰∏≠ÔºåÂØπÂ∫îÁî®ÁöÑÊµãËØïÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÔºü</p>
</blockquote>
<p>AÔºöÂçïÂÖÉÊµãËØïÂèØ‰ª•Âú®ÁºñËØëÁöÑÊó∂ÂÄôÂÆåÊàêÔºåÂäüËÉΩÊµãËØïÈúÄË¶ÅÂêØÂä®ÈÉ®ÁΩ≤„ÄÇ</p>
<blockquote>
<p>QÔºöÈÄöËøáÈïúÂÉèÁöÑÊûÑÂª∫ËÑöÊú¨ÊòØÊÄé‰πàÁîüÊàêÈïúÂÉèÁöÑÔºüÂú®Âü∫Á°ÄÈïúÂÉè‰∏äÊâßË°åÁõ∏ÂÖ≥ËÑöÊú¨‰πàÔºü‰∏Ä‰∫õÁ´ØÂè£Â≠òÂÇ®Âç∑ÁéØÂ¢ÉÂèòÈáèËøô‰∫õÈïúÂÉè‰∏≠ÁöÑ‰ø°ÊÅØÊòØÊÄé‰πàËß£ÂÜ≥ÁöÑÔºü</p>
</blockquote>
<p>AÔºöÊàë‰ª¨ÂØπDockerfileËøõË°å‰∫ÜÂ∞ÅË£ÖÔºå‰∏öÂä°ÂíåÂºÄÂèë‰∫∫Âëò‰∏çÈúÄË¶ÅÂÖ≥ÂøÉDockerfileËØ≠Ê≥ïÔºåÁõ¥Êé•ÂÜô‰∏Ä‰∏™ÈïúÂÉèÊûÑÂª∫ËÑöÊú¨ÔºåÊúÄÂêéÊ†πÊçÆ‰∏ÄÂÆöÁöÑËßÑÂàôÁî±HarborÁîüÊàêDockerfileÔºå‰πãÂêéË∞ÉÁî®docker buildÂéªÁîüÊàêÈïúÂÉè„ÄÇÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠Ôºå ÈïúÂÉèÁöÑÂêçÁß∞ÔºåÁâàÊú¨ÈÉΩÂ∑≤ÁªèÊ†πÊçÆËßÑÂàôÁîüÊàê</p>
<blockquote>
<p>QÔºöÂú®ÊûÑÂª∫Êó∂ÂÄôÔºåËøô‰∫õÁéØÂ¢ÉÂèØ‰ª•ÊèêÂâçÂÆâË£ÖÂ•ΩÔºü</p>
</blockquote>
<p>AÔºöÂ∫îÁî®ÈáåÈÉΩÊúâËá™Â∑±ÁöÑÁâàÊú¨Ê¶ÇÂøµÔºåÊØè‰∏™Â∫îÁî®ÁâàÊú¨ÈáåÊúâÔºöÈïúÂÉèÁâàÊú¨ÔºåÁéØÂ¢ÉÂèòÈáè„ÄÅ export„ÄÅVolmueÁ≠â‰ø°ÊÅØÔºåÊâÄ‰ª•Âú®ÂõûÈÄÄÊàñËÄÖÂçáÁ∫ßÊó∂ÂÄôÔºåÊúÄÁªàÁöÑË°®Áé∞ÂΩ¢ÂºèÂ∞±ÊòØÊùÄÊéâÊóßÂÆπÂô®ÔºåÊ†πÊçÆÁâàÊú¨ÁöÑÂèÇÊï∞ÂàõÂª∫Êñ∞ÂÆπÂô®„ÄÇ</p>
<blockquote>
<p>QÔºöËØ∑ÈóÆÊûÑÂª∫‰∏ÄÊ¨°Âπ≥ÂùáË¶ÅÂ§öÈïøÊó∂Èó¥Ôºü</p>
</blockquote>
<p>AÔºöÁé∞Âú®Java„ÄÅDubbo„ÄÅPython„ÄÅgoÁöÑÂ§öÔºå ‰∏ÄËà¨2ÂàÜÈíüÔºåËÄå‰∏îÊúâÁöÑÈïúÂÉèÁî®Êà∑ÂºÄÂêØ‰∫ÜËá™Âä®ÊûÑÂª∫ÂêéÔºåÂú®‰ªñ‰ª¨Ê≤°ÊÑèËØÜÁöÑËøáÁ®ã‰∏≠ÔºåÈÉΩÂ∑≤ÁªèÊûÑÂª∫ÂÆåÊàê„ÄÇ Âà∞Êó∂ÂÄôÂçáÁ∫ßÊó∂ÂÄôÔºåÈÄâÊã©ÂØπÂ∫îÁöÑÈïúÂÉèÁâàÊú¨Âç≥ÂèØ„ÄÇ</p>
<blockquote>
<p>QÔºöAppÁöÑÊØè‰∏ÄÊ¨°Êèê‰∫§ÈÉΩÊòØ‰∏Ä‰∏™versionÂêóÔºåÊòØ‰∏çÊòØÊØèÊ¨°ÊûÑÂª∫ÂÆåÊµãËØïÂÆåÊàêÔºåÂ∞±ÂèØ‰ª•ÂèëÂ∏É‰∫ÜÔºü</p>
</blockquote>
<p>AÔºöApp Ê≤°ÊúâÊèê‰∫§ÁöÑÊ¶ÇÂøµÔºåÊÇ®ËØ¥ÁöÑÂ∫îËØ•ÊòØÈïúÂÉèÔºåÊàë‰ª¨ËÆæËÆ°ÁöÑÊòØ‰∏Ä‰∏™ÈïúÂÉèÂØπÂ∫î‰∏Ä‰∏™Git‰ªìÂ∫ì‰ª•ÂèäÂàÜÊîØ„ÄÇÂΩìÊúâpushÊàñËÄÖtagÊìç‰ΩúÂêéÔºå‰ºöËá™Âä®Ëß¶ÂèëÊûÑÂª∫ÔºåÊûÑÂª∫ÁöÑË°å‰∏∫ÊòØÊ†πÊçÆÁî®Êà∑ÂÜôÁöÑÈïúÂÉèÊûÑÂª∫shellËÑöÊú¨Êù•ÂÜ≥ÂÆöÁöÑ„ÄÇ ‰∏ÄËà¨Êàë‰ª¨Âª∫ËÆÆ‰∏öÂä°ÈÉ®Èó®ÂÅöÂá∫ÁöÑÈïúÂÉèË∑üÊµãËØïÁéØÂ¢ÉÂíåÁîüÊàêÁéØÂ¢ÉÊ≤°ÂÖ≥Á≥ª„ÄÇ ÈïúÂÉèÂ∞±ÊòØÈïúÂÉèÔºåÂè™ÊúâÂ∫îÁî®ÊúâÊµãËØïÁéØÂ¢ÉÂíåÁîü‰∫ßÁéØÂ¢É„ÄÇ</p>
    </div>
      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/harbor/" rel="tag"><i class="fa fa-tag"></i> harbor</a>
              <a href="/tags/gitlab/" rel="tag"><i class="fa fa-tag"></i> gitlab</a>
              <a href="/tags/CI-CD/" rel="tag"><i class="fa fa-tag"></i> CI/CD</a>
          </div>
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/with-chanshiyu-qa.html" rel="prev" title="ÂíåËùâÊó∂Èõ®ÁöÑÊúâË∂£Á¨îË∞à">
      <i class="fa fa-chevron-left"></i> ÂíåËùâÊó∂Èõ®ÁöÑÊúâË∂£Á¨îË∞à
    </a></div>
      <div class="post-nav-item">
    <a href="/kubeadm-deploy-k8s-v1.17.4.html" rel="next" title="‰ΩøÁî® kubeadm Âø´ÈÄüÈÉ®ÁΩ≤‰ΩìÈ™å K8s">
      ‰ΩøÁî® kubeadm Âø´ÈÄüÈÉ®ÁΩ≤‰ΩìÈ™å K8s <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
  </article>
  </div>
          </div>
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
        </div>
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>
  <aside class="sidebar">
    <div class="sidebar-inner">
      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          ÊñáÁ´†ÁõÆÂΩï
        </li>
        <li class="sidebar-nav-overview">
          Á´ôÁÇπÊ¶ÇËßà
        </li>
      </ul>
      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Gitlab"><span class="nav-number">1.</span> <span class="nav-text">Gitlab</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Omnibus-ÂåÖÂÆâË£ÖÊñπÂºèÊØîËæÉ"><span class="nav-number">1.1.</span> <span class="nav-text">Omnibus ÂåÖÂÆâË£ÖÊñπÂºèÊØîËæÉ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÂÆâË£Ö-Gitlab"><span class="nav-number">2.</span> <span class="nav-text">ÂÆâË£Ö Gitlab</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Ubuntu-1804"><span class="nav-number">2.1.</span> <span class="nav-text">Ubuntu 1804</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CentOS7"><span class="nav-number">2.2.</span> <span class="nav-text">CentOS7</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-ÊâìË°•‰∏ÅÔºåË°•ÂÖÖÊ±âÂåñÁöÑË°•‰∏Å"><span class="nav-number">2.3.</span> <span class="nav-text">2.ÊâìË°•‰∏ÅÔºåË°•ÂÖÖÊ±âÂåñÁöÑË°•‰∏Å</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-‰øÆÊîπÈªòËÆ§ÈÖçÁΩÆ"><span class="nav-number">2.4.</span> <span class="nav-text">3. ‰øÆÊîπÈªòËÆ§ÈÖçÁΩÆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-ÂàùÂßãÂåñËÆæÁΩÆ"><span class="nav-number">2.5.</span> <span class="nav-text">4. ÂàùÂßãÂåñËÆæÁΩÆ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÂÆâË£Ö-gitlab-runner"><span class="nav-number">3.</span> <span class="nav-text">ÂÆâË£Ö gitlab-runner</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Debian-Ubuntu"><span class="nav-number">3.1.</span> <span class="nav-text">Debian&#x2F;Ubuntu</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CentOS7-1"><span class="nav-number">3.2.</span> <span class="nav-text">CentOS7</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Ê≥®ÂÜå-gitlab-runner"><span class="nav-number">3.3.</span> <span class="nav-text">Ê≥®ÂÜå gitlab-runner</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#‰øÆÊîπ-gitlab-ÈªòËÆ§ÁΩëÁªúËÆæÁΩÆ"><span class="nav-number">3.4.</span> <span class="nav-text">‰øÆÊîπ gitlab ÈªòËÆ§ÁΩëÁªúËÆæÁΩÆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Âú®È°πÁõÆ‰∏≠Ê≥®ÂÜå-Runner"><span class="nav-number">3.5.</span> <span class="nav-text">Âú®È°πÁõÆ‰∏≠Ê≥®ÂÜå Runner</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÈÉ®ÁΩ≤-Harbor"><span class="nav-number">4.</span> <span class="nav-text">ÈÉ®ÁΩ≤ Harbor</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ËÆæÁΩÆ-insecure-registry"><span class="nav-number">4.1.</span> <span class="nav-text">ËÆæÁΩÆ insecure registry</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÊµãËØï-CI-CD-È°πÁõÆ"><span class="nav-number">5.</span> <span class="nav-text">ÊµãËØï CI&#x2F;CD È°πÁõÆ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#gitlab-ci-yaml"><span class="nav-number">5.1.</span> <span class="nav-text">.gitlab-ci.yaml</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÂèÇËÄÉ-Êé®Ëçê"><span class="nav-number">6.</span> <span class="nav-text">ÂèÇËÄÉ&#x2F;Êé®Ëçê</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Á§æÁæ§ÈóÆÁ≠î-QA-CI-CD-Áõ∏ÂÖ≥"><span class="nav-number">7.</span> <span class="nav-text">Á§æÁæ§ÈóÆÁ≠î QA | CI&#x2F;CD Áõ∏ÂÖ≥</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2019-04-03ÔºöÂÆπÂô®ÁéØÂ¢É‰∏ãÁöÑÊåÅÁª≠ÈõÜÊàêÊúÄ‰Ω≥ÂÆûË∑µ"><span class="nav-number">7.1.</span> <span class="nav-text">2019-04-03ÔºöÂÆπÂô®ÁéØÂ¢É‰∏ãÁöÑÊåÅÁª≠ÈõÜÊàêÊúÄ‰Ω≥ÂÆûË∑µ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Âü∫‰∫é-GitLab-ÁöÑ-CI-ÂÆûË∑µ"><span class="nav-number">7.2.</span> <span class="nav-text">Âü∫‰∫é GitLab ÁöÑ CI ÂÆûË∑µ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2015-09-23ÔºöÂü∫‰∫éDockerÂíåJavaÁöÑÊåÅÁª≠ÈõÜÊàêÂÆûË∑µ"><span class="nav-number">8.</span> <span class="nav-text">2015-09-23ÔºöÂü∫‰∫éDockerÂíåJavaÁöÑÊåÅÁª≠ÈõÜÊàêÂÆûË∑µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2015-12-22ÔºöÂü∫‰∫éDockerÂíåGitÁöÑÊåÅÁª≠ÈõÜÊàêÂ∑•‰ΩúÊµÅ"><span class="nav-number">9.</span> <span class="nav-text">2015-12-22ÔºöÂü∫‰∫éDockerÂíåGitÁöÑÊåÅÁª≠ÈõÜÊàêÂ∑•‰ΩúÊµÅ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#QA-Gitlab"><span class="nav-number">10.</span> <span class="nav-text">QA Gitlab</span></a></li></ol></div>
      </div>
      <!--/noindex-->
      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Êú®Â≠ê"
      src="https://blog.k8s.li/avatar.png">
  <p class="site-author-name" itemprop="name">Êú®Â≠ê</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">98</span>
          <span class="site-state-item-name">Êó•Âøó</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">ÂàÜÁ±ª</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">120</span>
        <span class="site-state-item-name">Ê†áÁ≠æ</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/muzi502" title="GitHub ‚Üí https:&#x2F;&#x2F;github.com&#x2F;muzi502" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:blog@502.li" title="E-Mail ‚Üí mailto:blog@502.li" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/muzi_ii" title="Twitter ‚Üí https:&#x2F;&#x2F;twitter.com&#x2F;muzi_ii" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://t.me/muzi_ii" title="Telegram ‚Üí https:&#x2F;&#x2F;t.me&#x2F;muzi_ii" rel="noopener" target="_blank"><i class="fa fa-fw fa-telegram"></i>Telegram</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://kindle.502.li/" title="Kindle ‚Üí https:&#x2F;&#x2F;kindle.502.li" rel="noopener" target="_blank"><i class="fa fa-fw fa-book"></i>Kindle</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tg.k8s.li/" title="Channel ‚Üí https:&#x2F;&#x2F;tg.k8s.li" rel="noopener" target="_blank"><i class="fa fa-fw fa-telegram"></i>Channel</a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS ‚Üí &#x2F;atom.xml"><i class="fa fa-fw fa-rss"></i>RSS</a>
      </span>
  </div>
      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>
      </div>
    </main>
    <footer class="footer">
      <div class="footer-inner">
<div class="copyright">
  &copy; 2018 ‚Äì 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Êú®Â≠ê</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">Á´ôÁÇπÊÄªÂ≠óÊï∞Ôºö</span>
    <span title="Á´ôÁÇπÊÄªÂ≠óÊï∞">1.4m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Á´ôÁÇπÈòÖËØªÊó∂Èïø &asymp;</span>
    <span title="Á´ôÁÇπÈòÖËØªÊó∂Èïø">39:50</span>
</div>
  <div class="powered-by">Áî± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> Âº∫ÂäõÈ©±Âä®
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">‰∏ªÈ¢ò ‚Äì <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>
      </div>
    </footer>
  </div>
  <script src="/lib/anime.min.js"></script>
<script src="/js/utils.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>
<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://muzi.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: {page: {
            url: "https://blog.k8s.li/gitlab-ci-harbor.html",
            identifier: "gitlab-ci-harbor.html",
            title: "Âü∫‰∫é Gitlab-ci + Harbor ÁöÑ CI ÊµÅÊ∞¥Á∫ø"
          }
        }
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://muzi.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>
</body>
</html>
