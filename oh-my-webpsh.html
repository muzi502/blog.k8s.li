<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="//fonts.loli.net/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://blog.k8s.li').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"buttons","active":null,"storage":true,"lazyload":true,"nav":{"disqus":{"text":"Load Disqus","order":-1}}},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":false,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>
  <meta name="description" content="Âí±Êù•Êé®ÈîÄ webp server go Âï¶ ÔºàxÂ∞èÂ£∞  ÂäùÈÄÄ‰∏âËøûüòÇ ÈúÄË¶ÅÈÖçÁΩÆ nginx ÂèçÂêë‰ª£ÁêÜÔºàÔºûÔπèÔºúÔºâ ÂõæÁâáÂøÖÈ°ªÊîæÂú®Ëá™Â∑±ÁöÑÊúçÂä°Âô®‰∏äÔºåÂõæÂ∫ä‰∏çÂæóË°å (Ôæâ*ÔΩ•œâÔΩ•)Ôæâ ÈúÄË¶ÅÁã¨Á´ãÁöÑÊúçÂä°Âô®ÔºåGitHub page ‰πãÁ±ªÁöÑ‰∏çÂæóË°åÔºà‚ïØÔ∏ø‚ï∞Ôºâ  ‰∏çËøáÔºåÂØπ‰∫éÂ∑≤Áªè‰ºöËá™Áî±ËÆøÈóÆ‰∫íËÅîÁΩëÁöÑ‰∫∫Êù•ËØ¥ËøôÈÉΩ‰∏çÈöæ (‚óèÀá‚àÄÀá‚óè) ÔºåÈ£üÁî®ËøáÁ®ã‰∏≠Êúâ‰ªÄ‰πàÁñëÈóÆÁöÑËØù‰πüÂèØ‰ª•ËÅîÁ≥ªÂí±ÔºåÂí±‰ºöÂ∞ΩËá™Â∑±ÊâÄËÉΩÊèê‰æõ‰∏Ä‰∫õÂ∏ÆÂä©üòòÔºå‰∏ÄËµ∑Êù•ÂÆåÂñÑËøô‰∏™ÂºÄÊ∫êÈ°πÁõÆ„ÄÇ">
<meta property="og:type" content="article">
<meta property="og:title" content="ËÆ©ÂõæÁâáÈ£ûËµ∑Êù• oh-my-webp.sh ÔºÅ">
<meta property="og:url" content="https://blog.k8s.li/oh-my-webpsh.html">
<meta property="og:site_name" content="Êú®Â≠ê">
<meta property="og:description" content="Âí±Êù•Êé®ÈîÄ webp server go Âï¶ ÔºàxÂ∞èÂ£∞  ÂäùÈÄÄ‰∏âËøûüòÇ ÈúÄË¶ÅÈÖçÁΩÆ nginx ÂèçÂêë‰ª£ÁêÜÔºàÔºûÔπèÔºúÔºâ ÂõæÁâáÂøÖÈ°ªÊîæÂú®Ëá™Â∑±ÁöÑÊúçÂä°Âô®‰∏äÔºåÂõæÂ∫ä‰∏çÂæóË°å (Ôæâ*ÔΩ•œâÔΩ•)Ôæâ ÈúÄË¶ÅÁã¨Á´ãÁöÑÊúçÂä°Âô®ÔºåGitHub page ‰πãÁ±ªÁöÑ‰∏çÂæóË°åÔºà‚ïØÔ∏ø‚ï∞Ôºâ  ‰∏çËøáÔºåÂØπ‰∫éÂ∑≤Áªè‰ºöËá™Áî±ËÆøÈóÆ‰∫íËÅîÁΩëÁöÑ‰∫∫Êù•ËØ¥ËøôÈÉΩ‰∏çÈöæ (‚óèÀá‚àÄÀá‚óè) ÔºåÈ£üÁî®ËøáÁ®ã‰∏≠Êúâ‰ªÄ‰πàÁñëÈóÆÁöÑËØù‰πüÂèØ‰ª•ËÅîÁ≥ªÂí±ÔºåÂí±‰ºöÂ∞ΩËá™Â∑±ÊâÄËÉΩÊèê‰æõ‰∏Ä‰∫õÂ∏ÆÂä©üòòÔºå‰∏ÄËµ∑Êù•ÂÆåÂñÑËøô‰∏™ÂºÄÊ∫êÈ°πÁõÆ„ÄÇ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://p.k8s.li/20200306094307271.png">
<meta property="og:image" content="https://p.k8s.li/20200307102856702.png">
<meta property="og:image" content="https://p.k8s.li/20200304191400500.png">
<meta property="og:image" content="https://p.k8s.li/no-webp.png">
<meta property="og:image" content="https://p.k8s.li/with-webp.png">
<meta property="article:published_time" content="2020-03-04T16:00:00.000Z">
<meta property="article:modified_time" content="2020-03-05T16:00:00.000Z">
<meta property="article:author" content="Êú®Â≠ê">
<meta property="article:tag" content="ÂçöÂÆ¢">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://p.k8s.li/20200306094307271.png">
<link rel="canonical" href="https://blog.k8s.li/oh-my-webpsh.html">
<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>
  <title>ËÆ©ÂõæÁâáÈ£ûËµ∑Êù• oh-my-webp.sh ÔºÅ | Êú®Â≠ê</title>
  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }
  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>
<link rel="alternate" href="/atom.xml" title="Êú®Â≠ê" type="application/atom+xml">
</head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">
    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Êú®Â≠ê</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="ÂàáÊç¢ÂØºËà™Ê†è">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>
<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">
    <a href="/" rel="section"><i class="fa fa-fw fa-desktop"></i>Home</a>
  </li>
        <li class="menu-item menu-item-books">
    <a href="/booklist.html" rel="section"><i class="fa fa-fw fa-book"></i>Books</a>
  </li>
        <li class="menu-item menu-item-kindle">
    <a href="https://kindle.502.li/" rel="noopener" target="_blank"><i class="fa fa-fw fa-book"></i>Kindle</a>
  </li>
        <li class="menu-item menu-item-friend">
    <a href="/link/" rel="section"><i class="fa fa-fw fa-link"></i>Friend</a>
  </li>
        <li class="menu-item menu-item-about">
    <a href="/about.html" rel="section"><i class="fa fa-fw fa-user-circle-o"></i>About</a>
  </li>
  </ul>
</nav>
</div>
    </header>
  <div class="reading-progress-bar"></div>
    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div class="content">
  <div class="posts-expand">
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.k8s.li/oh-my-webpsh.html">
    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://blog.k8s.li/avatar.png">
      <meta itemprop="name" content="Êú®Â≠ê">
      <meta itemprop="description" content="">
    </span>
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êú®Â≠ê">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          ËÆ©ÂõæÁâáÈ£ûËµ∑Êù• oh-my-webp.sh ÔºÅ
        </h2>
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">ÂèëË°®‰∫é</span>
              <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2020-03-05 2020-03-05T00:00:00+08:00" itemprop="dateCreated datePublished" datetime="2020-03-05T00:00:00+08:00">2020-03-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Êõ¥Êñ∞‰∫é</span>
                <time title="‰øÆÊîπÊó∂Èó¥Ôºö2020-03-06 2020-03-06T00:00:00+08:00" itemprop="dateModified" datetime="2020-03-06T00:00:00+08:00">2020-03-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">ÂàÜÁ±ª‰∫é</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">ÊäÄÊúØ</span>
                  </a>
                </span>
            </span>
  <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">DisqusÔºö</span>
    <a title="disqus" href="/oh-my-webpsh.html#comments" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="oh-my-webpsh.html" itemprop="commentCount"></span>
    </a>
  </span>
  <br>
            <span class="post-meta-item" title="Êú¨ÊñáÂ≠óÊï∞">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Êú¨ÊñáÂ≠óÊï∞Ôºö</span>
              <span>11k</span>
            </span>
            <span class="post-meta-item" title="ÈòÖËØªÊó∂Èïø">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">ÈòÖËØªÊó∂Èïø &asymp;</span>
              <span>18 ÂàÜÈíü</span>
            </span>
        </div>
      </header>
    <div class="post-body" itemprop="articleBody">
        <blockquote>
<p>Âí±Êù•Êé®ÈîÄ webp server go Âï¶ ÔºàxÂ∞èÂ£∞</p>
</blockquote>
<h2 id="ÂäùÈÄÄ‰∏âËøûüòÇ"><a href="#ÂäùÈÄÄ‰∏âËøûüòÇ" class="headerlink" title="ÂäùÈÄÄ‰∏âËøûüòÇ"></a>ÂäùÈÄÄ‰∏âËøûüòÇ</h2><ul>
<li>ÈúÄË¶ÅÈÖçÁΩÆ nginx ÂèçÂêë‰ª£ÁêÜÔºàÔºûÔπèÔºúÔºâ</li>
<li>ÂõæÁâáÂøÖÈ°ªÊîæÂú®Ëá™Â∑±ÁöÑÊúçÂä°Âô®‰∏äÔºåÂõæÂ∫ä‰∏çÂæóË°å (Ôæâ*ÔΩ•œâÔΩ•)Ôæâ</li>
<li>ÈúÄË¶ÅÁã¨Á´ãÁöÑÊúçÂä°Âô®ÔºåGitHub page ‰πãÁ±ªÁöÑ‰∏çÂæóË°åÔºà‚ïØÔ∏ø‚ï∞Ôºâ</li>
</ul>
<p>‰∏çËøáÔºåÂØπ‰∫éÂ∑≤Áªè‰ºöËá™Áî±ËÆøÈóÆ‰∫íËÅîÁΩëÁöÑ‰∫∫Êù•ËØ¥ËøôÈÉΩ‰∏çÈöæ (‚óèÀá‚àÄÀá‚óè) ÔºåÈ£üÁî®ËøáÁ®ã‰∏≠Êúâ‰ªÄ‰πàÁñëÈóÆÁöÑËØù‰πüÂèØ‰ª•ËÅîÁ≥ªÂí±ÔºåÂí±‰ºöÂ∞ΩËá™Â∑±ÊâÄËÉΩÊèê‰æõ‰∏Ä‰∫õÂ∏ÆÂä©üòòÔºå‰∏ÄËµ∑Êù•ÂÆåÂñÑËøô‰∏™ÂºÄÊ∫êÈ°πÁõÆ„ÄÇ</p>
<h2 id="WebP"><a href="#WebP" class="headerlink" title="WebP"></a>WebP</h2><blockquote>
<p>WebPÁöÑÊúâÊçüÂéãÁº©ÁÆóÊ≥ïÊòØÂü∫‰∫éVP8ËßÜÈ¢ëÊ†ºÂºèÁöÑÂ∏ßÂÜÖÁºñÁ†Å[17]ÔºåÂπ∂‰ª•RIFF‰Ωú‰∏∫ÂÆπÂô®Ê†ºÂºè„ÄÇ[2] Âõ†Ê≠§ÔºåÂÆÉÊòØ‰∏Ä‰∏™ÂÖ∑ÊúâÂÖ´‰ΩçËâ≤ÂΩ©Ê∑±Â∫¶Âíå‰ª•1:2ÁöÑÊØî‰æãËøõË°åËâ≤Â∫¶Â≠êÈááÊ†∑ÁöÑ‰∫ÆÂ∫¶-Ëâ≤Â∫¶Ê®°ÂûãÔºàYCbCr 4:2:0ÔºâÁöÑÂü∫‰∫éÂùóÁöÑËΩ¨Êç¢ÊñπÊ°à„ÄÇ[18] ‰∏çÂê´ÂÜÖÂÆπÁöÑÊÉÖÂÜµ‰∏ãÔºåRIFFÂÆπÂô®Ë¶ÅÊ±ÇÂè™ÈúÄ20Â≠óËäÇÁöÑÂºÄÈîÄÔºå‰æùÁÑ∂ËÉΩ‰øùÂ≠òÈ¢ùÂ§ñÁöÑ ÂÖÉÊï∞ÊçÆ(metadata)„ÄÇ[2] WebPÂõæÂÉèÁöÑËæπÈïøÈôêÂà∂‰∏∫16383ÂÉèÁ¥†„ÄÇ</p>
</blockquote>
<p>WebP ÊòØ‰∏ÄÁßçË°çÁîüËá™ Google VP8 ÁöÑÂõæÂÉèÊ†ºÂºèÔºåÂêåÊó∂ÊîØÊåÅÊúâÊçüÂíåÊó†ÊçüÁºñÁ†Å„ÄÇÂΩì‰ΩøÁî®ÊúâÊçüÊ®°ÂºèÔºåÂÆÉÂú®Áõ∏Âêå‰ΩìÁßØÊèê‰æõÊØî JPG ÂõæÂÉèÊõ¥Â•ΩÁöÑË¥®ÈáèÔºõÂΩì‰ΩøÁî®Êó†ÊçüÊ®°ÂºèÔºåÂÆÉÊèê‰æõÊØîÊúÄ‰Ω≥ÂéãÁº©ÁöÑ PNG ÂõæÂÉèÊõ¥Â∞èÁöÑ‰ΩìÁßØ„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåWebP ÂõæÁâáÊ†ºÂºèÁöÑÂ≠òÂú®ÔºåËÆ©Êàë‰ª¨Âú® WebP ‰∏äÂ±ïÁ§∫ÁöÑÂõæÁâá‰ΩìÁßØÂèØ‰ª•ÊúâËæÉÂ§ßÂπÖÂ∫¶ÁöÑÁº©Â∞è„ÄÇÁΩëÁ´ô‰∏äÁöÑÂõæÁâáËµÑÊ∫êÂ¶ÇÊûú‰ΩøÁî® WebPÔºåÈÇ£‰πàËá™ÁÑ∂‰πü‰ºöÂáèÂ∞ëËøô‰∫õÂõæÁâáÊñá‰ª∂ÁöÑÂä†ËΩΩÊó∂Èó¥Ôºå‰πüÂ∞±Â∏¶Êù•‰∫ÜÁΩëÁ´ôÂä†ËΩΩÊÄßËÉΩÁöÑÊèêÂçá„ÄÇÂÖ≥‰∫é webp ÂõæÂÉèÊ†ºÂºèÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÁªÜËäÇÂèØ‰ª•ÂéªÁª¥Âü∫ÁôæÁßëÊàñËÄÖÊñáÊú´ÊàëÊèêÂà∞ÁöÑÊé®ËçêÈòÖËØªÁúã‰∏Ä‰∏ãÔºåÊÄª‰πã webp ÂæàÈ¶ôÂ∞±ÊòØÂï¶ (‚óè‚Äô‚ó°‚Äô‚óè)</p>
<h3 id="ÊîØÊåÅÊÉÖÂÜµ"><a href="#ÊîØÊåÅÊÉÖÂÜµ" class="headerlink" title="ÊîØÊåÅÊÉÖÂÜµ"></a>ÊîØÊåÅÊÉÖÂÜµ</h3><p>Ê†πÊçÆ <a href="https://caniuse.com/#search=webp" target="_blank" rel="noopener">caniuse</a> ÁöÑÁªüËÆ°ÊÉÖÂÜµÔºå‰∏ªÊµÅÊµèËßàÂô®ÔºàÊé•Ëøë80%ÔºâÈÉΩÊîØÊåÅ webp ‰∫ÜÔºåÂ¶ÇÊûúÈÅáÂà∞ Safari ËøôÊ†∑ÁöÑÂ•áËë©ÔºåÂí±Áõ¥Êé•ËøîÂõûÂéüÂõæ„ÄÇIE ÊµèËßàÂô®ÔºüÔºü</p>
<p><img src="https://p.k8s.li/20200306094307271.png" alt=""></p>
<h2 id="webp-sh"><a href="#webp-sh" class="headerlink" title="webp-sh"></a>webp-sh</h2><ul>
<li>ÂÆòÁΩë <a href="https://webp.sh" target="_blank" rel="noopener">webp.sh</a></li>
<li>GitHub <a href="https://github.com/webp-sh" target="_blank" rel="noopener">webp-sh</a></li>
</ul>
<p>webp server È°æÂêçÊÄù‰πâÂ∞±ÊòØ webp ÊúçÂä°Âô®Âï¶ÔºåÁî®‰∫éÂ∞ÜÁΩëÁ´ôÈáåÁöÑÂõæÁâáÔºàjpg„ÄÅpng„ÄÅjpegÁ≠âÔºâËΩ¨Êç¢Êàê webp ÂõæÂÉèÁºñÁ†ÅÊ†ºÂºèÔºåËÄå‰∏îÊó†È°ª‰øÆÊîπÂçöÂÆ¢Á´ôÁÇπÂÜÖÂõæÁâáÁöÑ url ÔºåÂõ†Ê≠§ÂØπ‰∫éËÆøÈóÆÂõæÁâáËµÑÊ∫êÁöÑÂÆ¢Êà∑Á´ØÊù•ËÆ≤ÊòØÈÄèÊòéÁöÑ„ÄÇ‰∏ªÊµÅÁöÑ CDN ‰πüÊîØÊåÅËøôÊ†∑Á±ª‰ººÁöÑÂäüËÉΩÔºåÊØîÂ¶Ç Cloudflare ÁöÑ <a href="">Polish</a> ÔºåÂèØ‰ª•ÂèÇËÄÉ <a href="https://support.cloudflare.com/hc/en-us/articles/360000607372-Using-Cloudflare-Polish-to-compress-images">Using Cloudflare Polish to compress images</a> „ÄÇ‰ΩÜÊòØÂ§©‰∏ãÊ≤°ÊúâÂÖçË¥πÁöÑÂçàÈ§êÔºåÂõæÁâáËΩ¨Á†Å‰∏éÁºñÁ†ÅËøôÈÉΩÊòØË¶ÅÁÆóÂäõÁöÑÔºåÈÉΩÊòØË¶ÅËÆ°ÁÆóËµÑÊ∫êÁöÑÔºåÈÉΩÊòØË¶Å CPU ÁöÑÔºåÈÉΩÊòØË¶ÅËä±Èí±ÁöÑüòÇ„ÄÇËØ¥Âà∞Â∫ïËøòÊòØÁ©∑ÂïäÔºàÂí± webp server ÊòØÂºÄÊ∫êÂÖçË¥πÁöÑ„ÄÇ</p>
<blockquote>
<p>ÊúÄÈáçË¶ÅÁöÑ‰∏ÄÁÇπÊòØ‚Äî‚ÄîÊàë‰ª¨ËÆøÈóÆÁöÑ URL ÂèØ‰ª•ÂÆåÂÖ®‰∏çÁî®ÊîπÂèòÔºåËÆøÂÆ¢ËÆøÈóÆÁöÑ‰æùÁÑ∂ÊòØ <code>https://image.nova.moe/tsuki/tsuki.jpg</code> Ôºå‰ΩÜÊòØÂæóÂà∞ÁöÑÂõæÁâáÊ†ºÂºè‰∏∫Ôºö<code>image/webp</code>ÔºåËÄå‰∏î‰ΩìÁßØÂáèÂ∞ë‰∫Ü‰∏çÂ∞ë„ÄÇ</p>
</blockquote>
<p>ÂÖ∂ÂÆû webp server ÊúâÂ§öÁßçËØ≠Ë®ÄÈÉΩÂÆûÁé∞‰∫ÜÔºåÂπ∂‰∏îËøô‰∫õ‰ªìÂ∫ìËøòÈÉΩÊîæÂú®‰∫Ü <a href="https://github.com/webp-sh" target="_blank" rel="noopener">webp-sh</a> ËØ• Organizations ‰∏ã„ÄÇ‰∏çËøáÂí±ÊØîËæÉÂñúÊ¨¢ golang ÊâÄ‰ª•Â∞±Êé®Ëçê webp server go Âï¶üòÇÔºåÈöîÂ£ÅÁöÑ webp server rust Âà´ÊâìÊàëÂïäÔºàÈÄÉ</p>
<blockquote>
<p>Ëøô‰∏™Â∑•ÂÖ∑Â∞±ÊòØÁî± <a href="https://nova.moe/" target="_blank" rel="noopener">Nova Á´•Èûã</a>„ÄÅ <a href="https://www.bennythink.com" target="_blank" rel="noopener">Benny</a> „ÄÅ<a href="https://blog.0xbbc.com/" target="_blank" rel="noopener">cocoa</a> ‰ª•Âèä <a href="https://blog.k8s.li/">muzi</a> Â∞èÁõÜÂèã‰∏ÄËµ∑ÈºìÊç£ÁöÑ webp_server_go Âï¶ÔºÅ</p>
</blockquote>
<ul>
<li><a href="https://github.com/webp-sh/webp_server_go" target="_blank" rel="noopener">webp_server_go</a></li>
<li><a href="https://github.com/webp-sh/webp_server_rs" target="_blank" rel="noopener">webp_server_rs</a></li>
<li><a href="https://github.com/webp-sh/webp_server_node" target="_blank" rel="noopener">webp_server_node</a></li>
<li><a href="https://github.com/webp-sh/webp_server_java" target="_blank" rel="noopener">webp_server_java</a></li>
<li><a href="https://github.com/webp-sh/webp_server_python" target="_blank" rel="noopener">webp_server_python</a></li>
</ul>
<h2 id="È£üÁî®ÊåáÂçó"><a href="#È£üÁî®ÊåáÂçó" class="headerlink" title="È£üÁî®ÊåáÂçó"></a>È£üÁî®ÊåáÂçó</h2><h3 id="1-‰∏ãËΩΩ"><a href="#1-‰∏ãËΩΩ" class="headerlink" title="1. ‰∏ãËΩΩ"></a>1. ‰∏ãËΩΩ</h3><p>È¶ñÂÖàÂà∞ <a href="https://github.com/webp-sh/webp_server_go/releases" target="_blank" rel="noopener">release</a> È°µÈù¢‰∏ãËΩΩÂ∑≤ÁªèÁºñËØëÂ•ΩÁöÑ‰∫åËøõÂà∂Êñá‰ª∂ÊàñËÄÖÊ†πÊçÆËá™Â∑±ÁöÑÂèëË°åÁâàÈÄâÊã©‰∏ãËΩΩ rpm Êàñ deb ÂåÖÔºåÂú®Ê≠§Ë¶ÅÊ≥®ÊÑèÈÄâÊã©‰∏ãËΩΩÁ¨¶ÂêàËá™Â∑±ÁöÑ arch Âíå OS„ÄÇ</p>
<p>Ëá≥‰∫éÂÆâË£ÖË∑ØÂæÑÔºåÊàë‰∏™‰∫∫Êõ¥ÂÄæÂêë‰∫éÊîæÂú® <code>/opt/</code> ÁõÆÂΩï‰∏ãÔºåÂõ†‰∏∫Ëøô‰∏™ÁõÆÂΩï‰∏ãÁöÑ‰∏úË•øÈÉΩÊòØËá™Â∑±ÂÆâË£ÖÁöÑÔºåËÄå‰∏î‰πü‰∏ç‰æùËµñ‰∫éÁâπÂÆöÁöÑÂèëË°åÁâàÔºåÊñπ‰æøÂçöÂÆ¢ËøÅÁßªÔºàÊê¨ÂÆ∂ÔºâÔºåÊê¨ÂÆ∂ÁöÑÊó∂ÂÄôÁõ¥Êé•ÊâìÂåÖ <code>/opt</code> ÁõÆÂΩïÔºåÁÑ∂Âêé scp ‰∏Ä‰∏ãÂ∞±Âç∑Èì∫ÁõñËµ∞‰∫∫ÔºåÂ§öÊñπ‰æøÂëÄüòÇ„ÄÇ</p>
<h3 id="2-ÈÖçÁΩÆ"><a href="#2-ÈÖçÁΩÆ" class="headerlink" title="2. ÈÖçÁΩÆ"></a>2. ÈÖçÁΩÆ</h3><p>È£üÁî® webp-server-go ‰πãÂâçÈÄâÂáÜÂ§áÂ•Ω‰∏Ä‰∏™ <code>config.json</code> ÈÖçÁΩÆÊñá‰ª∂ÔºåÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"HOST"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">  <span class="attr">"PORT"</span>: <span class="string">"3333"</span>,</span><br><span class="line">  <span class="attr">"QUALITY"</span>: <span class="string">"80"</span>,</span><br><span class="line">  <span class="attr">"IMG_PATH"</span>: <span class="string">"/var/www/hexo"</span>,</span><br><span class="line">  <span class="attr">"EXHAUST_PATH"</span>: <span class="string">"./dist"</span>,</span><br><span class="line">  <span class="attr">"ALLOWED_TYPES"</span>: [<span class="string">"jpg"</span>,<span class="string">"png"</span>,<span class="string">"jpeg"</span>,<span class="string">"bmp"</span>,<span class="string">"gif"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>HOSTÔºöÂØπ‰∫é webp server ÊúçÂä°Êù•ËÆ≤Âè™ÈúÄË¶ÅÁõëÂê¨ 127.0.0.1 Ëøô‰∏™Êú¨Êú∫Âú∞ÂùÄÂ∞±ÂèØ‰ª•‰∫ÜÔºåÁ®çÂêé‰ΩøÁî® nginx ÂèçÂêë‰ª£ÁêÜ‰∏Ä‰∏ã„ÄÇ</li>
<li>PORTÔºöÂ∞±ÊòØ webp server ÊúçÂä°ÁõëÂê¨ÁöÑÁöÑÁ´ØÂè£Âè∑ÔºåÊ†πÊçÆËá™Â∑±ÈúÄÊ±Ç‰øÆÊîπ</li>
<li>QUALITYÔºöÁºñÁ†ÅÁöÑË¥®ÈáèÔºå‰∏ÄËà¨Êé®Ëçê 75 Ôºå‰∏çËøá‰ΩøÁî® 80 ‰πüÊòØ‰∏çÈîôÁöÑ„ÄÇ</li>
<li>IMG_PATHÔºöÁΩëÁ´ôÁöÑÊ†πÁõÆÂΩïÔºåÊ†πÁõÆÂΩïÔºåÊ†πÁõÆÂΩïÔºå‰∏ÄÂÆöË¶ÅÈÖçÁΩÆ‰Ω†ÂõæÁâá url ÁöÑÊ†πÁõÆÂΩï„ÄÇ</li>
<li>EXHAUST_PATHÔºöËΩ¨Êç¢ÂêéÁöÑ webp ÂõæÁâáÊñá‰ª∂Â≠òÊîæ‰ΩçÁΩÆÔºåÊèêÂâçÂàõÂª∫Â•Ω„ÄÇ</li>
<li>ALLOWED_TYPESÔºöÂÖÅËÆ∏ËΩ¨Á†ÅÁöÑÂõæÁâáÊ†ºÂºèÔºåÁõÆÂâçÊîØÊåÅËøôÂá†Áßç„ÄÇ</li>
</ul>
<p>Êé•‰∏ãÊù•ÂÜçÈÖçÁΩÆ‰ª•‰∏ã nginx Ôºå‰∏ãÈù¢‰ª•ÊàëÁöÑ hexo ÂçöÂÆ¢‰∏∫‰æãÔºåhugo ‰πüÂêåÊ†∑Â¶ÇÊ≠§„ÄÇÂÜçÊ∑ªÂä†‰∏ÄÂùó localtion Â≠óÊÆµÂç≥ÂèØÔºåÂ¶ÇÊûú‰Ω†‰øÆÊîπ‰∫ÜÈªòËÆ§Á´ØÂè£Âè∑ÁöÑËØù‰∏çË¶ÅÂøòËÆ∞‰øÆÊîπ‰∏∫‰Ω†Êîπ‰πãÂêéÁöÑÁ´ØÂè£Âè∑„ÄÇ</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> <span class="regexp">~* \.(png|jpg|jpeg)$</span> &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://127.0.0.1:3333;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>/etc/nginx/conf.d/blog.conf</code></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">listen</span> [::]:<span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span>  blog.<span class="number">502</span>.li;</span><br><span class="line">        <span class="attribute">set</span> <span class="variable">$base</span> /var/www/hexo/public;</span><br><span class="line">        <span class="attribute">root</span> <span class="variable">$base</span>/;</span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">index</span>  index.html;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~* \.(png|jpg|jpeg)$</span> &#123;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://127.0.0.1:3333;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">            <span class="attribute">proxy_hide_header</span> X-Powered-By;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> HOST <span class="variable">$http_host</span>;</span><br><span class="line">            <span class="attribute">add_header</span> Cache-Control <span class="string">'no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>‰∏çËøáÂú®Ê≠§ÈúÄË¶ÅÊ≥®ÊÑèÔºånginx ÁöÑ location Â≠óÊÆµÁöÑË∑ØÂæÑ‰∏ÄÂÆöË¶ÅÂíå webp server <code>config.json</code> ÈáåÁöÑ <code>IMG_PATH</code> Áõ∏ÂØπÂ∫îÔºå‰∏çÁÑ∂‰ºöÂØºËá¥ËØ∑Ê±ÇËµÑÊ∫êÁöÑ uri ‰∏é webp server ËΩ¨Êç¢ÂêéÁöÑÊñá‰ª∂Ë∑ØÂæÑ‰∏ç‰∏ÄËá¥ËÄåÂØºËá¥ËµÑÊ∫ê 404 „ÄÇËøòÊúâ‰∏ÄÁÇπÂ∞±ÊòØ location ÈÇ£Èáå‰∏çËÉΩ‰ªÖ‰ªÖÊ∑ªÂä† <code>proxy_pass http://127.0.0.1:3333;</code> ÔºåËøôÊ†∑ÊµèËßàÂô®ÁöÑ UA ‰ºöË¢´ nginx ÁªôÂêÉÊéâüòÑÔºånginx Â∞ÜËØ∑Ê±Ç proxy Áªô webp server ÂêéÊó†Ê≥ï‰ªé headers ÈÇ£ÈáåËé∑ÂèñÂà∞ UA ÔºåËÄåÂØºËá¥ <code>Safari</code> ÊµèËßàÂô®Êó†Ê≥ïÊ≠£Â∏∏ËæìÂá∫ÂéüÂõæ„ÄÇÊâÄ‰ª•‰ª•‰∏ãÂá†Ë°åÊ∑ªÂä†Âú® <code>proxy_pass</code> ‰∏ãÈù¢ÊòØÂøÖÈ°ªÁöÑÔºö</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">proxy_set_header</span> HOST <span class="variable">$http_host</span>;</span><br><span class="line"><span class="attribute">add_header</span> Cache-Control <span class="string">'no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0'</span>;</span><br></pre></td></tr></table></figure>
<p>Ê≠§Â§ñÊÑüË∞¢Â•ΩÂøÉËØªËÄÖÁöÑÊèêÈÜíÊâçÂèëÁé∞Ëøô‰∏™ bug üòò</p>
<p><img src="https://p.k8s.li/20200307102856702.png" alt=""></p>
<h3 id="3-ÂêØÂä®"><a href="#3-ÂêØÂä®" class="headerlink" title="3.ÂêØÂä®"></a>3.ÂêØÂä®</h3><p>ÊâãÂä®ËøêË°åËµ∑Êù•ÂæàÁÆÄÂçïÔºå<code>./webp-server -config /path/to/config.json</code> ÔºåÂ¶ÇÊûúËØ•ÊúçÂä°ÊåÇÊéâ‰∫ÜËµÑÊ∫êÂ∞± gg ‰∫ÜÔºåÊâÄ‰ª•ËøòÊòØÈÄâÁî®‰∏ÄÁßçÁ®≥ÂÆöÊåÅ‰πÖÂåñÁöÑËøêË°åÊñπÂºè„ÄÇÂí±Êé®Ëçê‰ΩøÁî® systemd Êù•ÂêØÂä®ÔºåËøôÊ†∑ webp server ÊúçÂä°ÊåÇÊéâ‰∫Ü‰πü‰ºöËá™Âä®ÊãâËµ∑ÈáçÂêØ‰∏Ä‰∏ã„ÄÇÈ¶ñÂÖàË¶ÅÂàõÂª∫Êàñ‰øÆÊîπ‰∏Ä‰∏ã <code>webps.service</code> ÈÖçÁΩÆÊñá‰ª∂„ÄÇ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=WebP Server</span><br><span class="line">Documentation=https://github.com/webp-sh/webp_server_go</span><br><span class="line">After=nginx.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">StandardError=journal</span><br><span class="line">AmbientCapabilities=CAP_NET_BIND_SERVICE</span><br><span class="line">WorkingDirectory=/opt/webps</span><br><span class="line">ExecStart=/opt/webps/webp-server --config /opt/webps/config.json</span><br><span class="line">ExecReload=/bin/<span class="built_in">kill</span> -HUP <span class="variable">$MAINPID</span></span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=3s</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<p>‰øÆÊîπ‰∏Ä‰∏ã <code>ExecStart=/opt/webps/webp-server --config /opt/webps/config.json</code> Âíå <code>WorkingDirectory=/opt/webps</code> ÂØπÂ∫îÁöÑË∑ØÂæÑ„ÄÇ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cp webps.service /lib/systemd/system/</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl <span class="built_in">enable</span> webps.service</span><br><span class="line">systemctl start webps.service</span><br></pre></td></tr></table></figure>
<h3 id="4-È¢ÑÂä†ËΩΩ"><a href="#4-È¢ÑÂä†ËΩΩ" class="headerlink" title="4.È¢ÑÂä†ËΩΩ"></a>4.È¢ÑÂä†ËΩΩ</h3><p>webp-server-go Êúâ‰∏™È¢ÑÂä†ËΩΩÁöÑÂäüËÉΩÔºåÂ∞±ÊòØÊèêÂâçÂ∞ÜÂÖ®ÈÉ®ÁöÑÂõæÁâáËµÑÊ∫êËøõË°å‰∏ÄÊ¨°ËΩ¨Êç¢ÔºåËøôÊ†∑ÂÜçÊ¨°ËÆøÈóÆÂõæÁâáËµÑÊ∫êÁöÑÊó∂ÂÄôÂ∞±‰∏çÂøÖÂÜçËøõË°åËΩ¨Êç¢ÔºåËÄåÁõ¥Êé•‰ΩøÁî®Â∑≤ÁªèËΩ¨Êç¢ÂêéÁöÑ webp Êñá‰ª∂Âç≥ÂèØ„ÄÇËøôÁõ∏ÂΩì‰∫é‰∏ÄÊ¨° ‚ÄúÁºìÂ≠ò‚Äù „ÄÇ</p>
<p>‰ΩøÁî® <code>./webp-server -jobs 1 -config config.json -prefetch</code> Êù•ËøõË°å‰∏ÄÊ¨°È¢ÑÂä†ËΩΩÔºåÂÖ∂‰∏≠ jobs ÂêéÈù¢ÁöÑÊï∞Â≠ó‰∏∫‰Ω† CPU ÁöÑÊ†∏ÂøÉÊï∞Ôºå‰πüÂèØ‰ª•‰∏çÁî®Âä†ÈªòËÆ§‰ΩøÁî®ÂÖ®ÈÉ®Ê†∏ÂøÉ„ÄÇ</p>
<h2 id="benchmark"><a href="#benchmark" class="headerlink" title="benchmark"></a>benchmark</h2><p>ËØ¥Âà∞ÊÄßËÉΩÔºåÂí±ÂøÖÈ°ªÂæóËøõË°å‰∏ÄÊ¨°ÂéãÊµãÊâçËÉΩÊîæÂøÉÂ§ßËÉÜÂú∞Êé®ËçêÂêÑ‰ΩçÈ£üÁî® webp server go Âï¶Ôºå‰∏ãÈù¢ÂæóÂ∞±ÊòØÂí±ÁöÑÊµãËØïÊï∞ÊçÆÊ†∑‰æã„ÄÇÂõæÁâáÁöÑÊµãËØïÊ†∑Êú¨ÊòØÂí±‰ΩøÁî® <a href="https://github.com/Tsuk1ko/pxder" target="_blank" rel="noopener">pxder</a> Áà¨‰∏ãÊù•ÁöÑÔºåÊÄªÂÖ± 10600 Âº†ÂõæÁâáÔºåÊÄªÂ§ßÂ∞è 11.1 GB„ÄÇÂ¶ÇÊûú‰Ω†‰πüÈúÄË¶ÅËøô‰∫õÊµãËØïÊ†∑Êú¨ÁöÑËØùÂèØ‰ª•ÁßÅËÅäÂí±ÂèëÁªô‰Ω†„ÄÇ‰∏ãÈù¢Â∞±ÊòØÁúüÂÆûÁöÑÊµãËØïÊï∞ÊçÆ„ÄÇÊµãËØïÁéØÂ¢ÉÊòØ 8 core √ó3.4G HzÔºåÊµãËØïÁâàÊú¨‰∏∫ <a href="https://github.com/webp-sh/webp_server_go/releases/tag/0.1.0" target="_blank" rel="noopener">v0.1.0</a> Ôºå‰ΩøÁî®ÁöÑÊòØÈªòËÆ§ÂèÇÊï∞ÈÖçÁΩÆ„ÄÇ</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"HOST"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">  <span class="attr">"PORT"</span>: <span class="string">"3333"</span>,</span><br><span class="line">  <span class="attr">"QUALITY"</span>: <span class="string">"80"</span>,</span><br><span class="line">  <span class="attr">"IMG_PATH"</span>: <span class="string">"./src"</span>,</span><br><span class="line">  <span class="attr">"EXHAUST_PATH"</span>: <span class="string">"./dist"</span>,</span><br><span class="line">  <span class="attr">"ALLOWED_TYPES"</span>: [<span class="string">"jpg"</span>,<span class="string">"png"</span>,<span class="string">"jpeg"</span>,<span class="string">"bmp"</span>,<span class="string">"gif"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://p.k8s.li/20200304191400500.png" alt=""></p>
<h3 id="ÊµãËØïÁªìÊûú"><a href="#ÊµãËØïÁªìÊûú" class="headerlink" title="ÊµãËØïÁªìÊûú"></a>ÊµãËØïÁªìÊûú</h3><table>
<thead>
<tr>
<th align="center">file_size_range</th>
<th align="center">file_num</th>
<th align="center">src_size</th>
<th align="center">dist_size</th>
<th align="center">total</th>
<th align="center">user</th>
<th align="center">system</th>
<th align="center">cpu</th>
<th align="center">core</th>
</tr>
</thead>
<tbody><tr>
<td align="center">(10KB,500KB)</td>
<td align="center">4600</td>
<td align="center">1.3G</td>
<td align="center">310M</td>
<td align="center">1:44.49</td>
<td align="center">905.41s</td>
<td align="center">9.55s</td>
<td align="center">875%</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">(500KB,1MB)</td>
<td align="center">3500</td>
<td align="center">2.4G</td>
<td align="center">361M</td>
<td align="center">2:04.81</td>
<td align="center">1092.50s</td>
<td align="center">7.98s</td>
<td align="center">881%</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">(1MB,4MB)</td>
<td align="center">2000</td>
<td align="center">3.8G</td>
<td align="center">342M</td>
<td align="center">2:32.64</td>
<td align="center">1345.73s</td>
<td align="center">10.84s</td>
<td align="center">888%</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">(4MB,32MB)</td>
<td align="center">500</td>
<td align="center">3.6G</td>
<td align="center">246M</td>
<td align="center">1:44.53</td>
<td align="center">916.91s</td>
<td align="center">12.03s</td>
<td align="center">888%</td>
<td align="center">8</td>
</tr>
</tbody></table>
<h4 id="‰∏çÂêåÊ†∏ÂøÉ-total-ÂØπÊØî"><a href="#‰∏çÂêåÊ†∏ÂøÉ-total-ÂØπÊØî" class="headerlink" title="‰∏çÂêåÊ†∏ÂøÉ total ÂØπÊØî"></a>‰∏çÂêåÊ†∏ÂøÉ total ÂØπÊØî</h4><table>
<thead>
<tr>
<th align="center">file_size_range</th>
<th align="center">file_num</th>
<th align="center">src_size</th>
<th align="center">dist_size</th>
<th align="center">8</th>
<th align="center">4</th>
<th align="center">2</th>
<th align="center">1</th>
</tr>
</thead>
<tbody><tr>
<td align="center">(10KB,500KB)</td>
<td align="center">4600</td>
<td align="center">1.3G</td>
<td align="center">310M</td>
<td align="center">1:44.49</td>
<td align="center">2:18.49</td>
<td align="center">3:36.05</td>
<td align="center">5:20.88</td>
</tr>
<tr>
<td align="center">(500KB,1MB)</td>
<td align="center">3500</td>
<td align="center">2.4G</td>
<td align="center">361M</td>
<td align="center">2:04.81</td>
<td align="center">2:49.46</td>
<td align="center">4:16.41</td>
<td align="center">6:28.97</td>
</tr>
<tr>
<td align="center">(1MB,4MB)</td>
<td align="center">2000</td>
<td align="center">3.8G</td>
<td align="center">342M</td>
<td align="center">2:32.64</td>
<td align="center">3:26.18</td>
<td align="center">5:22.15</td>
<td align="center">7:53.45</td>
</tr>
<tr>
<td align="center">(4MB,32MB)</td>
<td align="center">500</td>
<td align="center">3.6G</td>
<td align="center">246M</td>
<td align="center">1:44.53</td>
<td align="center">2:21.22</td>
<td align="center">3:39.16</td>
<td align="center">5:28.65</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 10KB-500KB</span></span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 1 -config config.json -prefetch  632.77s user 11.23s system 200% cpu 5:20.88 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 2 -config config.json -prefetch  639.31s user 8.77s system 299% cpu 3:36.05 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 4 -config config.json -prefetch  676.17s user 8.12s system 494% cpu 2:18.49 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 8 -config config.json -prefetch  905.41s user 9.55s system 875% cpu 1:44.49 total</span><br><span class="line"></span><br><span class="line"><span class="comment">### 500KB-1MB</span></span><br><span class="line"></span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 1 -config config.json -prefetch  767.45s user 10.14s system 199% cpu 6:28.97 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 2 -config config.json -prefetch  778.00s user 8.62s system 295% cpu 4:16.41 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 4 -config config.json -prefetch  831.38s user 7.62s system 495% cpu 2:49.46 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 8 -config config.json -prefetch  1092.50s user 7.98s system 881% cpu 2:04.81 total</span><br><span class="line"></span><br><span class="line"><span class="comment">### 1MB-4MB</span></span><br><span class="line"></span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 1 -config config.json -prefetch  934.22s user 12.45s system 199% cpu 7:53.45 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 2 -config config.json -prefetch  958.41s user 9.41s system 300% cpu 5:22.15 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 4 -config config.json -prefetch  1010.56s user 8.05s system 494% cpu 3:26.18 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 8 -config config.json -prefetch  1345.73s user 10.84s system 888% cpu 2:32.64 total</span><br><span class="line"></span><br><span class="line"><span class="comment">### 4MB-32MB</span></span><br><span class="line"></span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 1 -config config.json -prefetch  641.78s user 10.77s system 187% cpu 5:28.65 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 2 -config config.json -prefetch  643.19s user 9.73s system 297% cpu 3:39.16 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 4 -config config.json -prefetch  688.05s user 9.91s system 494% cpu 2:21.22 total</span><br><span class="line">./webp-server -<span class="built_in">jobs</span> 8 -config config.json -prefetch  916.91s user 12.03s system 888% cpu 1:44.53 total</span><br></pre></td></tr></table></figure>
<h3 id="ËΩ¨Êç¢ÂâçÂêéÂ§ßÂ∞èÂØπÊØî"><a href="#ËΩ¨Êç¢ÂâçÂêéÂ§ßÂ∞èÂØπÊØî" class="headerlink" title="ËΩ¨Êç¢ÂâçÂêéÂ§ßÂ∞èÂØπÊØî"></a>ËΩ¨Êç¢ÂâçÂêéÂ§ßÂ∞èÂØπÊØî</h3><p>‰ª•‰∏ãÂí±Â∞±Êà™Âèñ‰∏ÄÂ∞èÈÉ®ÂàÜÁöÑÊµãËØïÁªìÊûúÔºåÂÆåÊï¥ÁöÑÊó•ÂøóÊîæÂú®‰∫ÜÊàëÁöÑ gist ‰∏ä <strong><a href="https://gist.github.com/muzi502/4f7c4128895ac3f438e7a183df219661" target="_blank" rel="noopener">webp-server-go_test.log</a></strong> „ÄÇÂõæÁâáÈÉΩÊòØÁúüÊòØÁöÑÊï∞ÊçÆÔºåÊ†πÊçÆÊñá‰ª∂ÂêçÁöÑ ID ÂèØ‰ª•Âú® pixiv.net ‰∏äÊâæÂà∞Ê∫êÊñá‰ª∂ÔºåÁõ∏‰ø°ËÄÅÂè∏Êú∫‰ª¨ÈÉΩÊáÇÂæóüòÇ„ÄÇ</p>
<h4 id="10KB-500KB"><a href="#10KB-500KB" class="headerlink" title="(10KB,500KB)"></a>(10KB,500KB)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">./webp-server -<span class="built_in">jobs</span> 8 -config config.json -prefetch</span><br><span class="line">905.41s user 9.55s system 875% cpu 1:44.49 total</span><br><span class="line"></span><br><span class="line">src		    	dist		num</span><br><span class="line">1.3G			310M		4600</span><br><span class="line">63304866.png	495K		40K</span><br><span class="line">40881097.jpg	495K		118K</span><br><span class="line">21045662.jpg	495K		94K</span><br><span class="line">67888534.png	495K		73K</span><br><span class="line">50136421.jpg	495K		62K</span><br><span class="line">72636668.png	495K		113K</span><br><span class="line">55156014.jpg	495K		78K</span><br><span class="line">76671894.png	495K		59K</span><br><span class="line">64709121.png	495K		67K</span><br><span class="line">78336881.jpg	495K		77K</span><br><span class="line">57090512.png	494K		35K</span><br><span class="line">72153105.jpg	494K		64K</span><br><span class="line">62457185.png	494K		39K</span><br><span class="line">44892218.png	494K		96K</span><br><span class="line">39599640.jpg	494K		39K</span><br><span class="line">21428544.jpg	493K		76K</span><br><span class="line">65293876.jpg	493K		68K</span><br><span class="line">76098632.png	493K		80K</span><br><span class="line">65418239.jpg	493K		119K</span><br><span class="line">17900553.jpg	493K		51K</span><br><span class="line">61511853.jpg	493K		123K</span><br><span class="line">77984504.png	493K		56K</span><br><span class="line">54667116.jpg	493K		56K</span><br><span class="line">75357235.jpg	493K		67K</span><br><span class="line">21085426.jpg	492K		55K</span><br></pre></td></tr></table></figure>
<h4 id="500KB-1MB"><a href="#500KB-1MB" class="headerlink" title="(500KB,1MB)"></a>(500KB,1MB)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">./webp-server -<span class="built_in">jobs</span> 8 -config config.json -prefetch</span><br><span class="line">1092.50s user 7.98s system 881% cpu 2:04.81 total</span><br><span class="line"></span><br><span class="line">src				dist		num</span><br><span class="line">2.4G			361M		3500</span><br><span class="line"></span><br><span class="line">44937735.png	974K		74K</span><br><span class="line">56343106.png	974K		49K</span><br><span class="line">51320479.png	974K		73K</span><br><span class="line">68346957.jpg	974K		112K</span><br><span class="line">74882964.png	974K		150K</span><br><span class="line">76640395.jpg	974K		75K</span><br><span class="line">62034004.jpg	974K		110K</span><br><span class="line">59897148.jpg	974K		147K</span><br><span class="line">46287856.jpg	973K		68K</span><br><span class="line">54674488.jpg	973K		111K</span><br><span class="line">42265521.png	973K		51K</span><br><span class="line">40261146.jpg	973K		135K</span><br><span class="line">76815098.png	973K		77K</span><br><span class="line">57095484.png	973K		99K</span><br><span class="line">65354070.jpg	973K		206K</span><br><span class="line">24130390.jpg	973K		121K</span><br><span class="line">73753170.jpg	972K		106K</span><br><span class="line">64066680.jpg	972K		92K</span><br><span class="line">72175991.png	972K		49K</span><br><span class="line">53402985.png	972K		114K</span><br><span class="line">70710923.png	971K		63K</span><br><span class="line">76242996.png	971K		63K</span><br><span class="line">65736419.jpg	971K		728K</span><br><span class="line">70095856.png	971K		91K</span><br><span class="line">64284761.png	971K		53K</span><br><span class="line">73907152.jpg	971K		101K</span><br><span class="line">62120962.png	970K		85K</span><br><span class="line">22003560.png	970K		76K</span><br><span class="line">77293789.jpg	970K		116K</span><br><span class="line">68647243.png	970K		46K</span><br><span class="line">54618347.png	970K		59K</span><br><span class="line">79602155.jpg	969K		120K</span><br><span class="line">55491641.jpg	968K		119K</span><br><span class="line">53473372.png	968K		45K</span><br><span class="line">77569729.jpg	968K		69K</span><br><span class="line">57420240.png	968K		61K</span><br><span class="line">69798500.png	968K		74K</span><br><span class="line">63487148.png	968K		47K</span><br><span class="line">79687107.jpg	967K		164K</span><br><span class="line">70081772.jpg	966K		129K</span><br><span class="line">79623240.jpg	966K		133K</span><br><span class="line">72535236.jpg	966K		160K</span><br><span class="line">47680545.png	966K		162K</span><br></pre></td></tr></table></figure>
<h4 id="1MB-4MB"><a href="#1MB-4MB" class="headerlink" title="(1MB,4MB)"></a>(1MB,4MB)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">./webp-server -<span class="built_in">jobs</span> 8 -config config.json -prefetch</span><br><span class="line">1345.73s user 10.84s system 888% cpu 2:32.64 total</span><br><span class="line"></span><br><span class="line">src		  		dist		num</span><br><span class="line">3.8G			342M		2000</span><br><span class="line"></span><br><span class="line">73839511.png	4.1M		293K</span><br><span class="line">73839511.png	4.1M		293K</span><br><span class="line">66504933.png	4.1M		107K</span><br><span class="line">78316050.png	4.1M		319K</span><br><span class="line">74264931.png	4.1M		330K</span><br><span class="line">74412671.png	4.1M		186K</span><br><span class="line">77414892.png	4.1M		227K</span><br><span class="line">76442741.png	4.0M		191K</span><br><span class="line">71330750.png	4.0M		199K</span><br><span class="line">78361206.png	4.0M		153K</span><br><span class="line">68763693.png	4.0M		233K</span><br><span class="line">67222487.png	4.0M		368K</span><br><span class="line">68560466.png	4.0M		186K</span><br><span class="line">72437850.png	4.0M		282K</span><br><span class="line">67767752.png	4.0M		203K</span><br><span class="line">73597995.png	4.0M		432K</span><br><span class="line">71506633.png	4.0M		88K</span><br><span class="line">77601042.png	4.0M		726K</span><br><span class="line">77033762.png	4.0M		261K</span><br><span class="line">73436647.jpg	4.0M		514K</span><br><span class="line">78099751.png	4.0M		283K</span><br><span class="line">73165937.png	4.0M		202K</span><br><span class="line">74379006.png	4.0M		300K</span><br><span class="line">79274246.png	4.0M		191K</span><br><span class="line">69701132.png	4.0M		129K</span><br><span class="line">67455430.jpg	3.9M		397K</span><br><span class="line">73651880.png	3.9M		183K</span><br><span class="line">79152655.png	3.9M		298K</span><br><span class="line">73117385.png	3.9M		258K</span><br><span class="line">70281950.png	3.9M		314K</span><br><span class="line">68501346.png	3.9M		203K</span><br><span class="line">78895125.png	3.9M		310K</span><br><span class="line">70159814.png	3.9M		156K</span><br><span class="line">70764048.jpg	3.9M		437K</span><br></pre></td></tr></table></figure>
<h4 id="4MB-32MB"><a href="#4MB-32MB" class="headerlink" title="(4MB,32MB)"></a>(4MB,32MB)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">./webp-server -<span class="built_in">jobs</span> 8 -config config.json -prefetch</span><br><span class="line">916.91s user 12.03s system 888% cpu 1:44.53 total</span><br><span class="line"></span><br><span class="line">src				dist		num</span><br><span class="line">3.8G			3.8G		500</span><br><span class="line"></span><br><span class="line">78467499.png	32M		2.8M</span><br><span class="line">79620324.png	32M</span><br><span class="line">74975502.png	32M		3.0M</span><br><span class="line">74902740.png	31M		2.6M</span><br><span class="line">77032574.png	31M		2.5M</span><br><span class="line">77673519.png	30M		2.3M</span><br><span class="line">77298781.png	29M		1.4M</span><br><span class="line">77959551.png	27M		1.5M</span><br><span class="line">69987155.png	26M		649K</span><br><span class="line">74432253.png	25M		1.6M</span><br><span class="line">78994948.png	25M		923K</span><br><span class="line">77218195.png	24M		1.6M</span><br><span class="line">72379562.png	22M		251K</span><br><span class="line">77559996.png	22M		1.9M</span><br><span class="line">71522636.png	22M		1.3M</span><br><span class="line">78236671.png	21M		1.7M</span><br><span class="line">78033540.jpg	20M		2.7M</span><br><span class="line">70906047.png	19M		677K</span><br><span class="line">72498744.png	19M		882K</span><br><span class="line">73977640.png	19M		523K</span><br><span class="line">78757823.png	18M		1.5M</span><br><span class="line">71588979.png	18M		1.2M</span><br><span class="line">75747535.png	17M		1.2M</span><br><span class="line">71504158.png	17M		1.2M</span><br><span class="line">76969768.png	17M		1.4M</span><br><span class="line">77995994.png	17M		568K</span><br><span class="line">75340699.png	17M		1.4M</span><br><span class="line">69821163.png	16M		1.1M</span><br><span class="line">70050613.png	16M		1.1M</span><br><span class="line">76559411.png	15M		1.7M</span><br><span class="line">76576885.png	15M		853K</span><br><span class="line">75640746.png	15M		1.4M</span><br><span class="line">78188732.png	15M		1.4M</span><br><span class="line">73355141.png	15M		589K</span><br><span class="line">75977096.png	15M		1.4M</span><br><span class="line">72840608.jpg	15M		1.8M</span><br><span class="line">75665779.png	14M		1.5M</span><br><span class="line">77898275.png	14M		1.2M</span><br><span class="line">79663534.png	13M		1.2M</span><br><span class="line">76539246.png	13M		1.2M</span><br><span class="line">70598104.png	13M		840K</span><br><span class="line">78348611.jpg	13M		2.7M</span><br></pre></td></tr></table></figure>
<h2 id="ÂÆûÈôÖÊïàÊûú"><a href="#ÂÆûÈôÖÊïàÊûú" class="headerlink" title="ÂÆûÈôÖÊïàÊûú"></a>ÂÆûÈôÖÊïàÊûú</h2><p>‰∏∫‰∫ÜÂÅö‰∏™ÂØπÊØîÔºåÂí±‰ΩøÁî®  <code>hexo.502.li</code> Ëøô‰∏™ÂüüÂêç‰∏∫ÂØπÁÖßÁªÑÔºåÂç≥ËæìÂá∫Ê∫êÊñá‰ª∂Ôºå‰ΩøÁî® <code>blog.502.li</code> Ëøô‰∏™ÂüüÂêç‰∏∫ÂÆûÈ™åÁªÑÂä†‰∏ä webp server Êù•ÊµãËØïÔºåÂêÑ‰ΩçËØªËÄÖ‰πüÂèØ‰ª•ÂàÜÂà´ËÆøÈóÆËøô‰∏§‰∏™ÂüüÂêçÊù•ÂÆûÈôÖ‰ΩìÈ™å‰πãÈó¥ÁöÑÂ∑ÆÂà´ÔºåËÇâÁúºÂèØËßÅüòÇ„ÄÇ</p>
<h3 id="no-webps"><a href="#no-webps" class="headerlink" title="no webps"></a>no webps</h3><p>‰ºòÂåñÂª∫ËÆÆËÉΩËäÇÁúÅ 138s Ôºå‰πãÂâç‰πüÊúâËØªËÄÖÊôÆÈÅçÂèçÊò†ÂõæÁâáÊâìÂºÄÊûÅÊÖ¢</p>
<p><img src="https://p.k8s.li/no-webp.png" alt=""></p>
<h3 id="webps-yes"><a href="#webps-yes" class="headerlink" title="webps yes!"></a>webps yes!</h3><p>‰ºòÂåñÂª∫ËÆÆËÉΩËäÇÁúÅ 19s ÔºåÊØî‰∏çÈÄÇÁî® webp Êï¥Êï¥ÂáèÂ∞ë‰∫ÜÂ∞ÜËøë 2 minüòÇÔºåÁúãÊù•ÊïàÊûúÂèäÂÖ∂ÊòéÊòæÂëÄ„ÄÇ</p>
<p><img src="https://p.k8s.li/with-webp.png" alt=""></p>
<p>ÈÄâÊã©‰∏§ÁØáÂõæÁâáÊØîËæÉÂ§öÁöÑÂçöÂÆ¢ÔºåÊµãËØïÈìæÊé•‰∏∫ Ôºö</p>
<ul>
<li><code>https://blog.k8s.li/2020-Lunar-New-Year.html</code></li>
<li><code>https://blog.k8s.li/wd-hc310-dc-hdd.html</code></li>
<li><code>https://hexo.502.li/2020-Lunar-New-Year.html</code></li>
<li><code>https://hexo.502.li/wd-hc310-dc-hdd.html</code></li>
</ul>
<h2 id="Êé®ËçêÈòÖËØª"><a href="#Êé®ËçêÈòÖËØª" class="headerlink" title="Êé®ËçêÈòÖËØª"></a>Êé®ËçêÈòÖËØª</h2><ul>
<li><a href="https://nova.moe/re-introduce-webp-server/" target="_blank" rel="noopener">ËÆ©Á´ôÁÇπÂõæÁâáÂä†ËΩΩÈÄüÂ∫¶Êõ¥Âø´‚Äî‚ÄîÂºïÂÖ• WebP Server Êó†ÁºùËΩ¨Êç¢ÂõæÁâá‰∏∫ WebP</a></li>
<li><a href="https://await.moe/2020/02/note-about-encountered-memory-changes-for-no-reason-in-golang/" target="_blank" rel="noopener">ËÆ∞ Golang ‰∏ãÈÅáÂà∞ÁöÑ‰∏ÄÂõû„ÄåÊØ´Êó†Áî±Â§¥„ÄçÁöÑÂÜÖÂ≠òÊõ¥Êîπ</a></li>
<li><a href="https://await.moe/2020/02/webp-server-in-rust/" target="_blank" rel="noopener">WebP Server in Rust</a></li>
<li><a href="https://www.bennythink.com/flying-webp.html" target="_blank" rel="noopener">‰∏™‰∫∫ÁΩëÁ´ôÊó†ÁºùÂàáÊç¢ÂõæÁâáÂà∞ webp</a></li>
<li><a href="https://halo.run/archives/halo-and-webp" target="_blank" rel="noopener">‰ºòÈõÖÁöÑËÆ© Halo ÊîØÊåÅ webp ÂõæÁâáËæìÂá∫</a></li>
<li><a href="https://vince.xin/2018/09/12/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E2%80%94%E2%80%94%E4%BD%BF%E7%94%A8webp%E6%9D%A5%E4%BC%98%E5%8C%96%E4%BD%A0%E7%9A%84%E5%9B%BE%E7%89%87/" target="_blank" rel="noopener">ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñ‚Äî‚Äî‰ΩøÁî®webpÊù•‰ºòÂåñ‰Ω†ÁöÑÂõæÁâáxx</a></li>
<li><a href="https://aotu.io/notes/2016/06/23/explore-something-of-webp/index.html" target="_blank" rel="noopener">Êé¢Á©∂WebP‰∏Ä‰∫õ‰∫ãÂÑø</a></li>
<li><a href="https://developers.google.com/speed/webp" target="_blank" rel="noopener">A new image format for the Web</a></li>
</ul>
    </div>
      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag"><i class="fa fa-tag"></i> ÂçöÂÆ¢</a>
          </div>
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/linux-net-and-iptables.html" rel="prev" title="Linux ÁΩëÁªúÂíå iptables ËøêË°åÂéüÁêÜ">
      <i class="fa fa-chevron-left"></i> Linux ÁΩëÁªúÂíå iptables ËøêË°åÂéüÁêÜ
    </a></div>
      <div class="post-nav-item">
    <a href="/N1-openwrt.html" rel="next" title="N1 ÁõíÂ≠êÂà∑ÂÖ• OpenWrt Âπ∂ÈÉ®ÁΩ≤ K3s">
      N1 ÁõíÂ≠êÂà∑ÂÖ• OpenWrt Âπ∂ÈÉ®ÁΩ≤ K3s <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
  </article>
  </div>
          </div>
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
        </div>
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>
  <aside class="sidebar">
    <div class="sidebar-inner">
      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          ÊñáÁ´†ÁõÆÂΩï
        </li>
        <li class="sidebar-nav-overview">
          Á´ôÁÇπÊ¶ÇËßà
        </li>
      </ul>
      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#ÂäùÈÄÄ‰∏âËøûüòÇ"><span class="nav-number">1.</span> <span class="nav-text">ÂäùÈÄÄ‰∏âËøûüòÇ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WebP"><span class="nav-number">2.</span> <span class="nav-text">WebP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ÊîØÊåÅÊÉÖÂÜµ"><span class="nav-number">2.1.</span> <span class="nav-text">ÊîØÊåÅÊÉÖÂÜµ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#webp-sh"><span class="nav-number">3.</span> <span class="nav-text">webp-sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#È£üÁî®ÊåáÂçó"><span class="nav-number">4.</span> <span class="nav-text">È£üÁî®ÊåáÂçó</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-‰∏ãËΩΩ"><span class="nav-number">4.1.</span> <span class="nav-text">1. ‰∏ãËΩΩ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-ÈÖçÁΩÆ"><span class="nav-number">4.2.</span> <span class="nav-text">2. ÈÖçÁΩÆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-ÂêØÂä®"><span class="nav-number">4.3.</span> <span class="nav-text">3.ÂêØÂä®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-È¢ÑÂä†ËΩΩ"><span class="nav-number">4.4.</span> <span class="nav-text">4.È¢ÑÂä†ËΩΩ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#benchmark"><span class="nav-number">5.</span> <span class="nav-text">benchmark</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ÊµãËØïÁªìÊûú"><span class="nav-number">5.1.</span> <span class="nav-text">ÊµãËØïÁªìÊûú</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ËΩ¨Êç¢ÂâçÂêéÂ§ßÂ∞èÂØπÊØî"><span class="nav-number">5.2.</span> <span class="nav-text">ËΩ¨Êç¢ÂâçÂêéÂ§ßÂ∞èÂØπÊØî</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÂÆûÈôÖÊïàÊûú"><span class="nav-number">6.</span> <span class="nav-text">ÂÆûÈôÖÊïàÊûú</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#no-webps"><span class="nav-number">6.1.</span> <span class="nav-text">no webps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#webps-yes"><span class="nav-number">6.2.</span> <span class="nav-text">webps yes!</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Êé®ËçêÈòÖËØª"><span class="nav-number">7.</span> <span class="nav-text">Êé®ËçêÈòÖËØª</span></a></li></ol></div>
      </div>
      <!--/noindex-->
      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Êú®Â≠ê"
      src="https://blog.k8s.li/avatar.png">
  <p class="site-author-name" itemprop="name">Êú®Â≠ê</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">98</span>
          <span class="site-state-item-name">Êó•Âøó</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">ÂàÜÁ±ª</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">120</span>
        <span class="site-state-item-name">Ê†áÁ≠æ</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/muzi502" title="GitHub ‚Üí https:&#x2F;&#x2F;github.com&#x2F;muzi502" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:blog@502.li" title="E-Mail ‚Üí mailto:blog@502.li" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/muzi_ii" title="Twitter ‚Üí https:&#x2F;&#x2F;twitter.com&#x2F;muzi_ii" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://t.me/muzi_ii" title="Telegram ‚Üí https:&#x2F;&#x2F;t.me&#x2F;muzi_ii" rel="noopener" target="_blank"><i class="fa fa-fw fa-telegram"></i>Telegram</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://kindle.502.li/" title="Kindle ‚Üí https:&#x2F;&#x2F;kindle.502.li" rel="noopener" target="_blank"><i class="fa fa-fw fa-book"></i>Kindle</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tg.k8s.li/" title="Channel ‚Üí https:&#x2F;&#x2F;tg.k8s.li" rel="noopener" target="_blank"><i class="fa fa-fw fa-telegram"></i>Channel</a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS ‚Üí &#x2F;atom.xml"><i class="fa fa-fw fa-rss"></i>RSS</a>
      </span>
  </div>
      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>
      </div>
    </main>
    <footer class="footer">
      <div class="footer-inner">
<div class="copyright">
  &copy; 2018 ‚Äì 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Êú®Â≠ê</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">Á´ôÁÇπÊÄªÂ≠óÊï∞Ôºö</span>
    <span title="Á´ôÁÇπÊÄªÂ≠óÊï∞">1.4m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Á´ôÁÇπÈòÖËØªÊó∂Èïø &asymp;</span>
    <span title="Á´ôÁÇπÈòÖËØªÊó∂Èïø">39:50</span>
</div>
  <div class="powered-by">Áî± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> Âº∫ÂäõÈ©±Âä®
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">‰∏ªÈ¢ò ‚Äì <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>
      </div>
    </footer>
  </div>
  <script src="/lib/anime.min.js"></script>
<script src="/js/utils.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>
<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://muzi.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: {page: {
            url: "https://blog.k8s.li/oh-my-webpsh.html",
            identifier: "oh-my-webpsh.html",
            title: "ËÆ©ÂõæÁâáÈ£ûËµ∑Êù• oh-my-webp.sh ÔºÅ"
          }
        }
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://muzi.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>
</body>
</html>
